// threejs.org/license
(function(l,Ca){"object"===typeof exports&&"undefined"!==typeof module?Ca(exports):"function"===typeof define&&define.amd?define(["exports"],Ca):(l=l||self,Ca(l.THREE={}))})(this,function(l){function Ca(){}function D(a,b){this.x=a||0;this.y=b||0}function ea(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1}function n(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}function ia(){this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}
function X(a,b,c,d,e,f,g,h,k,m){Object.defineProperty(this,"id",{value:Xf++});this.uuid=P.generateUUID();this.name="";this.image=void 0!==a?a:X.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:X.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==e?e:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:1023;this.type=void 0!==h?h:1009;this.offset=new D(0,0);this.repeat=new D(1,1);this.center=new D(0,0);this.rotation=
0;this.matrixAutoUpdate=!0;this.matrix=new ia;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}function ba(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1}function Ta(a,b,c){this.width=a;this.height=b;this.scissor=new ba(0,0,a,b);this.scissorTest=!1;this.viewport=new ba(0,0,a,b);c=c||{};this.texture=new X(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,
c.encoding);this.texture.generateMipmaps=void 0!==c.generateMipmaps?c.generateMipmaps:!1;this.texture.minFilter=void 0!==c.minFilter?c.minFilter:1006;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function he(a,b,c){Ta.call(this,a,b,c);this.samples=4}function rb(a,b,c){Ta.call(this,a,b,c)}function sb(a,b,c,d,e,f,g,h,k,m,q,p){X.call(this,null,f,g,h,k,m,d,e,q,p);this.image=
{data:a,width:b,height:c};this.magFilter=void 0!==k?k:1003;this.minFilter=void 0!==m?m:1003;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}function Ha(a,b){this.min=void 0!==a?a:new n(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new n(-Infinity,-Infinity,-Infinity)}function Ua(a,b){this.center=void 0!==a?a:new n;this.radius=void 0!==b?b:0}function Va(a,b){this.normal=void 0!==a?a:new n(1,0,0);this.constant=void 0!==b?b:0}function Ad(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Va,void 0!==
b?b:new Va,void 0!==c?c:new Va,void 0!==d?d:new Va,void 0!==e?e:new Va,void 0!==f?f:new Va]}function O(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Sb(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=
e}}return b}function wa(a){for(var b={},c=0;c<a.length;c++){var d=Sb(a[c]),e;for(e in d)b[e]=d[e]}return b}function B(a,b,c){return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}function ie(){function a(e,f){!1!==c&&(d(e,f),b.requestAnimationFrame(a))}var b=null,c=!1,d=null;return{start:function(){!0!==c&&null!==d&&(b.requestAnimationFrame(a),c=!0)},stop:function(){c=!1},setAnimationLoop:function(a){d=a},setContext:function(a){b=a}}}function Yf(a){function b(b,c){var d=b.array,e=b.dynamic?
35048:35044,h=a.createBuffer();a.bindBuffer(c,h);a.bufferData(c,d,e);b.onUploadCallback();c=5126;d instanceof Float32Array?c=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c=5123:d instanceof Int16Array?c=5122:d instanceof Uint32Array?c=5125:d instanceof Int32Array?c=5124:d instanceof Int8Array?c=5120:d instanceof Uint8Array&&(c=5121);return{buffer:h,type:c,bytesPerElement:d.BYTES_PER_ELEMENT,version:b.version}}
var c=new WeakMap;return{get:function(a){a.isInterleavedBufferAttribute&&(a=a.data);return c.get(a)},remove:function(b){b.isInterleavedBufferAttribute&&(b=b.data);var d=c.get(b);d&&(a.deleteBuffer(d.buffer),c.delete(b))},update:function(d,e){d.isInterleavedBufferAttribute&&(d=d.data);var f=c.get(d);if(void 0===f)c.set(d,b(d,e));else if(f.version<d.version){var g=d,h=g.array,k=g.updateRange;a.bindBuffer(e,f.buffer);!1===g.dynamic?a.bufferData(e,h,35044):-1===k.count?a.bufferSubData(e,0,h):0===k.count?
console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(a.bufferSubData(e,k.offset*h.BYTES_PER_ELEMENT,h.subarray(k.offset,k.offset+k.count)),k.count=-1);f.version=d.version}}}}function Tb(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new n;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new B;this.vertexColors=Array.isArray(e)?
e:[];this.materialIndex=void 0!==f?f:0}function tb(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||tb.DefaultOrder}function je(){this.mask=1}function H(){Object.defineProperty(this,"id",{value:Zf++});this.uuid=P.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=H.DefaultUp.clone();var a=new n,b=new tb,c=new ea,d=new n(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,
{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new O},normalMatrix:{value:new ia}});this.matrix=new O;this.matrixWorld=new O;this.matrixAutoUpdate=H.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new je;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData=
{}}function Q(){Object.defineProperty(this,"id",{value:$f+=2});this.uuid=P.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=
!1}function I(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0}function Bc(a,b,c){I.call(this,new Int8Array(a),b,c)}function Cc(a,b,c){I.call(this,new Uint8Array(a),b,c)}function Dc(a,b,c){I.call(this,new Uint8ClampedArray(a),b,c)}function Ec(a,b,c){I.call(this,new Int16Array(a),
b,c)}function ub(a,b,c){I.call(this,new Uint16Array(a),b,c)}function Fc(a,b,c){I.call(this,new Int32Array(a),b,c)}function vb(a,b,c){I.call(this,new Uint32Array(a),b,c)}function C(a,b,c){I.call(this,new Float32Array(a),b,c)}function Gc(a,b,c){I.call(this,new Float64Array(a),b,c)}function Xe(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=
this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function Ye(a){if(0===a.length)return-Infinity;for(var b=a[0],c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}function E(){Object.defineProperty(this,"id",{value:ag+=2});this.uuid=P.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}
function Ub(a,b,c,d,e,f){Q.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new wb(a,b,c,d,e,f));this.mergeVertices()}function wb(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,xa,Fa,F){var r=f/xa,u=g/Fa,w=f/2,x=g/2,y=l/2;g=xa+1;var z=Fa+1,ma=f=0,R,G,A=new n;for(G=0;G<z;G++){var bb=G*u-x;for(R=0;R<g;R++)A[a]=(R*r-w)*d,A[b]=bb*e,A[c]=y,m.push(A.x,A.y,A.z),A[a]=0,A[b]=0,A[c]=0<l?1:-1,q.push(A.x,A.y,A.z),p.push(R/
xa),p.push(1-G/Fa),f+=1}for(G=0;G<Fa;G++)for(R=0;R<xa;R++)a=v+R+g*(G+1),b=v+(R+1)+g*(G+1),c=v+(R+1)+g*G,k.push(v+R+g*G,a,c),k.push(a,b,c),ma+=6;h.addGroup(t,ma,F);t+=ma;v+=f}E.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;a=a||1;b=b||1;c=c||1;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var k=[],m=[],q=[],p=[],v=0,t=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x",
"z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(k);this.addAttribute("position",new C(m,3));this.addAttribute("normal",new C(q,3));this.addAttribute("uv",new C(p,2))}function Ic(a,b,c,d){Q.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new zb(a,b,c,d));this.mergeVertices()}function zb(a,b,c,d){E.call(this);this.type="PlaneBufferGeometry";
this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,h=d+1,k=a/c,m=b/d,q=[],p=[],v=[],t=[];for(a=0;a<h;a++){var l=a*m-f;for(b=0;b<g;b++)p.push(b*k-e,-l,0),v.push(0,0,1),t.push(b/c),t.push(1-a/d)}for(a=0;a<d;a++)for(b=0;b<c;b++)e=b+g*(a+1),f=b+1+g*(a+1),h=b+1+g*a,q.push(b+g*a,e,h),q.push(e,f,h);this.setIndex(q);this.addAttribute("position",new C(p,3));this.addAttribute("normal",new C(v,3));this.addAttribute("uv",
new C(t,2))}function L(){Object.defineProperty(this,"id",{value:bg++});this.uuid=P.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.vertexTangents=this.flatShading=!1;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=
!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.visible=!0;this.userData={};this.needsUpdate=!0}function sa(a){L.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}
function Ab(a,b){this.origin=void 0!==a?a:new n;this.direction=void 0!==b?b:new n}function ta(a,b,c){this.a=void 0!==a?a:new n;this.b=void 0!==b?b:new n;this.c=void 0!==c?c:new n}function ka(a){L.call(this);this.type="MeshBasicMaterial";this.color=new B(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=
1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(a)}function ha(a,b){H.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new E;this.material=void 0!==b?b:new ka({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function cg(a,b,c,d){function e(a,c){b.buffers.color.setClear(a.r,a.g,a.b,c,d)}var f=new B(0),g=0,h,k,m=null,q=0;return{getClearColor:function(){return f},setClearColor:function(a,b){f.set(a);g=
void 0!==b?b:1;e(f,g)},getClearAlpha:function(){return g},setClearAlpha:function(a){g=a;e(f,g)},render:function(b,d,t,l){d=d.background;t=a.vr;(t=t.getSession&&t.getSession())&&"additive"===t.environmentBlendMode&&(d=null);null===d?(e(f,g),m=null,q=0):d&&d.isColor&&(e(d,1),l=!0,m=null,q=0);(a.autoClear||l)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===k&&(k=new ha(new wb(1,1,1),new sa({type:"BackgroundCubeMaterial",uniforms:Sb(Wa.cube.uniforms),
vertexShader:Wa.cube.vertexShader,fragmentShader:Wa.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),k.geometry.removeAttribute("normal"),k.geometry.removeAttribute("uv"),k.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},Object.defineProperty(k.material,"map",{get:function(){return this.uniforms.tCube.value}}),c.update(k));l=d.isWebGLRenderTargetCube?d.texture:d;k.material.uniforms.tCube.value=l;k.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?
1:-1;if(m!==d||q!==l.version)k.material.needsUpdate=!0,m=d,q=l.version;b.unshift(k,k.geometry,k.material,0,0,null)}else if(d&&d.isTexture){void 0===h&&(h=new ha(new zb(2,2),new sa({type:"BackgroundMaterial",uniforms:Sb(Wa.background.uniforms),vertexShader:Wa.background.vertexShader,fragmentShader:Wa.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.removeAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),c.update(h));
h.material.uniforms.t2D.value=d;!0===d.matrixAutoUpdate&&d.updateMatrix();h.material.uniforms.uvTransform.value.copy(d.matrix);if(m!==d||q!==d.version)h.material.needsUpdate=!0,m=d,q=d.version;b.unshift(h,h.geometry,h.material,0,0,null)}}}}function dg(a,b,c,d){var e;this.setMode=function(a){e=a};this.render=function(b,d){a.drawArrays(e,b,d);c.update(d,e)};this.renderInstances=function(f,g,h){if(d.isWebGL2)var k=a;else if(k=b.get("ANGLE_instanced_arrays"),null===k){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
return}k[d.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](e,g,h,f.maxInstancedCount);c.update(h,e,f.maxInstancedCount)}}function eg(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(35633,36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var e,f="undefined"!==typeof WebGL2RenderingContext&&
a instanceof WebGL2RenderingContext,g=void 0!==c.precision?c.precision:"highp",h=d(g);h!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",h,"instead."),g=h);c=!0===c.logarithmicDepthBuffer;h=a.getParameter(34930);var k=a.getParameter(35660),m=a.getParameter(3379),q=a.getParameter(34076),p=a.getParameter(34921),v=a.getParameter(36347),t=a.getParameter(36348),l=a.getParameter(36349),u=0<k,n=f||!!b.get("OES_texture_float"),z=u&&n,y=f?a.getParameter(36183):0;return{isWebGL2:f,getMaxAnisotropy:function(){if(void 0!==
e)return e;var c=b.get("EXT_texture_filter_anisotropic");return e=null!==c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:g,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:k,maxTextureSize:m,maxCubemapSize:q,maxAttributes:p,maxVertexUniforms:v,maxVaryings:t,maxFragmentUniforms:l,vertexTextures:u,floatFragmentTextures:n,floatVertexTextures:z,maxSamples:y}}function fg(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e;c.numIntersection=
0}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;k.getNormalMatrix(b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4)h.copy(a[e]).applyMatrix4(b,k),h.normal.toArray(g,d),g[d+3]=h.constant}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,h=new Va,k=new ia,m={value:null,needsUpdate:!1};this.uniform=m;this.numIntersection=this.numPlanes=0;this.init=function(a,c,g){var h=
0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return h};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,h,k,l,r,u){if(!f||null===c||0===c.length||g&&!k)g?b(null):a();else{k=g?0:e;var q=4*k,p=r.clippingState||null;m.value=p;p=b(c,l,q,u);for(c=0;c!==q;++c)p[c]=d[c];r.clippingState=p;this.numIntersection=h?this.numPlanes:0;this.numPlanes+=k}}}function gg(a){var b={};return{get:function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=
a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]=d}}}function hg(a,b,c){function d(a){var g=a.target;a=e[g.id];null!==a.index&&b.remove(a.index);for(var k in a.attributes)b.remove(a.attributes[k]);g.removeEventListener("dispose",d);delete e[g.id];if(k=f[a.id])b.remove(k),delete f[a.id];
c.memory.geometries--}var e={},f={};return{get:function(a,b){var f=e[b.id];if(f)return f;b.addEventListener("dispose",d);b.isBufferGeometry?f=b:b.isGeometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new E).setFromObject(a)),f=b._bufferGeometry);e[b.id]=f;c.memory.geometries++;return f},update:function(a){var c=a.index,d=a.attributes;null!==c&&b.update(c,34963);for(var e in d)b.update(d[e],34962);a=a.morphAttributes;for(e in a){c=a[e];d=0;for(var f=c.length;d<f;d++)b.update(c[d],34962)}},getWireframeAttribute:function(a){var c=
f[a.id];if(c)return c;c=[];var d=a.index,e=a.attributes;if(null!==d){d=d.array;e=0;for(var g=d.length;e<g;e+=3){var p=d[e+0],v=d[e+1],l=d[e+2];c.push(p,v,v,l,l,p)}}else for(d=e.position.array,e=0,g=d.length/3-1;e<g;e+=3)p=e+0,v=e+1,l=e+2,c.push(p,v,v,l,l,p);c=new (65535<Ye(c)?vb:ub)(c,1);b.update(c,34963);return f[a.id]=c}}}function ig(a,b,c,d){var e,f,g;this.setMode=function(a){e=a};this.setIndex=function(a){f=a.type;g=a.bytesPerElement};this.render=function(b,d){a.drawElements(e,d,f,b*g);c.update(d,
e)};this.renderInstances=function(h,k,m){if(d.isWebGL2)var q=a;else if(q=b.get("ANGLE_instanced_arrays"),null===q){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}q[d.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](e,m,f,k*g,h.maxInstancedCount);c.update(m,e,h.maxInstancedCount)}}function jg(a){var b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,
textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(a,d,e){e=e||1;b.calls++;switch(d){case 4:b.triangles+=a/3*e;break;case 5:case 6:b.triangles+=e*(a-2);break;case 1:b.lines+=a/2*e;break;case 3:b.lines+=e*(a-1);break;case 2:b.lines+=e*a;break;case 0:b.points+=e*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d)}}}}function kg(a,b){return Math.abs(b[1])-Math.abs(a[1])}function lg(a){var b={},c=
new Float32Array(8);return{update:function(d,e,f,g){var h=d.morphTargetInfluences,k=h.length;d=b[e.id];if(void 0===d){d=[];for(var m=0;m<k;m++)d[m]=[m,0];b[e.id]=d}var q=f.morphTargets&&e.morphAttributes.position;f=f.morphNormals&&e.morphAttributes.normal;for(m=0;m<k;m++){var p=d[m];0!==p[1]&&(q&&e.removeAttribute("morphTarget"+m),f&&e.removeAttribute("morphNormal"+m))}for(m=0;m<k;m++)p=d[m],p[0]=m,p[1]=h[m];d.sort(kg);for(m=0;8>m;m++){if(p=d[m])if(h=p[0],k=p[1]){q&&e.addAttribute("morphTarget"+m,
q[h]);f&&e.addAttribute("morphNormal"+m,f[h]);c[m]=k;continue}c[m]=0}g.getUniforms().setValue(a,"morphTargetInfluences",c)}}}function mg(a,b){var c={};return{update:function(d){var e=b.render.frame,f=d.geometry,g=a.get(d,f);c[g.id]!==e&&(f.isGeometry&&g.updateFromObject(d),a.update(g),c[g.id]=e);return g},dispose:function(){c={}}}}function cb(a,b,c,d,e,f,g,h,k,m){a=void 0!==a?a:[];X.call(this,a,void 0!==b?b:301,c,d,e,f,void 0!==g?g:1022,h,k,m);this.flipY=!1}function Vb(a,b,c,d){X.call(this,null);
this.image={data:a,width:b,height:c,depth:d};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1}function Wb(a,b,c,d){X.call(this,null);this.image={data:a,width:b,height:c,depth:d};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1}function Xb(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=Ze[e];void 0===f&&(f=new Float32Array(e),Ze[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(f,e);return f}function ya(a,
b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function na(a,b){for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}function $e(a,b){var c=af[b];void 0===c&&(c=new Int32Array(b),af[b]=c);for(var d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function ng(a,b){var c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function og(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else ya(c,
b)||(a.uniform2fv(this.addr,b),na(c,b))}function pg(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else ya(c,b)||(a.uniform3fv(this.addr,b),na(c,b))}function qg(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),
c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else ya(c,b)||(a.uniform4fv(this.addr,b),na(c,b))}function rg(a,b){var c=this.cache,d=b.elements;void 0===d?ya(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),na(c,b)):ya(c,d)||(bf.set(d),a.uniformMatrix2fv(this.addr,!1,bf),na(c,d))}function sg(a,b){var c=this.cache,d=b.elements;void 0===d?ya(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),na(c,b)):ya(c,d)||(cf.set(d),a.uniformMatrix3fv(this.addr,!1,cf),na(c,d))}function tg(a,b){var c=this.cache,d=b.elements;void 0===d?ya(c,
b)||(a.uniformMatrix4fv(this.addr,!1,b),na(c,b)):ya(c,d)||(df.set(d),a.uniformMatrix4fv(this.addr,!1,df),na(c,d))}function ug(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTexture2D(b||ef,e)}function vg(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture2DArray(b||wg,e)}function xg(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture3D(b||
yg,e)}function zg(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTextureCube(b||ff,e)}function Ag(a,b){var c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function Bg(a,b){var c=this.cache;ya(c,b)||(a.uniform2iv(this.addr,b),na(c,b))}function Cg(a,b){var c=this.cache;ya(c,b)||(a.uniform3iv(this.addr,b),na(c,b))}function Dg(a,b){var c=this.cache;ya(c,b)||(a.uniform4iv(this.addr,b),na(c,b))}function Eg(a){switch(a){case 5126:return ng;
case 35664:return og;case 35665:return pg;case 35666:return qg;case 35674:return rg;case 35675:return sg;case 35676:return tg;case 35678:case 36198:return ug;case 35679:return xg;case 35680:return zg;case 36289:return vg;case 5124:case 35670:return Ag;case 35667:case 35671:return Bg;case 35668:case 35672:return Cg;case 35669:case 35673:return Dg}}function Fg(a,b){a.uniform1fv(this.addr,b)}function Gg(a,b){a.uniform1iv(this.addr,b)}function Hg(a,b){a.uniform2iv(this.addr,b)}function Ig(a,b){a.uniform3iv(this.addr,
b)}function Jg(a,b){a.uniform4iv(this.addr,b)}function Kg(a,b){b=Xb(b,this.size,2);a.uniform2fv(this.addr,b)}function Lg(a,b){b=Xb(b,this.size,3);a.uniform3fv(this.addr,b)}function Mg(a,b){b=Xb(b,this.size,4);a.uniform4fv(this.addr,b)}function Ng(a,b){b=Xb(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}function Og(a,b){b=Xb(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}function Pg(a,b){b=Xb(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}function Qg(a,b,c){var d=b.length,e=$e(c,d);a.uniform1iv(this.addr,
e);for(a=0;a!==d;++a)c.safeSetTexture2D(b[a]||ef,e[a])}function Rg(a,b,c){var d=b.length,e=$e(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTextureCube(b[a]||ff,e[a])}function Sg(a){switch(a){case 5126:return Fg;case 35664:return Kg;case 35665:return Lg;case 35666:return Mg;case 35674:return Ng;case 35675:return Og;case 35676:return Pg;case 35678:return Qg;case 35680:return Rg;case 5124:case 35670:return Gg;case 35667:case 35671:return Hg;case 35668:case 35672:return Ig;case 35669:case 35673:return Jg}}
function Tg(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=Eg(b.type)}function gf(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=Sg(b.type)}function hf(a){this.id=a;this.seq=[];this.map={}}function jb(a,b){this.seq=[];this.map={};for(var c=a.getProgramParameter(b,35718),d=0;d<c;++d){var e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name),g=this,h=e.name,k=h.length;for(le.lastIndex=0;;){var m=le.exec(h),q=le.lastIndex,p=m[1],v=m[3];"]"===m[2]&&(p|=0);if(void 0===
v||"["===v&&q+2===k){h=g;e=void 0===v?new Tg(p,e,f):new gf(p,e,f);h.seq.push(e);h.map[e.id]=e;break}else v=g.map[p],void 0===v&&(v=new hf(p),p=g,g=v,p.seq.push(g),p.map[g.id]=g),g=v}}}function Ug(a){a=a.split("\n");for(var b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}function jf(a,b,c,d){var e=a.createShader(b);a.shaderSource(e,c);a.compileShader(e);!0===d&&(!1===a.getShaderParameter(e,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==a.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",
35633===b?"vertex":"fragment",a.getShaderInfoLog(e),Ug(c)));return e}function kf(a){switch(a){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function Bd(a,b){b=kf(b);return"vec4 "+a+"( vec4 value ) { return "+
b[0]+"ToLinear"+b[1]+"; }"}function Vg(a,b){b=kf(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function Wg(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="Uncharted2";break;case 4:b="OptimizedCineon";break;case 5:b="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+b);}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function Xg(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap&&!b.objectSpaceNormalMap||
b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jc).join("\n")}function Yg(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}
function Jc(a){return""!==a}function lf(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function mf(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function me(a){return a.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,
function(a,c){a=U[c];if(void 0===a)throw Error("Can not resolve #include <"+c+">");return me(a)})}function nf(a){return a.replace(/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(a,c,d,e){a="";for(c=parseInt(c);c<parseInt(d);c++)a+=e.replace(/\[ i \]/g,"[ "+c+" ]");return a})}function Zg(a,b,c,d,e,f,g,h){var k=a.context,m=d.defines,q=e.vertexShader,p=e.fragmentShader,v="SHADOWMAP_TYPE_BASIC";1===f.shadowMapType?v="SHADOWMAP_TYPE_PCF":2===f.shadowMapType&&
(v="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",r="ENVMAP_MODE_REFLECTION",u="ENVMAP_BLENDING_MULTIPLY";if(f.envMap){switch(d.envMap.mapping){case 301:case 302:l="ENVMAP_TYPE_CUBE";break;case 306:case 307:l="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:l="ENVMAP_TYPE_EQUIREC";break;case 305:l="ENVMAP_TYPE_SPHERE"}switch(d.envMap.mapping){case 302:case 304:r="ENVMAP_MODE_REFRACTION"}switch(d.combine){case 0:u="ENVMAP_BLENDING_MULTIPLY";break;case 1:u="ENVMAP_BLENDING_MIX";break;case 2:u="ENVMAP_BLENDING_ADD"}}var n=
0<a.gammaFactor?a.gammaFactor:1,z=g.isWebGL2?"":Xg(d.extensions,f,b),y=Yg(m),x=k.createProgram();d.isRawShaderMaterial?(m=[y].filter(Jc).join("\n"),0<m.length&&(m+="\n"),b=[z,y].filter(Jc).join("\n"),0<b.length&&(b+="\n")):(m=["precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,y,f.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+n,"#define MAX_BONES "+f.maxBones,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":
"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+r:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":
"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexTangents?"#define USE_TANGENT":"",f.vertexColors?"#define USE_COLOR":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.useVertexTexture?"#define BONE_TEXTURE":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&!1===f.flatShading?"#define USE_MORPHNORMALS":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":
"",f.shadowMapEnabled?"#define "+v:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&(g.isWebGL2||b.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT",
"\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;",
"\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Jc).join("\n"),b=[z,"precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,y,f.alphaTest?"#define ALPHATEST "+f.alphaTest+(f.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+n,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.matcap?"#define USE_MATCAP":
"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+l:"",f.envMap?"#define "+r:"",f.envMap?"#define "+u:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?
"#define USE_ALPHAMAP":"",f.vertexTangents?"#define USE_TANGENT":"",f.vertexColors?"#define USE_COLOR":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+v:"",f.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",f.logarithmicDepthBuffer&&(g.isWebGL2||b.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",f.envMap&&(g.isWebGL2||b.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==f.toneMapping?"#define TONE_MAPPING":"",0!==f.toneMapping?U.tonemapping_pars_fragment:"",0!==f.toneMapping?Wg("toneMapping",f.toneMapping):"",f.dithering?"#define DITHERING":"",f.outputEncoding||f.mapEncoding||f.matcapEncoding||f.envMapEncoding||f.emissiveMapEncoding?
U.encodings_pars_fragment:"",f.mapEncoding?Bd("mapTexelToLinear",f.mapEncoding):"",f.matcapEncoding?Bd("matcapTexelToLinear",f.matcapEncoding):"",f.envMapEncoding?Bd("envMapTexelToLinear",f.envMapEncoding):"",f.emissiveMapEncoding?Bd("emissiveMapTexelToLinear",f.emissiveMapEncoding):"",f.outputEncoding?Vg("linearToOutputTexel",f.outputEncoding):"",f.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(Jc).join("\n"));q=me(q);q=lf(q,f);q=mf(q,f);p=me(p);p=lf(p,f);p=mf(p,f);q=nf(q);
p=nf(p);g.isWebGL2&&!d.isRawShaderMaterial&&(g=!1,v=/^\s*#version\s+300\s+es\s*\n/,d.isShaderMaterial&&null!==q.match(v)&&null!==p.match(v)&&(g=!0,q=q.replace(v,""),p=p.replace(v,"")),m="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+m,b=["#version 300 es\n\n#define varying in",g?"":"out highp vec4 pc_fragColor;",g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+b);p=b+p;q=jf(k,35633,m+q,a.debug.checkShaderErrors);p=jf(k,35632,p,a.debug.checkShaderErrors);k.attachShader(x,q);k.attachShader(x,p);void 0!==d.index0AttributeName?k.bindAttribLocation(x,0,d.index0AttributeName):!0===f.morphTargets&&k.bindAttribLocation(x,0,"position");k.linkProgram(x);if(a.debug.checkShaderErrors){a=k.getProgramInfoLog(x).trim();f=k.getShaderInfoLog(q).trim();g=k.getShaderInfoLog(p).trim();l=v=!0;if(!1===k.getProgramParameter(x,35714))v=!1,console.error("THREE.WebGLProgram: shader error: ",
k.getError(),"35715",k.getProgramParameter(x,35715),"gl.getProgramInfoLog",a,f,g);else if(""!==a)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",a);else if(""===f||""===g)l=!1;l&&(this.diagnostics={runnable:v,material:d,programLog:a,vertexShader:{log:f,prefix:m},fragmentShader:{log:g,prefix:b}})}k.deleteShader(q);k.deleteShader(p);var A;this.getUniforms=function(){void 0===A&&(A=new jb(k,x,h));return A};var G;this.getAttributes=function(){if(void 0===G){for(var a={},b=k.getProgramParameter(x,
35721),c=0;c<b;c++){var d=k.getActiveAttrib(x,c).name;a[d]=k.getAttribLocation(x,d)}G=a}return G};this.destroy=function(){k.deleteProgram(x);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.name=e.name;this.id=$g++;this.code=c;this.usedTimes=
1;this.program=x;this.vertexShader=q;this.fragmentShader=p;return this}function ah(a,b,c,d){function e(a,b){if(a)a.isTexture?c=a.encoding:a.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=3E3;3E3===c&&b&&(c=3007);return c}var f=[],g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",
MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},h="precision supportsVertexTextures map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");
this.getParameters=function(b,d,f,h,v,l,r){var k=g[b.type];if(r.isSkinnedMesh){var m=r.skeleton.bones;if(c.floatVertexTextures)m=1024;else{var q=Math.min(Math.floor((c.maxVertexUniforms-20)/4),m.length);q<m.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+m.length+" bones. This GPU supports "+q+"."),m=0):m=q}}else m=0;q=c.precision;null!==b.precision&&(q=c.getMaxPrecision(b.precision),q!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",q,"instead."));
var p=a.getRenderTarget();return{shaderID:k,precision:q,supportsVertexTextures:c.vertexTextures,outputEncoding:e(p?p.texture:null,a.gammaOutput),map:!!b.map,mapEncoding:e(b.map,a.gammaInput),matcap:!!b.matcap,matcapEncoding:e(b.matcap,a.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:e(b.envMap,a.gammaInput),envMapCubeUV:!!b.envMap&&(306===b.envMap.mapping||307===b.envMap.mapping),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:e(b.emissiveMap,
a.gammaInput),bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:1===b.normalMapType,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexTangents:b.normalMap&&b.vertexTangents,vertexColors:b.vertexColors,fog:!!h,useFog:b.fog,fogExp:h&&h.isFogExp2,flatShading:b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,
skinning:b.skinning&&0<m,maxBones:m,useVertexTexture:c.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:d.directional.length,numPointLights:d.point.length,numSpotLights:d.spot.length,numRectAreaLights:d.rectArea.length,numHemiLights:d.hemi.length,numClippingPlanes:v,numClipIntersection:l,dithering:b.dithering,shadowMapEnabled:a.shadowMap.enabled&&r.receiveShadow&&0<f.length,shadowMapType:a.shadowMap.type,
toneMapping:a.toneMapping,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,alphaTest:b.alphaTest,doubleSided:2===b.side,flipSided:1===b.side,depthPacking:void 0!==b.depthPacking?b.depthPacking:!1}};this.getProgramCode=function(b,c){var d=[];c.shaderID?d.push(c.shaderID):(d.push(b.fragmentShader),d.push(b.vertexShader));if(void 0!==b.defines)for(var e in b.defines)d.push(e),d.push(b.defines[e]);for(e=0;e<h.length;e++)d.push(c[h[e]]);d.push(b.onBeforeCompile.toString());
d.push(a.gammaOutput);d.push(a.gammaFactor);return d.join()};this.acquireProgram=function(e,g,h,p){for(var k,m=0,q=f.length;m<q;m++){var l=f[m];if(l.code===p){k=l;++k.usedTimes;break}}void 0===k&&(k=new Zg(a,b,p,e,g,h,c,d),f.push(k));return k};this.releaseProgram=function(a){if(0===--a.usedTimes){var b=f.indexOf(a);f[b]=f[f.length-1];f.pop();a.destroy()}};this.programs=f}function bh(){var a=new WeakMap;return{get:function(b){var c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function(b){a.delete(b)},
update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap}}}function ch(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function dh(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-
b.id}function of(){function a(a,d,e,m,q,p){var g=b[c];void 0===g?(g={id:a.id,object:a,geometry:d,material:e,program:e.program||f,groupOrder:m,renderOrder:a.renderOrder,z:q,group:p},b[c]=g):(g.id=a.id,g.object=a,g.geometry=d,g.material=e,g.program=e.program||f,g.groupOrder=m,g.renderOrder=a.renderOrder,g.z=q,g.group=p);c++;return g}var b=[],c=0,d=[],e=[],f={id:-1};return{opaque:d,transparent:e,init:function(){c=0;d.length=0;e.length=0},push:function(b,c,f,m,q,p){b=a(b,c,f,m,q,p);(!0===f.transparent?
e:d).push(b)},unshift:function(b,c,f,m,q,p){b=a(b,c,f,m,q,p);(!0===f.transparent?e:d).unshift(b)},sort:function(){1<d.length&&d.sort(ch);1<e.length&&e.sort(dh)}}}function eh(){function a(c){c=c.target;c.removeEventListener("dispose",a);delete b[c.id]}var b={};return{get:function(c,d){var e=b[c.id];if(void 0===e){var f=new of;b[c.id]={};b[c.id][d.id]=f;c.addEventListener("dispose",a)}else f=e[d.id],void 0===f&&(f=new of,e[d.id]=f);return f},dispose:function(){b={}}}}function fh(){var a={};return{get:function(b){if(void 0!==
a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new n,color:new B,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new D};break;case "SpotLight":c={position:new n,direction:new n,color:new B,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new D};break;case "PointLight":c={position:new n,color:new B,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new D,shadowCameraNear:1,shadowCameraFar:1E3};break;
case "HemisphereLight":c={direction:new n,skyColor:new B,groundColor:new B};break;case "RectAreaLight":c={color:new B,position:new n,halfWidth:new n,halfHeight:new n}}return a[b.id]=c}}}function gh(){for(var a=new fh,b={id:hh++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],
pointShadowMap:[],pointShadowMatrix:[],hemi:[]},c=0;9>c;c++)b.probe.push(new n);var d=new n,e=new O,f=new O;return{setup:function(c,h,k){for(var g=0,q=0,p=0,v=0;9>v;v++)b.probe[v].set(0,0,0);var l=0,r=0,u=0,n=0,z=0;k=k.matrixWorldInverse;v=0;for(var y=c.length;v<y;v++){var x=c[v],A=x.color,G=x.intensity,xa=x.distance,Fa=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)g+=A.r*G,q+=A.g*G,p+=A.b*G;else if(x.isLightProbe)for(Fa=0;9>Fa;Fa++)b.probe[Fa].addScaledVector(x.sh.coefficients[Fa],
G);else if(x.isDirectionalLight){var F=a.get(x);F.color.copy(x.color).multiplyScalar(x.intensity);F.direction.setFromMatrixPosition(x.matrixWorld);d.setFromMatrixPosition(x.target.matrixWorld);F.direction.sub(d);F.direction.transformDirection(k);if(F.shadow=x.castShadow)G=x.shadow,F.shadowBias=G.bias,F.shadowRadius=G.radius,F.shadowMapSize=G.mapSize;b.directionalShadowMap[l]=Fa;b.directionalShadowMatrix[l]=x.shadow.matrix;b.directional[l]=F;l++}else if(x.isSpotLight){F=a.get(x);F.position.setFromMatrixPosition(x.matrixWorld);
F.position.applyMatrix4(k);F.color.copy(A).multiplyScalar(G);F.distance=xa;F.direction.setFromMatrixPosition(x.matrixWorld);d.setFromMatrixPosition(x.target.matrixWorld);F.direction.sub(d);F.direction.transformDirection(k);F.coneCos=Math.cos(x.angle);F.penumbraCos=Math.cos(x.angle*(1-x.penumbra));F.decay=x.decay;if(F.shadow=x.castShadow)G=x.shadow,F.shadowBias=G.bias,F.shadowRadius=G.radius,F.shadowMapSize=G.mapSize;b.spotShadowMap[u]=Fa;b.spotShadowMatrix[u]=x.shadow.matrix;b.spot[u]=F;u++}else if(x.isRectAreaLight)F=
a.get(x),F.color.copy(A).multiplyScalar(G),F.position.setFromMatrixPosition(x.matrixWorld),F.position.applyMatrix4(k),f.identity(),e.copy(x.matrixWorld),e.premultiply(k),f.extractRotation(e),F.halfWidth.set(.5*x.width,0,0),F.halfHeight.set(0,.5*x.height,0),F.halfWidth.applyMatrix4(f),F.halfHeight.applyMatrix4(f),b.rectArea[n]=F,n++;else if(x.isPointLight){F=a.get(x);F.position.setFromMatrixPosition(x.matrixWorld);F.position.applyMatrix4(k);F.color.copy(x.color).multiplyScalar(x.intensity);F.distance=
x.distance;F.decay=x.decay;if(F.shadow=x.castShadow)G=x.shadow,F.shadowBias=G.bias,F.shadowRadius=G.radius,F.shadowMapSize=G.mapSize,F.shadowCameraNear=G.camera.near,F.shadowCameraFar=G.camera.far;b.pointShadowMap[r]=Fa;b.pointShadowMatrix[r]=x.shadow.matrix;b.point[r]=F;r++}else x.isHemisphereLight&&(F=a.get(x),F.direction.setFromMatrixPosition(x.matrixWorld),F.direction.transformDirection(k),F.direction.normalize(),F.skyColor.copy(x.color).multiplyScalar(G),F.groundColor.copy(x.groundColor).multiplyScalar(G),
b.hemi[z]=F,z++)}b.ambient[0]=g;b.ambient[1]=q;b.ambient[2]=p;b.directional.length=l;b.spot.length=u;b.rectArea.length=n;b.point.length=r;b.hemi.length=z;b.hash.stateID=b.id;b.hash.directionalLength=l;b.hash.pointLength=r;b.hash.spotLength=u;b.hash.rectAreaLength=n;b.hash.hemiLength=z;b.hash.shadowsLength=h.length},state:b}}function pf(){var a=new gh,b=[],c=[];return{init:function(){b.length=0;c.length=0},state:{lightsArray:b,shadowsArray:c,lights:a},setupLights:function(d){a.setup(b,c,d)},pushLight:function(a){b.push(a)},
pushShadow:function(a){c.push(a)}}}function ih(){function a(c){c=c.target;c.removeEventListener("dispose",a);delete b[c.id]}var b={};return{get:function(c,d){if(void 0===b[c.id]){var e=new pf;b[c.id]={};b[c.id][d.id]=e;c.addEventListener("dispose",a)}else void 0===b[c.id][d.id]?(e=new pf,b[c.id][d.id]=e):e=b[c.id][d.id];return e},dispose:function(){b={}}}}function kb(a){L.call(this);this.type="MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=
this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(a)}function lb(a){L.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new n;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.lights=this.fog=!1;this.setValues(a)}function qf(a,b,c){function d(b,c,d,e,f,g){var h=
b.geometry;var k=p;var m=b.customDepthMaterial;d&&(k=v,m=b.customDistanceMaterial);m?k=m:(m=!1,c.morphTargets&&(h&&h.isBufferGeometry?m=h.morphAttributes&&h.morphAttributes.position&&0<h.morphAttributes.position.length:h&&h.isGeometry&&(m=h.morphTargets&&0<h.morphTargets.length)),b.isSkinnedMesh&&!1===c.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b),b=b.isSkinnedMesh&&c.skinning,h=0,m&&(h|=1),b&&(h|=2),k=k[h]);a.localClippingEnabled&&!0===
c.clipShadows&&0!==c.clippingPlanes.length&&(h=k.uuid,m=c.uuid,b=l[h],void 0===b&&(b={},l[h]=b),h=b[m],void 0===h&&(h=k.clone(),b[m]=h),k=h);k.visible=c.visible;k.wireframe=c.wireframe;k.side=null!=c.shadowSide?c.shadowSide:r[c.side];k.clipShadows=c.clipShadows;k.clippingPlanes=c.clippingPlanes;k.clipIntersection=c.clipIntersection;k.wireframeLinewidth=c.wireframeLinewidth;k.linewidth=c.linewidth;d&&k.isMeshDistanceMaterial&&(k.referencePosition.copy(e),k.nearDistance=f,k.farDistance=g);return k}
function e(c,g,h,k){if(!1!==c.visible){if(c.layers.test(g.layers)&&(c.isMesh||c.isLine||c.isPoints)&&c.castShadow&&(!c.frustumCulled||f.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,c.matrixWorld);var m=b.update(c),p=c.material;if(Array.isArray(p))for(var v=m.groups,l=0,t=v.length;l<t;l++){var r=v[l],u=p[r.materialIndex];u&&u.visible&&(u=d(c,u,k,q,h.near,h.far),a.renderBufferDirect(h,null,m,u,c,r))}else p.visible&&(u=d(c,p,k,q,h.near,h.far),a.renderBufferDirect(h,null,
m,u,c,null))}c=c.children;m=0;for(p=c.length;m<p;m++)e(c[m],g,h,k)}}var f=new Ad,g=new O,h=new D,k=new D(c,c),m=new n,q=new n,p=Array(4),v=Array(4),l={},r={0:1,1:0,2:2},u=[new n(1,0,0),new n(-1,0,0),new n(0,0,1),new n(0,0,-1),new n(0,1,0),new n(0,-1,0)],w=[new n(0,1,0),new n(0,1,0),new n(0,1,0),new n(0,1,0),new n(0,0,1),new n(0,0,-1)],z=[new ba,new ba,new ba,new ba,new ba,new ba];for(c=0;4!==c;++c){var y=0!==(c&1),x=0!==(c&2),A=new kb({depthPacking:3201,morphTargets:y,skinning:x});p[c]=A;y=new lb({morphTargets:y,
skinning:x});v[c]=y}var G=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(b,c,d){if(!1!==G.enabled&&(!1!==G.autoUpdate||!1!==G.needsUpdate)&&0!==b.length){var p=a.getRenderTarget(),v=a.getActiveCubeFace(),l=a.getActiveMipMapLevel(),t=a.state;t.setBlending(0);t.buffers.color.setClear(1,1,1,1);t.buffers.depth.setTest(!0);t.setScissorTest(!1);for(var r,n=0,ma=b.length;n<ma;n++){var R=b[n];r=R.shadow;var x=R&&R.isPointLight;if(void 0===r)console.warn("THREE.WebGLShadowMap:",
R,"has no shadow.");else{var y=r.camera;h.copy(r.mapSize);h.min(k);if(x){var A=h.x,F=h.y;z[0].set(2*A,F,A,F);z[1].set(0,F,A,F);z[2].set(3*A,F,A,F);z[3].set(A,F,A,F);z[4].set(3*A,0,A,F);z[5].set(A,0,A,F);h.x*=4;h.y*=2}null===r.map&&(r.map=new Ta(h.x,h.y,{minFilter:1003,magFilter:1003,format:1023}),r.map.texture.name=R.name+".shadowMap",y.updateProjectionMatrix());r.isSpotLightShadow&&r.update(R);A=r.map;F=r.matrix;q.setFromMatrixPosition(R.matrixWorld);y.position.copy(q);x?(r=6,F.makeTranslation(-q.x,
-q.y,-q.z)):(r=1,m.setFromMatrixPosition(R.target.matrixWorld),y.lookAt(m),y.updateMatrixWorld(),F.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),F.multiply(y.projectionMatrix),F.multiply(y.matrixWorldInverse));a.setRenderTarget(A);a.clear();for(R=0;R<r;R++)x&&(m.copy(y.position),m.add(u[R]),y.up.copy(w[R]),y.lookAt(m),y.updateMatrixWorld(),t.viewport(z[R])),g.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),f.setFromMatrix(g),e(c,d,y,x)}}G.needsUpdate=!1;a.setRenderTarget(p,v,l)}}}function jh(a,
b,c,d){function e(b,c,d){var e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,10241,9728);a.texParameteri(b,10240,9728);for(b=0;b<d;b++)a.texImage2D(c+b,0,6408,1,1,0,6408,5121,e);return f}function f(c,e){z[c]=1;0===y[c]&&(a.enableVertexAttribArray(c),y[c]=1);x[c]!==e&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](c,e),x[c]=e)}function g(b){!0!==A[b]&&(a.enable(b),A[b]=!0)}function h(b){!1!==A[b]&&(a.disable(b),
A[b]=!1)}function k(b,d,e,f,k,m,p,q){if(0===b)D&&(h(3042),D=!1);else if(D||(g(3042),D=!0),5!==b){if(b!==F||q!==ma){if(100!==ib||100!==Y)a.blendEquation(32774),Y=ib=100;if(q)switch(b){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",b)}else switch(b){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,
1);break;case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",b)}H=C=Hc=xb=null;F=b;ma=q}}else{k=k||d;m=m||e;p=p||f;if(d!==ib||k!==Y)a.blendEquationSeparate(c.convert(d),c.convert(k)),ib=d,Y=k;if(e!==xb||f!==Hc||m!==C||p!==H)a.blendFuncSeparate(c.convert(e),c.convert(f),c.convert(m),c.convert(p)),xb=e,Hc=f,C=m,H=p;F=b;ma=null}}function m(b){R!==b&&(b?a.frontFace(2304):a.frontFace(2305),R=b)}function q(b){0!==b?(g(2884),b!==ke&&
(1===b?a.cullFace(1029):2===b?a.cullFace(1028):a.cullFace(1032))):h(2884);ke=b}function p(b,c,d){if(b){if(g(32823),bb!==c||rf!==d)a.polygonOffset(c,d),bb=c,rf=d}else h(32823)}function v(b){void 0===b&&(b=33984+E-1);B!==b&&(a.activeTexture(b),B=b)}var l=new function(){var b=!1,c=new ba,d=null,e=new ba(0,0,0,0);return{setMask:function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function(a){b=a},setClear:function(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g);c.set(b,d,f,g);!1===e.equals(c)&&(a.clearColor(b,
d,f,g),e.copy(c))},reset:function(){b=!1;d=null;e.set(-1,0,0,0)}}},r=new function(){var b=!1,c=null,d=null,e=null;return{setTest:function(a){a?g(2929):h(2929)},setMask:function(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function(b){if(d!==b){if(b)switch(b){case 0:a.depthFunc(512);break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);
d=b}},setLocked:function(a){b=a},setClear:function(b){e!==b&&(a.clearDepth(b),e=b)},reset:function(){b=!1;e=d=c=null}}},u=new function(){var b=!1,c=null,d=null,e=null,f=null,k=null,m=null,p=null,q=null;return{setTest:function(a){a?g(2960):h(2960)},setMask:function(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function(b,c,g){if(d!==b||e!==c||f!==g)a.stencilFunc(b,c,g),d=b,e=c,f=g},setOp:function(b,c,d){if(k!==b||m!==c||p!==d)a.stencilOp(b,c,d),k=b,m=c,p=d},setLocked:function(a){b=a},setClear:function(b){q!==
b&&(a.clearStencil(b),q=b)},reset:function(){b=!1;q=p=m=k=f=e=d=c=null}}},n=a.getParameter(34921),z=new Uint8Array(n),y=new Uint8Array(n),x=new Uint8Array(n),A={},G=null,xa=null,D=null,F=null,ib=null,xb=null,Hc=null,Y=null,C=null,H=null,ma=!1,R=null,ke=null,yb=null,bb=null,rf=null,E=a.getParameter(35661),J=!1;n=0;n=a.getParameter(7938);-1!==n.indexOf("WebGL")?(n=parseFloat(/^WebGL ([0-9])/.exec(n)[1]),J=1<=n):-1!==n.indexOf("OpenGL ES")&&(n=parseFloat(/^OpenGL ES ([0-9])/.exec(n)[1]),J=2<=n);var B=
null,N={},O=new ba,Q=new ba,K={};K[3553]=e(3553,3553,1);K[34067]=e(34067,34069,6);l.setClear(0,0,0,1);r.setClear(1);u.setClear(0);g(2929);r.setFunc(3);m(!1);q(1);g(2884);k(0);return{buffers:{color:l,depth:r,stencil:u},initAttributes:function(){for(var a=0,b=z.length;a<b;a++)z[a]=0},enableAttribute:function(a){f(a,0)},enableAttributeAndDivisor:f,disableUnusedAttributes:function(){for(var b=0,c=y.length;b!==c;++b)y[b]!==z[b]&&(a.disableVertexAttribArray(b),y[b]=0)},enable:g,disable:h,getCompressedTextureFormats:function(){if(null===
G&&(G=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")||b.get("WEBGL_compressed_texture_astc")))for(var c=a.getParameter(34467),d=0;d<c.length;d++)G.push(c[d]);return G},useProgram:function(b){return xa!==b?(a.useProgram(b),xa=b,!0):!1},setBlending:k,setMaterial:function(a,b){2===a.side?h(2884):g(2884);var c=1===a.side;b&&(c=!c);m(c);1===a.blending&&!1===a.transparent?k(0):k(a.blending,a.blendEquation,a.blendSrc,a.blendDst,
a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha);r.setFunc(a.depthFunc);r.setTest(a.depthTest);r.setMask(a.depthWrite);l.setMask(a.colorWrite);p(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)},setFlipSided:m,setCullFace:q,setLineWidth:function(b){b!==yb&&(J&&a.lineWidth(b),yb=b)},setPolygonOffset:p,setScissorTest:function(a){a?g(3089):h(3089)},activeTexture:v,bindTexture:function(b,c){null===B&&v();var d=N[B];void 0===d&&(d={type:void 0,texture:void 0},N[B]=
d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||K[b]),d.type=b,d.texture=c},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(W){console.error("THREE.WebGLState:",W)}},scissor:function(b){!1===O.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),O.copy(b))},viewport:function(b){!1===
Q.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),Q.copy(b))},reset:function(){for(var b=0;b<y.length;b++)1===y[b]&&(a.disableVertexAttribArray(b),y[b]=0);A={};B=G=null;N={};ke=R=F=xa=null;l.reset();r.reset();u.reset()}}}function kh(a,b,c,d,e,f,g){function h(a,b){return Hc?new OffscreenCanvas(a,b):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function k(a,b,c,d){var e=1;if(a.width>d||a.height>d)e=d/Math.max(a.width,a.height);if(1>e||!0===b){if("undefined"!==typeof HTMLImageElement&&a instanceof
HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap)return d=b?P.floorPowerOfTwo:Math.floor,b=d(e*a.width),e=d(e*a.height),void 0===xb&&(xb=h(b,e)),c=c?h(b,e):xb,c.width=b,c.height=e,c.getContext("2d").drawImage(a,0,0,b,e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+a.width+"x"+a.height+") to ("+b+"x"+e+")."),c;"data"in a&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+
a.width+"x"+a.height+").")}return a}function m(a){return P.isPowerOfTwo(a.width)&&P.isPowerOfTwo(a.height)}function q(a,b){return a.generateMipmaps&&b&&1003!==a.minFilter&&1006!==a.minFilter}function p(b,c,e,f){a.generateMipmap(b);d.get(c).__maxMipLevel=Math.log(Math.max(e,f))*Math.LOG2E}function v(a,c){if(!e.isWebGL2)return a;var d=a;6403===a&&(5126===c&&(d=33326),5131===c&&(d=33325),5121===c&&(d=33321));6407===a&&(5126===c&&(d=34837),5131===c&&(d=34843),5121===c&&(d=32849));6408===a&&(5126===c&&
(d=34836),5131===c&&(d=34842),5121===c&&(d=32856));33325===d||33326===d||34842===d||34836===d?b.get("EXT_color_buffer_float"):(34843===d||34837===d)&&console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.");return d}function l(a){return 1003===a||1004===a||1005===a?9728:9729}function r(b){b=b.target;b.removeEventListener("dispose",r);var c=d.get(b);void 0!==c.__webglInit&&(a.deleteTexture(c.__webglTexture),d.remove(b));b.isVideoTexture&&
delete ib[b.id];g.memory.textures--}function u(b){b=b.target;b.removeEventListener("dispose",u);var c=d.get(b),e=d.get(b.texture);if(b){void 0!==e.__webglTexture&&a.deleteTexture(e.__webglTexture);b.depthTexture&&b.depthTexture.dispose();if(b.isWebGLRenderTargetCube)for(e=0;6>e;e++)a.deleteFramebuffer(c.__webglFramebuffer[e]),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer[e]);else a.deleteFramebuffer(c.__webglFramebuffer),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer);
d.remove(b.texture);d.remove(b)}g.memory.textures--}function n(a,b){var e=d.get(a);if(a.isVideoTexture){var f=a.id,h=g.render.frame;ib[f]!==h&&(ib[f]=h,a.update())}if(0<a.version&&e.__version!==a.version)if(f=a.image,void 0===f)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===f.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{G(e,a,b);return}c.activeTexture(33984+b);c.bindTexture(3553,e.__webglTexture)}
function z(b,g){var h=d.get(b);if(6===b.image.length)if(0<b.version&&h.__version!==b.version){A(h,b);c.activeTexture(33984+g);c.bindTexture(34067,h.__webglTexture);a.pixelStorei(37440,b.flipY);g=b&&b.isCompressedTexture;for(var l=b.image[0]&&b.image[0].isDataTexture,r=[],t=0;6>t;t++)r[t]=g||l?l?b.image[t].image:b.image[t]:k(b.image[t],!1,!0,e.maxCubemapSize);var u=r[0],n=m(u)||e.isWebGL2,w=f.convert(b.format),y=f.convert(b.type),G=v(w,y);x(34067,b,n);for(t=0;6>t;t++)if(g)for(var R,z=r[t].mipmaps,
ma=0,F=z.length;ma<F;ma++)R=z[ma],1023!==b.format&&1022!==b.format?-1<c.getCompressedTextureFormats().indexOf(w)?c.compressedTexImage2D(34069+t,ma,G,R.width,R.height,0,R.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+t,ma,G,R.width,R.height,0,w,y,R.data);else l?c.texImage2D(34069+t,0,G,r[t].width,r[t].height,0,w,y,r[t].data):c.texImage2D(34069+t,0,G,w,y,r[t]);h.__maxMipLevel=g?z.length-1:0;q(b,n)&&p(34067,b,
u.width,u.height);h.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else c.activeTexture(33984+g),c.bindTexture(34067,h.__webglTexture)}function y(a,b){c.activeTexture(33984+b);c.bindTexture(34067,d.get(a).__webglTexture)}function x(c,g,h){h?(a.texParameteri(c,10242,f.convert(g.wrapS)),a.texParameteri(c,10243,f.convert(g.wrapT)),32879!==c&&35866!==c||a.texParameteri(c,32882,f.convert(g.wrapR)),a.texParameteri(c,10240,f.convert(g.magFilter)),a.texParameteri(c,10241,f.convert(g.minFilter))):(a.texParameteri(c,
10242,33071),a.texParameteri(c,10243,33071),32879!==c&&35866!==c||a.texParameteri(c,32882,33071),1001===g.wrapS&&1001===g.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(c,10240,l(g.magFilter)),a.texParameteri(c,10241,l(g.minFilter)),1003!==g.minFilter&&1006!==g.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
!(h=b.get("EXT_texture_filter_anisotropic"))||1015===g.type&&null===b.get("OES_texture_float_linear")||1016===g.type&&null===(e.isWebGL2||b.get("OES_texture_half_float_linear"))||!(1<g.anisotropy||d.get(g).__currentAnisotropy)||(a.texParameterf(c,h.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(g.anisotropy,e.getMaxAnisotropy())),d.get(g).__currentAnisotropy=g.anisotropy)}function A(b,c){void 0===b.__webglInit&&(b.__webglInit=!0,c.addEventListener("dispose",r),b.__webglTexture=a.createTexture(),g.memory.textures++)}
function G(b,d,g){var h=3553;d.isDataTexture2DArray&&(h=35866);d.isDataTexture3D&&(h=32879);A(b,d);c.activeTexture(33984+g);c.bindTexture(h,b.__webglTexture);a.pixelStorei(37440,d.flipY);a.pixelStorei(37441,d.premultiplyAlpha);a.pixelStorei(3317,d.unpackAlignment);g=e.isWebGL2?!1:1001!==d.wrapS||1001!==d.wrapT||1003!==d.minFilter&&1006!==d.minFilter;g=g&&!1===m(d.image);g=k(d.image,g,!1,e.maxTextureSize);var l=m(g)||e.isWebGL2,t=f.convert(d.format),r=f.convert(d.type),u=v(t,r);x(h,d,l);var n=d.mipmaps;
if(d.isDepthTexture){u=6402;if(1015===d.type){if(!e.isWebGL2)throw Error("Float Depth Texture only supported in WebGL2.0");u=36012}else e.isWebGL2&&(u=33189);1026===d.format&&6402===u&&1012!==d.type&&1014!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),d.type=1012,r=f.convert(d.type));1027===d.format&&(u=34041,1020!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),d.type=
1020,r=f.convert(d.type)));c.texImage2D(3553,0,u,g.width,g.height,0,t,r,null)}else if(d.isDataTexture)if(0<n.length&&l){for(var w=0,y=n.length;w<y;w++)h=n[w],c.texImage2D(3553,w,u,h.width,h.height,0,t,r,h.data);d.generateMipmaps=!1;b.__maxMipLevel=n.length-1}else c.texImage2D(3553,0,u,g.width,g.height,0,t,r,g.data),b.__maxMipLevel=0;else if(d.isCompressedTexture){w=0;for(y=n.length;w<y;w++)h=n[w],1023!==d.format&&1022!==d.format?-1<c.getCompressedTextureFormats().indexOf(t)?c.compressedTexImage2D(3553,
w,u,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,w,u,h.width,h.height,0,t,r,h.data);b.__maxMipLevel=n.length-1}else if(d.isDataTexture2DArray)c.texImage3D(35866,0,u,g.width,g.height,g.depth,0,t,r,g.data),b.__maxMipLevel=0;else if(d.isDataTexture3D)c.texImage3D(32879,0,u,g.width,g.height,g.depth,0,t,r,g.data),b.__maxMipLevel=0;else if(0<n.length&&l){w=0;for(y=n.length;w<y;w++)h=n[w],c.texImage2D(3553,
w,u,t,r,h);d.generateMipmaps=!1;b.__maxMipLevel=n.length-1}else c.texImage2D(3553,0,u,t,r,g),b.__maxMipLevel=0;q(d,l)&&p(3553,d,g.width,g.height);b.__version=d.version;if(d.onUpdate)d.onUpdate(d)}function xa(b,e,g,h){var k=f.convert(e.texture.format),m=f.convert(e.texture.type),p=v(k,m);c.texImage2D(h,0,p,e.width,e.height,0,k,m,null);a.bindFramebuffer(36160,b);a.framebufferTexture2D(36160,g,h,d.get(e.texture).__webglTexture,0);a.bindFramebuffer(36160,null)}function D(b,c,d){a.bindRenderbuffer(36161,
b);if(c.depthBuffer&&!c.stencilBuffer)d?(d=F(c),a.renderbufferStorageMultisample(36161,d,33189,c.width,c.height)):a.renderbufferStorage(36161,33189,c.width,c.height),a.framebufferRenderbuffer(36160,36096,36161,b);else if(c.depthBuffer&&c.stencilBuffer)d?(d=F(c),a.renderbufferStorageMultisample(36161,d,34041,c.width,c.height)):a.renderbufferStorage(36161,34041,c.width,c.height),a.framebufferRenderbuffer(36160,33306,36161,b);else{b=f.convert(c.texture.format);var e=f.convert(c.texture.type);b=v(b,e);
d?(d=F(c),a.renderbufferStorageMultisample(36161,d,b,c.width,c.height)):a.renderbufferStorage(36161,b,c.width,c.height)}a.bindRenderbuffer(36161,null)}function F(a){return e.isWebGL2&&a.isWebGLMultisampleRenderTarget?Math.min(e.maxSamples,a.samples):0}var ib={},xb,Hc="undefined"!==typeof OffscreenCanvas,Y=0,C=!1,H=!1;this.allocateTextureUnit=function(){var a=Y;a>=e.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+a+" texture units while this GPU supports only "+e.maxTextures);Y+=1;
return a};this.resetTextureUnits=function(){Y=0};this.setTexture2D=n;this.setTexture2DArray=function(a,b){var e=d.get(a);0<a.version&&e.__version!==a.version?G(e,a,b):(c.activeTexture(33984+b),c.bindTexture(35866,e.__webglTexture))};this.setTexture3D=function(a,b){var e=d.get(a);0<a.version&&e.__version!==a.version?G(e,a,b):(c.activeTexture(33984+b),c.bindTexture(32879,e.__webglTexture))};this.setTextureCube=z;this.setTextureCubeDynamic=y;this.setupRenderTarget=function(b){var h=d.get(b),k=d.get(b.texture);
b.addEventListener("dispose",u);k.__webglTexture=a.createTexture();g.memory.textures++;var l=!0===b.isWebGLRenderTargetCube,r=!0===b.isWebGLMultisampleRenderTarget,t=m(b)||e.isWebGL2;if(l)for(h.__webglFramebuffer=[],r=0;6>r;r++)h.__webglFramebuffer[r]=a.createFramebuffer();else if(h.__webglFramebuffer=a.createFramebuffer(),r)if(e.isWebGL2){h.__webglMultisampledFramebuffer=a.createFramebuffer();h.__webglColorRenderbuffer=a.createRenderbuffer();a.bindRenderbuffer(36161,h.__webglColorRenderbuffer);r=
f.convert(b.texture.format);var w=f.convert(b.texture.type);r=v(r,w);w=F(b);a.renderbufferStorageMultisample(36161,w,r,b.width,b.height);a.bindFramebuffer(36160,h.__webglMultisampledFramebuffer);a.framebufferRenderbuffer(36160,36064,36161,h.__webglColorRenderbuffer);a.bindRenderbuffer(36161,null);b.depthBuffer&&(h.__webglDepthRenderbuffer=a.createRenderbuffer(),D(h.__webglDepthRenderbuffer,b,!0));a.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");
if(l){c.bindTexture(34067,k.__webglTexture);x(34067,b.texture,t);for(r=0;6>r;r++)xa(h.__webglFramebuffer[r],b,36064,34069+r);q(b.texture,t)&&p(34067,b.texture,b.width,b.height);c.bindTexture(34067,null)}else c.bindTexture(3553,k.__webglTexture),x(3553,b.texture,t),xa(h.__webglFramebuffer,b,36064,3553),q(b.texture,t)&&p(3553,b.texture,b.width,b.height),c.bindTexture(3553,null);if(b.depthBuffer){h=d.get(b);k=!0===b.isWebGLRenderTargetCube;if(b.depthTexture){if(k)throw Error("target.depthTexture not supported in Cube render targets");
if(b&&b.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");a.bindFramebuffer(36160,h.__webglFramebuffer);if(!b.depthTexture||!b.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(b.depthTexture).__webglTexture&&b.depthTexture.image.width===b.width&&b.depthTexture.image.height===b.height||(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0);
n(b.depthTexture,0);h=d.get(b.depthTexture).__webglTexture;if(1026===b.depthTexture.format)a.framebufferTexture2D(36160,36096,3553,h,0);else if(1027===b.depthTexture.format)a.framebufferTexture2D(36160,33306,3553,h,0);else throw Error("Unknown depthTexture format");}else if(k)for(h.__webglDepthbuffer=[],k=0;6>k;k++)a.bindFramebuffer(36160,h.__webglFramebuffer[k]),h.__webglDepthbuffer[k]=a.createRenderbuffer(),D(h.__webglDepthbuffer[k],b);else a.bindFramebuffer(36160,h.__webglFramebuffer),h.__webglDepthbuffer=
a.createRenderbuffer(),D(h.__webglDepthbuffer,b);a.bindFramebuffer(36160,null)}};this.updateRenderTargetMipmap=function(a){var b=a.texture,f=m(a)||e.isWebGL2;if(q(b,f)){f=a.isWebGLRenderTargetCube?34067:3553;var g=d.get(b).__webglTexture;c.bindTexture(f,g);p(f,b,a.width,a.height);c.bindTexture(f,null)}};this.updateMultisampleRenderTarget=function(b){if(b.isWebGLMultisampleRenderTarget)if(e.isWebGL2){var c=d.get(b);a.bindFramebuffer(36008,c.__webglMultisampledFramebuffer);a.bindFramebuffer(36009,c.__webglFramebuffer);
c=b.width;var f=b.height,g=16384;b.depthBuffer&&(g|=256);b.stencilBuffer&&(g|=1024);a.blitFramebuffer(0,0,c,f,0,0,c,f,g,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")};this.safeSetTexture2D=function(a,b){a&&a.isWebGLRenderTarget&&(!1===C&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),C=!0),a=a.texture);n(a,b)};this.safeSetTextureCube=function(a,b){a&&a.isWebGLRenderTargetCube&&
(!1===H&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),H=!0),a=a.texture);a&&a.isCubeTexture||Array.isArray(a.image)&&6===a.image.length?z(a,b):y(a,b)}}function sf(a,b,c){return{convert:function(a){if(1E3===a)return 10497;if(1001===a)return 33071;if(1002===a)return 33648;if(1003===a)return 9728;if(1004===a)return 9984;if(1005===a)return 9986;if(1006===a)return 9729;if(1007===a)return 9985;if(1008===a)return 9987;
if(1009===a)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1019===a)return 33635;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(1014===a)return 5125;if(1015===a)return 5126;if(1016===a){if(c.isWebGL2)return 5131;var d=b.get("OES_texture_half_float");if(null!==d)return d.HALF_FLOAT_OES}if(1021===a)return 6406;if(1022===a)return 6407;if(1023===a)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(1026===a)return 6402;if(1027===
a)return 34041;if(1028===a)return 6403;if(100===a)return 32774;if(101===a)return 32778;if(102===a)return 32779;if(200===a)return 0;if(201===a)return 1;if(202===a)return 768;if(203===a)return 769;if(204===a)return 770;if(205===a)return 771;if(206===a)return 772;if(207===a)return 773;if(208===a)return 774;if(209===a)return 775;if(210===a)return 776;if(33776===a||33777===a||33778===a||33779===a)if(d=b.get("WEBGL_compressed_texture_s3tc"),null!==d){if(33776===a)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===
a)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a)if(d=b.get("WEBGL_compressed_texture_pvrtc"),null!==d){if(35840===a)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a&&(d=b.get("WEBGL_compressed_texture_etc1"),
null!==d))return d.COMPRESSED_RGB_ETC1_WEBGL;if(37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a)if(d=b.get("WEBGL_compressed_texture_astc"),null!==d)return a;if(103===a||104===a){if(c.isWebGL2){if(103===a)return 32775;if(104===a)return 32776}d=b.get("EXT_blend_minmax");if(null!==d){if(103===a)return d.MIN_EXT;if(104===a)return d.MAX_EXT}}if(1020===a){if(c.isWebGL2)return 34042;d=b.get("WEBGL_depth_texture");
if(null!==d)return d.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Yb(){H.call(this);this.type="Group"}function Xa(){H.call(this);this.type="Camera";this.matrixWorldInverse=new O;this.projectionMatrix=new O;this.projectionMatrixInverse=new O}function ja(a,b,c,d){Xa.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}
function Lc(a){ja.call(this);this.cameras=a||[]}function tf(a,b,c){uf.setFromMatrixPosition(b.matrixWorld);vf.setFromMatrixPosition(c.matrixWorld);var d=uf.distanceTo(vf),e=b.projectionMatrix.elements,f=c.projectionMatrix.elements,g=e[14]/(e[10]-1);c=e[14]/(e[10]+1);var h=(e[9]+1)/e[5],k=(e[9]-1)/e[5],m=(e[8]-1)/e[0],q=(f[8]+1)/f[0];e=g*m;f=g*q;q=d/(-m+q);m=q*-m;b.matrixWorld.decompose(a.position,a.quaternion,a.scale);a.translateX(m);a.translateZ(q);a.matrixWorld.compose(a.position,a.quaternion,a.scale);
a.matrixWorldInverse.getInverse(a.matrixWorld);b=g+q;g=c+q;a.projectionMatrix.makePerspective(e-m,f+(d-m),h*c/g*b,k*c/g*b,b,g)}function wf(a){function b(){return null!==h&&!0===h.isPresenting}function c(){if(b()){var c=h.getEyeParameters("left");e=2*c.renderWidth*l;f=c.renderHeight*l;xa=a.getPixelRatio();a.getSize(G);a.setDrawingBufferSize(e,f,1);y.viewport.set(0,0,e/2,f);x.viewport.set(e/2,0,e/2,f);F.start()}else g.enabled&&a.setDrawingBufferSize(G.width,G.height,xa),F.stop()}function d(a,b){null!==
b&&4===b.length&&a.set(b[0]*e,b[1]*f,b[2]*e,b[3]*f)}var e,f,g=this,h=null,k=null,m=null,q=[],p=new O,v=new O,l=1,r="local-floor";"undefined"!==typeof window&&"VRFrameData"in window&&(k=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",c,!1));var u=new O,w=new ea,z=new n,y=new ja;y.viewport=new ba;y.layers.enable(1);var x=new ja;x.viewport=new ba;x.layers.enable(2);var A=new Lc([y,x]);A.layers.enable(1);A.layers.enable(2);var G=new D,xa,C=[];this.enabled=!1;this.getController=
function(a){var b=q[a];void 0===b&&(b=new Yb,b.matrixAutoUpdate=!1,b.visible=!1,q[a]=b);return b};this.getDevice=function(){return h};this.setDevice=function(a){void 0!==a&&(h=a);F.setContext(a)};this.setFramebufferScaleFactor=function(a){l=a};this.setReferenceSpaceType=function(a){r=a};this.setPoseTarget=function(a){void 0!==a&&(m=a)};this.getCamera=function(a){var c="local-floor"===r?1.6:0;if(!1===b())return a.position.set(0,c,0),a.rotation.set(0,0,0),a;h.depthNear=a.near;h.depthFar=a.far;h.getFrameData(k);
if("local-floor"===r){var e=h.stageParameters;e?p.fromArray(e.sittingToStandingTransform):p.makeTranslation(0,c,0)}c=k.pose;e=null!==m?m:a;e.matrix.copy(p);e.matrix.decompose(e.position,e.quaternion,e.scale);null!==c.orientation&&(w.fromArray(c.orientation),e.quaternion.multiply(w));null!==c.position&&(w.setFromRotationMatrix(p),z.fromArray(c.position),z.applyQuaternion(w),e.position.add(z));e.updateMatrixWorld();y.near=a.near;x.near=a.near;y.far=a.far;x.far=a.far;y.matrixWorldInverse.fromArray(k.leftViewMatrix);
x.matrixWorldInverse.fromArray(k.rightViewMatrix);v.getInverse(p);"local-floor"===r&&(y.matrixWorldInverse.multiply(v),x.matrixWorldInverse.multiply(v));a=e.parent;null!==a&&(u.getInverse(a.matrixWorld),y.matrixWorldInverse.multiply(u),x.matrixWorldInverse.multiply(u));y.matrixWorld.getInverse(y.matrixWorldInverse);x.matrixWorld.getInverse(x.matrixWorldInverse);y.projectionMatrix.fromArray(k.leftProjectionMatrix);x.projectionMatrix.fromArray(k.rightProjectionMatrix);tf(A,y,x);a=h.getLayers();a.length&&
(a=a[0],d(y.viewport,a.leftBounds),d(x.viewport,a.rightBounds));a:for(a=0;a<q.length;a++){c=q[a];b:{e=a;for(var f=navigator.getGamepads&&navigator.getGamepads(),g=0,l=0,t=f.length;g<t;g++){var n=f[g];if(n&&("Daydream Controller"===n.id||"Gear VR Controller"===n.id||"Oculus Go Controller"===n.id||"OpenVR Gamepad"===n.id||n.id.startsWith("Oculus Touch")||n.id.startsWith("Spatial Controller"))){if(l===e){e=n;break b}l++}}e=void 0}if(void 0!==e&&void 0!==e.pose){if(null===e.pose)break a;f=e.pose;!1===
f.hasPosition&&c.position.set(.2,-.6,-.05);null!==f.position&&c.position.fromArray(f.position);null!==f.orientation&&c.quaternion.fromArray(f.orientation);c.matrix.compose(c.position,c.quaternion,c.scale);c.matrix.premultiply(p);c.matrix.decompose(c.position,c.quaternion,c.scale);c.matrixWorldNeedsUpdate=!0;c.visible=!0;f="Daydream Controller"===e.id?0:1;void 0===C[a]&&(C[a]=!1);C[a]!==e.buttons[f].pressed&&(C[a]=e.buttons[f].pressed,!0===C[a]?c.dispatchEvent({type:"selectstart"}):(c.dispatchEvent({type:"selectend"}),
c.dispatchEvent({type:"select"})))}else c.visible=!1}return A};this.getStandingMatrix=function(){return p};this.isPresenting=b;var F=new ie;this.setAnimationLoop=function(a){F.setAnimationLoop(a);b()&&F.start()};this.submitFrame=function(){b()&&h.submitFrame()};this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",c)};this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function lh(a){function b(){return null!==
h&&null!==k}function c(a){for(var b=0;b<p.length;b++)v[b]===a.inputSource&&p[b].dispatchEvent({type:a.type})}function d(){a.setFramebuffer(null);a.setRenderTarget(a.getRenderTarget());z.stop()}function e(a){k=a;z.setContext(h);z.start()}function f(a,b){null===b?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(b.matrixWorld,a.matrix);a.matrixWorldInverse.getInverse(a.matrixWorld)}var g=a.context,h=null,k=null,m="local-floor",q=null,p=[],v=[],l=new ja;l.layers.enable(1);l.viewport=new ba;
var r=new ja;r.layers.enable(2);r.viewport=new ba;var u=new Lc([l,r]);u.layers.enable(1);u.layers.enable(2);this.enabled=!1;this.getController=function(a){var b=p[a];void 0===b&&(b=new Yb,b.matrixAutoUpdate=!1,b.visible=!1,p[a]=b);return b};this.setFramebufferScaleFactor=function(a){};this.setReferenceSpaceType=function(a){m=a};this.getSession=function(){return h};this.setSession=function(a){h=a;null!==h&&(h.addEventListener("select",c),h.addEventListener("selectstart",c),h.addEventListener("selectend",
c),h.addEventListener("end",d),h.updateRenderState({baseLayer:new XRWebGLLayer(h,g)}),h.requestReferenceSpace(m).then(e),v=h.inputSources,h.addEventListener("inputsourceschange",function(){v=h.inputSources;console.log(v);for(var a=0;a<p.length;a++)p[a].userData.inputSource=v[a]}))};this.getCamera=function(a){if(b()){var c=a.parent,d=u.cameras;f(u,c);for(var e=0;e<d.length;e++)f(d[e],c);a.matrixWorld.copy(u.matrixWorld);a=a.children;e=0;for(c=a.length;e<c;e++)a[e].updateMatrixWorld(!0);tf(u,l,r);return u}return a};
this.isPresenting=b;var n=null,z=new ie;z.setAnimationLoop(function(b,c){q=c.getViewerPose(k);if(null!==q){var d=q.views,e=h.renderState.baseLayer;a.setFramebuffer(e.framebuffer);for(var f=0;f<d.length;f++){var g=d[f],m=e.getViewport(g),l=u.cameras[f];l.matrix.fromArray(g.transform.inverse.matrix).getInverse(l.matrix);l.projectionMatrix.fromArray(g.projectionMatrix);l.viewport.set(m.x,m.y,m.width,m.height);0===f&&u.matrix.copy(l.matrix)}}for(f=0;f<p.length;f++){d=p[f];if(e=v[f])if(e=c.getPose(e.targetRaySpace,
k),null!==e){d.matrix.fromArray(e.transform.matrix);d.matrix.decompose(d.position,d.rotation,d.scale);d.visible=!0;continue}d.visible=!1}n&&n(b)});this.setAnimationLoop=function(a){n=a};this.dispose=function(){};this.getStandingMatrix=function(){console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed.");return new O};this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")};this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")};
this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")};this.submitFrame=function(){}}function ne(a){var b;function c(){la=new gg(M);Ea=new eg(M,la,a);Ea.isWebGL2||(la.get("WEBGL_depth_texture"),la.get("OES_texture_float"),la.get("OES_texture_half_float"),la.get("OES_texture_half_float_linear"),la.get("OES_standard_derivatives"),la.get("OES_element_index_uint"),la.get("ANGLE_instanced_arrays"));la.get("OES_texture_float_linear");
ka=new sf(M,la,Ea);da=new jh(M,la,ka,Ea);da.scissor(aa.copy(ia).multiplyScalar(ca));da.viewport(S.copy(ea).multiplyScalar(ca));ha=new jg(M);T=new bh;Z=new kh(M,la,da,T,Ea,ka,ha);ua=new Yf(M);va=new hg(M,ua,ha);qa=new mg(va,ha);za=new lg(M);pa=new ah(Y,la,Ea,Z);wa=new eh;sa=new ih;oa=new cg(Y,da,qa,xa);Ba=new dg(M,la,ha,Ea);Ca=new ig(M,la,ha,Ea);ha.programs=pa.programs;Y.context=M;Y.capabilities=Ea;Y.extensions=la;Y.properties=T;Y.renderLists=wa;Y.state=da;Y.info=ha}function d(a){a.preventDefault();
console.log("THREE.WebGLRenderer: Context Lost.");N=!0}function e(){console.log("THREE.WebGLRenderer: Context Restored.");N=!1;c()}function f(a){a=a.target;a.removeEventListener("dispose",f);g(a);T.remove(a)}function g(a){var b=T.get(a).program;a.program=void 0;void 0!==b&&pa.releaseProgram(b)}function h(a,b){a.render(function(a){Y.renderBufferImmediate(a,b)})}function k(a,b,c,d){if(!1!==a.visible){if(a.layers.test(b.layers))if(a.isGroup)c=a.renderOrder;else if(a.isLight)B.pushLight(a),a.castShadow&&
B.pushShadow(a);else if(a.isSprite){if(!a.frustumCulled||fa.intersectsSprite(a)){d&&mb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Kc);var e=qa.update(a),f=a.material;f.visible&&E.push(a,e,f,c,mb.z,null)}}else if(a.isImmediateRenderObject)d&&mb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Kc),E.push(a,null,a.material,c,mb.z,null);else if(a.isMesh||a.isLine||a.isPoints)if(a.isSkinnedMesh&&a.skeleton.update(),!a.frustumCulled||fa.intersectsObject(a))if(d&&mb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Kc),
e=qa.update(a),f=a.material,Array.isArray(f))for(var g=e.groups,h=0,m=g.length;h<m;h++){var p=g[h],q=f[p.materialIndex];q&&q.visible&&E.push(a,e,q,c,mb.z,p)}else f.visible&&E.push(a,e,f,c,mb.z,null);a=a.children;h=0;for(m=a.length;h<m;h++)k(a[h],b,c,d)}}function m(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,k=g.geometry,m=void 0===d?g.material:d;g=g.group;if(c.isArrayCamera){X=c;for(var p=c.cameras,l=0,v=p.length;l<v;l++){var r=p[l];h.layers.test(r.layers)&&(da.viewport(S.copy(r.viewport)),
B.setupLights(r),q(h,b,r,k,m,g))}}else X=null,q(h,b,c,k,m,g)}}function q(a,c,d,e,f,g){a.onBeforeRender(Y,c,d,e,f,g);B=sa.get(c,X||d);a.modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,a.matrixWorld);a.normalMatrix.getNormalMatrix(a.modelViewMatrix);if(a.isImmediateRenderObject){da.setMaterial(f);var k=l(d,c.fog,f,a);I=b=null;U=!1;h(a,k)}else Y.renderBufferDirect(d,c.fog,e,f,a,g);a.onAfterRender(Y,c,d,e,f,g);B=sa.get(c,X||d)}function p(a,b,c){var d=T.get(a),e=B.state.lights,h=d.lightsHash,k=e.state.hash;
c=pa.getParameters(a,e.state,B.state.shadowsArray,b,Ia.numPlanes,Ia.numIntersection,c);var m=pa.getProgramCode(a,c),p=d.program,q=!0;if(void 0===p)a.addEventListener("dispose",f);else if(p.code!==m)g(a);else{if(h.stateID!==k.stateID||h.directionalLength!==k.directionalLength||h.pointLength!==k.pointLength||h.spotLength!==k.spotLength||h.rectAreaLength!==k.rectAreaLength||h.hemiLength!==k.hemiLength||h.shadowsLength!==k.shadowsLength)h.stateID=k.stateID,h.directionalLength=k.directionalLength,h.pointLength=
k.pointLength,h.spotLength=k.spotLength,h.rectAreaLength=k.rectAreaLength,h.hemiLength=k.hemiLength,h.shadowsLength=k.shadowsLength;else if(void 0!==c.shaderID)return;q=!1}q&&(c.shaderID?(m=Wa[c.shaderID],d.shader={name:a.type,uniforms:Sb(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader}):d.shader={name:a.type,uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader},a.onBeforeCompile(d.shader,Y),m=pa.getProgramCode(a,c),p=pa.acquireProgram(a,d.shader,
c,m),d.program=p,a.program=p);c=p.getAttributes();if(a.morphTargets)for(m=a.numSupportedMorphTargets=0;m<Y.maxMorphTargets;m++)0<=c["morphTarget"+m]&&a.numSupportedMorphTargets++;if(a.morphNormals)for(m=a.numSupportedMorphNormals=0;m<Y.maxMorphNormals;m++)0<=c["morphNormal"+m]&&a.numSupportedMorphNormals++;c=d.shader.uniforms;if(!a.isShaderMaterial&&!a.isRawShaderMaterial||!0===a.clipping)d.numClippingPlanes=Ia.numPlanes,d.numIntersection=Ia.numIntersection,c.clippingPlanes=Ia.uniform;d.fog=b;void 0===
h&&(d.lightsHash=h={});h.stateID=k.stateID;h.directionalLength=k.directionalLength;h.pointLength=k.pointLength;h.spotLength=k.spotLength;h.rectAreaLength=k.rectAreaLength;h.hemiLength=k.hemiLength;h.shadowsLength=k.shadowsLength;a.lights&&(c.ambientLightColor.value=e.state.ambient,c.lightProbe.value=e.state.probe,c.directionalLights.value=e.state.directional,c.spotLights.value=e.state.spot,c.rectAreaLights.value=e.state.rectArea,c.pointLights.value=e.state.point,c.hemisphereLights.value=e.state.hemi,
c.directionalShadowMap.value=e.state.directionalShadowMap,c.directionalShadowMatrix.value=e.state.directionalShadowMatrix,c.spotShadowMap.value=e.state.spotShadowMap,c.spotShadowMatrix.value=e.state.spotShadowMatrix,c.pointShadowMap.value=e.state.pointShadowMap,c.pointShadowMatrix.value=e.state.pointShadowMatrix);a=d.program.getUniforms();a=jb.seqWithValue(a.seq,c);d.uniformsList=a}function l(a,b,c,d){Z.resetTextureUnits();var e=T.get(c),f=e.lightsHash,g=B.state.lights.state.hash;Cd&&(ta||a!==V)&&
Ia.setState(c.clippingPlanes,c.clipIntersection,c.clipShadows,a,e,a===V&&c.id===bb);!1===c.needsUpdate&&(void 0===e.program?c.needsUpdate=!0:c.fog&&e.fog!==b?c.needsUpdate=!0:!c.lights||f.stateID===g.stateID&&f.directionalLength===g.directionalLength&&f.pointLength===g.pointLength&&f.spotLength===g.spotLength&&f.rectAreaLength===g.rectAreaLength&&f.hemiLength===g.hemiLength&&f.shadowsLength===g.shadowsLength?void 0===e.numClippingPlanes||e.numClippingPlanes===Ia.numPlanes&&e.numIntersection===Ia.numIntersection||
(c.needsUpdate=!0):c.needsUpdate=!0);c.needsUpdate&&(p(c,b,d),c.needsUpdate=!1);var h=!1,k=!1,m=!1;f=e.program;g=f.getUniforms();var q=e.shader.uniforms;da.useProgram(f.program)&&(m=k=h=!0);c.id!==bb&&(bb=c.id,k=!0);if(h||V!==a){g.setValue(M,"projectionMatrix",a.projectionMatrix);Ea.logarithmicDepthBuffer&&g.setValue(M,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));V!==a&&(V=a,m=k=!0);if(c.isShaderMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.envMap)h=g.map.cameraPosition,void 0!==
h&&h.setValue(M,mb.setFromMatrixPosition(a.matrixWorld));(c.isMeshPhongMaterial||c.isMeshLambertMaterial||c.isMeshBasicMaterial||c.isMeshStandardMaterial||c.isShaderMaterial||c.skinning)&&g.setValue(M,"viewMatrix",a.matrixWorldInverse)}if(c.skinning&&(g.setOptional(M,d,"bindMatrix"),g.setOptional(M,d,"bindMatrixInverse"),a=d.skeleton))if(h=a.bones,Ea.floatVertexTextures){if(void 0===a.boneTexture){h=Math.sqrt(4*h.length);h=P.ceilPowerOfTwo(h);h=Math.max(h,4);var l=new Float32Array(h*h*4);l.set(a.boneMatrices);
var v=new sb(l,h,h,1023,1015);v.needsUpdate=!0;a.boneMatrices=l;a.boneTexture=v;a.boneTextureSize=h}g.setValue(M,"boneTexture",a.boneTexture,Z);g.setValue(M,"boneTextureSize",a.boneTextureSize)}else g.setOptional(M,a,"boneMatrices");k&&(g.setValue(M,"toneMappingExposure",Y.toneMappingExposure),g.setValue(M,"toneMappingWhitePoint",Y.toneMappingWhitePoint),c.lights&&(k=m,q.ambientLightColor.needsUpdate=k,q.lightProbe.needsUpdate=k,q.directionalLights.needsUpdate=k,q.pointLights.needsUpdate=k,q.spotLights.needsUpdate=
k,q.rectAreaLights.needsUpdate=k,q.hemisphereLights.needsUpdate=k),b&&c.fog&&(q.fogColor.value.copy(b.color),b.isFog?(q.fogNear.value=b.near,q.fogFar.value=b.far):b.isFogExp2&&(q.fogDensity.value=b.density)),c.isMeshBasicMaterial?t(q,c):c.isMeshLambertMaterial?(t(q,c),c.emissiveMap&&(q.emissiveMap.value=c.emissiveMap)):c.isMeshPhongMaterial?(t(q,c),c.isMeshToonMaterial?(r(q,c),c.gradientMap&&(q.gradientMap.value=c.gradientMap)):r(q,c)):c.isMeshStandardMaterial?(t(q,c),c.isMeshPhysicalMaterial?(u(q,
c),q.reflectivity.value=c.reflectivity,q.clearCoat.value=c.clearCoat,q.clearCoatRoughness.value=c.clearCoatRoughness):u(q,c)):c.isMeshMatcapMaterial?(t(q,c),c.matcap&&(q.matcap.value=c.matcap),c.bumpMap&&(q.bumpMap.value=c.bumpMap,q.bumpScale.value=c.bumpScale,1===c.side&&(q.bumpScale.value*=-1)),c.normalMap&&(q.normalMap.value=c.normalMap,q.normalScale.value.copy(c.normalScale),1===c.side&&q.normalScale.value.negate()),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=
c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isMeshDepthMaterial?(t(q,c),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isMeshDistanceMaterial?(t(q,c),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias),q.referencePosition.value.copy(c.referencePosition),q.nearDistance.value=
c.nearDistance,q.farDistance.value=c.farDistance):c.isMeshNormalMaterial?(t(q,c),c.bumpMap&&(q.bumpMap.value=c.bumpMap,q.bumpScale.value=c.bumpScale,1===c.side&&(q.bumpScale.value*=-1)),c.normalMap&&(q.normalMap.value=c.normalMap,q.normalScale.value.copy(c.normalScale),1===c.side&&q.normalScale.value.negate()),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isLineBasicMaterial?(q.diffuse.value.copy(c.color),
q.opacity.value=c.opacity,c.isLineDashedMaterial&&(q.dashSize.value=c.dashSize,q.totalSize.value=c.dashSize+c.gapSize,q.scale.value=c.scale)):c.isPointsMaterial?(q.diffuse.value.copy(c.color),q.opacity.value=c.opacity,q.size.value=c.size*ca,q.scale.value=.5*W,q.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),q.uvTransform.value.copy(c.map.matrix))):c.isSpriteMaterial?(q.diffuse.value.copy(c.color),q.opacity.value=c.opacity,q.rotation.value=c.rotation,q.map.value=c.map,
null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),q.uvTransform.value.copy(c.map.matrix))):c.isShadowMaterial&&(q.color.value.copy(c.color),q.opacity.value=c.opacity),void 0!==q.ltc_1&&(q.ltc_1.value=J.LTC_1),void 0!==q.ltc_2&&(q.ltc_2.value=J.LTC_2),jb.upload(M,e.uniformsList,q,Z));c.isShaderMaterial&&!0===c.uniformsNeedUpdate&&(jb.upload(M,e.uniformsList,q,Z),c.uniformsNeedUpdate=!1);c.isSpriteMaterial&&g.setValue(M,"center",d.center);g.setValue(M,"modelViewMatrix",d.modelViewMatrix);
g.setValue(M,"normalMatrix",d.normalMatrix);g.setValue(M,"modelMatrix",d.matrixWorld);return f}function t(a,b){a.opacity.value=b.opacity;b.color&&a.diffuse.value.copy(b.color);b.emissive&&a.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity);b.map&&(a.map.value=b.map);b.alphaMap&&(a.alphaMap.value=b.alphaMap);b.specularMap&&(a.specularMap.value=b.specularMap);b.envMap&&(a.envMap.value=b.envMap,a.flipEnvMap.value=b.envMap.isCubeTexture?-1:1,a.reflectivity.value=b.reflectivity,a.refractionRatio.value=
b.refractionRatio,a.maxMipLevel.value=T.get(b.envMap).__maxMipLevel);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.aoMap&&(a.aoMap.value=b.aoMap,a.aoMapIntensity.value=b.aoMapIntensity);if(b.map)var c=b.map;else b.specularMap?c=b.specularMap:b.displacementMap?c=b.displacementMap:b.normalMap?c=b.normalMap:b.bumpMap?c=b.bumpMap:b.roughnessMap?c=b.roughnessMap:b.metalnessMap?c=b.metalnessMap:b.alphaMap?c=b.alphaMap:b.emissiveMap&&(c=b.emissiveMap);void 0!==
c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),a.uvTransform.value.copy(c.matrix))}function r(a,b){a.specular.value.copy(b.specular);a.shininess.value=Math.max(b.shininess,1E-4);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,1===b.side&&(a.bumpScale.value*=-1));b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),1===b.side&&a.normalScale.value.negate());b.displacementMap&&
(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function u(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,1===b.side&&(a.bumpScale.value*=-1));b.normalMap&&(a.normalMap.value=
b.normalMap,a.normalScale.value.copy(b.normalScale),1===b.side&&a.normalScale.value.negate());b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}console.log("THREE.WebGLRenderer","105");a=a||{};var w=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),z=void 0!==a.context?a.context:null,y=void 0!==a.alpha?
a.alpha:!1,x=void 0!==a.depth?a.depth:!0,A=void 0!==a.stencil?a.stencil:!0,G=void 0!==a.antialias?a.antialias:!1,xa=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,C=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,F=void 0!==a.powerPreference?a.powerPreference:"default",H=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1,E=null,B=null;this.domElement=w;this.context=null;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=this.autoClearDepth=
this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var Y=this,N=!1,Q=null,ma=0,R=0,L=null,yb=null,bb=-1;var I=b=null;var U=!1;var V=null,X=null,S=new ba,aa=new ba,ja=null,K=w.width,W=w.height,ca=1,ea=new ba(0,0,K,W),ia=new ba(0,0,K,W),ra=!1,fa=new Ad,Ia=new fg,
Cd=!1,ta=!1,Kc=new O,mb=new n;try{y={alpha:y,depth:x,stencil:A,antialias:G,premultipliedAlpha:xa,preserveDrawingBuffer:C,powerPreference:F,failIfMajorPerformanceCaveat:H,xrCompatible:!0};w.addEventListener("webglcontextlost",d,!1);w.addEventListener("webglcontextrestored",e,!1);var M=z||w.getContext("webgl",y)||w.getContext("experimental-webgl",y);if(null===M){if(null!==w.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");
}void 0===M.getShaderPrecisionFormat&&(M.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(xf){throw console.error("THREE.WebGLRenderer: "+xf.message),xf;}var la,Ea,da,ha,T,Z,ua,va,qa,pa,wa,sa,oa,za,Ba,Ca,ka;c();var na="undefined"!==typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new lh(Y):new wf(Y);this.vr=na;var Da=new qf(Y,qa,Ea.maxTextureSize);this.shadowMap=Da;this.getContext=function(){return M};this.getContextAttributes=function(){return M.getContextAttributes()};
this.forceContextLoss=function(){var a=la.get("WEBGL_lose_context");a&&a.loseContext()};this.forceContextRestore=function(){var a=la.get("WEBGL_lose_context");a&&a.restoreContext()};this.getPixelRatio=function(){return ca};this.setPixelRatio=function(a){void 0!==a&&(ca=a,this.setSize(K,W,!1))};this.getSize=function(a){void 0===a&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),a=new D);return a.set(K,W)};this.setSize=function(a,b,c){na.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):
(K=a,W=b,w.width=a*ca,w.height=b*ca,!1!==c&&(w.style.width=a+"px",w.style.height=b+"px"),this.setViewport(0,0,a,b))};this.getDrawingBufferSize=function(a){void 0===a&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),a=new D);return a.set(K*ca,W*ca)};this.setDrawingBufferSize=function(a,b,c){K=a;W=b;ca=c;w.width=a*c;w.height=b*c;this.setViewport(0,0,a,b)};this.getCurrentViewport=function(a){void 0===a&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),
a=new ba);return a.copy(S)};this.getViewport=function(a){return a.copy(ea)};this.setViewport=function(a,b,c,d){a.isVector4?ea.set(a.x,a.y,a.z,a.w):ea.set(a,b,c,d);da.viewport(S.copy(ea).multiplyScalar(ca))};this.getScissor=function(a){return a.copy(ia)};this.setScissor=function(a,b,c,d){a.isVector4?ia.set(a.x,a.y,a.z,a.w):ia.set(a,b,c,d);da.scissor(aa.copy(ia).multiplyScalar(ca))};this.getScissorTest=function(){return ra};this.setScissorTest=function(a){da.setScissorTest(ra=a)};this.getClearColor=
function(){return oa.getClearColor()};this.setClearColor=function(){oa.setClearColor.apply(oa,arguments)};this.getClearAlpha=function(){return oa.getClearAlpha()};this.setClearAlpha=function(){oa.setClearAlpha.apply(oa,arguments)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=16384;if(void 0===b||b)d|=256;if(void 0===c||c)d|=1024;M.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};
this.dispose=function(){w.removeEventListener("webglcontextlost",d,!1);w.removeEventListener("webglcontextrestored",e,!1);wa.dispose();sa.dispose();T.dispose();qa.dispose();na.dispose();ya.stop()};this.renderBufferImmediate=function(a,b){da.initAttributes();var c=T.get(a);a.hasPositions&&!c.position&&(c.position=M.createBuffer());a.hasNormals&&!c.normal&&(c.normal=M.createBuffer());a.hasUvs&&!c.uv&&(c.uv=M.createBuffer());a.hasColors&&!c.color&&(c.color=M.createBuffer());b=b.getAttributes();a.hasPositions&&
(M.bindBuffer(34962,c.position),M.bufferData(34962,a.positionArray,35048),da.enableAttribute(b.position),M.vertexAttribPointer(b.position,3,5126,!1,0,0));a.hasNormals&&(M.bindBuffer(34962,c.normal),M.bufferData(34962,a.normalArray,35048),da.enableAttribute(b.normal),M.vertexAttribPointer(b.normal,3,5126,!1,0,0));a.hasUvs&&(M.bindBuffer(34962,c.uv),M.bufferData(34962,a.uvArray,35048),da.enableAttribute(b.uv),M.vertexAttribPointer(b.uv,2,5126,!1,0,0));a.hasColors&&(M.bindBuffer(34962,c.color),M.bufferData(34962,
a.colorArray,35048),da.enableAttribute(b.color),M.vertexAttribPointer(b.color,3,5126,!1,0,0));da.disableUnusedAttributes();M.drawArrays(4,0,a.count);a.count=0};this.renderBufferDirect=function(a,c,d,e,f,g){var h=f.isMesh&&0>f.matrixWorld.determinant();da.setMaterial(e,h);var k=l(a,c,e,f),m=!1;if(b!==d.id||I!==k.id||U!==(!0===e.wireframe))b=d.id,I=k.id,U=!0===e.wireframe,m=!0;f.morphTargetInfluences&&(za.update(f,d,e,k),m=!0);h=d.index;var q=d.attributes.position;c=1;!0===e.wireframe&&(h=va.getWireframeAttribute(d),
c=2);a=Ba;if(null!==h){var p=ua.get(h);a=Ca;a.setIndex(p)}if(m){if(d&&d.isInstancedBufferGeometry&&!Ea.isWebGL2&&null===la.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{da.initAttributes();m=d.attributes;k=k.getAttributes();var v=e.defaultAttributeValues;for(A in k){var r=k[A];if(0<=r){var t=m[A];if(void 0!==t){var u=t.normalized,n=t.itemSize,w=ua.get(t);
if(void 0!==w){var x=w.buffer,y=w.type;w=w.bytesPerElement;if(t.isInterleavedBufferAttribute){var G=t.data,z=G.stride;t=t.offset;G&&G.isInstancedInterleavedBuffer?(da.enableAttributeAndDivisor(r,G.meshPerAttribute),void 0===d.maxInstancedCount&&(d.maxInstancedCount=G.meshPerAttribute*G.count)):da.enableAttribute(r);M.bindBuffer(34962,x);M.vertexAttribPointer(r,n,y,u,z*w,t*w)}else t.isInstancedBufferAttribute?(da.enableAttributeAndDivisor(r,t.meshPerAttribute),void 0===d.maxInstancedCount&&(d.maxInstancedCount=
t.meshPerAttribute*t.count)):da.enableAttribute(r),M.bindBuffer(34962,x),M.vertexAttribPointer(r,n,y,u,0,0)}}else if(void 0!==v&&(u=v[A],void 0!==u))switch(u.length){case 2:M.vertexAttrib2fv(r,u);break;case 3:M.vertexAttrib3fv(r,u);break;case 4:M.vertexAttrib4fv(r,u);break;default:M.vertexAttrib1fv(r,u)}}}da.disableUnusedAttributes()}null!==h&&M.bindBuffer(34963,p.buffer)}p=Infinity;null!==h?p=h.count:void 0!==q&&(p=q.count);h=d.drawRange.start*c;q=null!==g?g.start*c:0;var A=Math.max(h,q);g=Math.max(0,
Math.min(p,h+d.drawRange.count*c,q+(null!==g?g.count*c:Infinity))-1-A+1);if(0!==g){if(f.isMesh)if(!0===e.wireframe)da.setLineWidth(e.wireframeLinewidth*(null===L?ca:1)),a.setMode(1);else switch(f.drawMode){case 0:a.setMode(4);break;case 1:a.setMode(5);break;case 2:a.setMode(6)}else f.isLine?(e=e.linewidth,void 0===e&&(e=1),da.setLineWidth(e*(null===L?ca:1)),f.isLineSegments?a.setMode(1):f.isLineLoop?a.setMode(2):a.setMode(3)):f.isPoints?a.setMode(0):f.isSprite&&a.setMode(4);d&&d.isInstancedBufferGeometry?
0<d.maxInstancedCount&&a.renderInstances(d,A,g):a.render(A,g)}};this.compile=function(a,b){B=sa.get(a,b);B.init();a.traverse(function(a){a.isLight&&(B.pushLight(a),a.castShadow&&B.pushShadow(a))});B.setupLights(b);a.traverse(function(b){if(b.material)if(Array.isArray(b.material))for(var c=0;c<b.material.length;c++)p(b.material[c],a.fog,b);else p(b.material,a.fog,b)})};var Aa=null,ya=new ie;ya.setAnimationLoop(function(a){na.isPresenting()||Aa&&Aa(a)});"undefined"!==typeof window&&ya.setContext(window);
this.setAnimationLoop=function(a){Aa=a;na.setAnimationLoop(a);ya.start()};this.render=function(a,c,d,e){if(void 0!==d){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var f=d}if(void 0!==e){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var g=e}c&&c.isCamera?N||(I=b=null,U=!1,bb=-1,V=null,!0===a.autoUpdate&&a.updateMatrixWorld(),null===c.parent&&c.updateMatrixWorld(),
na.enabled&&(c=na.getCamera(c)),B=sa.get(a,c),B.init(),a.onBeforeRender(Y,a,c,f||L),Kc.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),fa.setFromMatrix(Kc),ta=this.localClippingEnabled,Cd=Ia.init(this.clippingPlanes,ta,c),E=wa.get(a,c),E.init(),k(a,c,0,Y.sortObjects),!0===Y.sortObjects&&E.sort(),Cd&&Ia.beginShadows(),Da.render(B.state.shadowsArray,a,c),B.setupLights(c),Cd&&Ia.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==f&&this.setRenderTarget(f),oa.render(E,a,c,g),d=E.opaque,
e=E.transparent,a.overrideMaterial?(f=a.overrideMaterial,d.length&&m(d,a,c,f),e.length&&m(e,a,c,f)):(d.length&&m(d,a,c),e.length&&m(e,a,c)),a.onAfterRender(Y,a,c),null!==L&&(Z.updateRenderTargetMipmap(L),Z.updateMultisampleRenderTarget(L)),da.buffers.depth.setTest(!0),da.buffers.depth.setMask(!0),da.buffers.color.setMask(!0),da.setPolygonOffset(!1),na.enabled&&na.submitFrame(),B=E=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")};this.setFramebuffer=function(a){Q!==
a&&M.bindFramebuffer(36160,a);Q=a};this.getActiveCubeFace=function(){return ma};this.getActiveMipMapLevel=function(){return R};this.getRenderTarget=function(){return L};this.setRenderTarget=function(a,b,c){L=a;ma=b;R=c;a&&void 0===T.get(a).__webglFramebuffer&&Z.setupRenderTarget(a);var d=Q,e=!1;a?(d=T.get(a).__webglFramebuffer,a.isWebGLRenderTargetCube?(d=d[b||0],e=!0):d=a.isWebGLMultisampleRenderTarget?T.get(a).__webglMultisampledFramebuffer:d,S.copy(a.viewport),aa.copy(a.scissor),ja=a.scissorTest):
(S.copy(ea).multiplyScalar(ca),aa.copy(ia).multiplyScalar(ca),ja=ra);yb!==d&&(M.bindFramebuffer(36160,d),yb=d);da.viewport(S);da.scissor(aa);da.setScissorTest(ja);e&&(a=T.get(a.texture),M.framebufferTexture2D(36160,36064,34069+(b||0),a.__webglTexture,c||0))};this.readRenderTargetPixels=function(a,b,c,d,e,f,g){if(a&&a.isWebGLRenderTarget){var h=T.get(a).__webglFramebuffer;a.isWebGLRenderTargetCube&&void 0!==g&&(h=h[g]);if(h){g=!1;h!==yb&&(M.bindFramebuffer(36160,h),g=!0);try{var k=a.texture,m=k.format,
q=k.type;1023!==m&&ka.convert(m)!==M.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===q||ka.convert(q)===M.getParameter(35738)||1015===q&&(Ea.isWebGL2||la.get("OES_texture_float")||la.get("WEBGL_color_buffer_float"))||1016===q&&(Ea.isWebGL2?la.get("EXT_color_buffer_float"):la.get("EXT_color_buffer_half_float"))?36053===M.checkFramebufferStatus(36160)?0<=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&M.readPixels(b,
c,d,e,ka.convert(m),ka.convert(q),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{g&&M.bindFramebuffer(36160,yb)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(a,b,c){var d=b.image.width,
e=b.image.height,f=ka.convert(b.format);Z.setTexture2D(b,0);M.copyTexImage2D(3553,c||0,f,a.x,a.y,d,e,0)};this.copyTextureToTexture=function(a,b,c,d){var e=b.image.width,f=b.image.height,g=ka.convert(c.format),h=ka.convert(c.type);Z.setTexture2D(c,0);b.isDataTexture?M.texSubImage2D(3553,d||0,a.x,a.y,e,f,g,h,b.image.data):M.texSubImage2D(3553,d||0,a.x,a.y,g,h,b.image)}}function Dd(a,b){this.name="";this.color=new B(a);this.density=void 0!==b?b:2.5E-4}function Ed(a,b,c){this.name="";this.color=new B(a);
this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}function Fd(){H.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0}function Bb(a,b){this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0}function Mc(a,b,c,d){this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}function nb(a){L.call(this);this.type="SpriteMaterial";this.color=new B(16777215);this.map=null;this.rotation=
0;this.sizeAttenuation=!0;this.lights=!1;this.transparent=!0;this.setValues(a)}function Nc(a){H.call(this);this.type="Sprite";if(void 0===Zb){Zb=new E;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new Bb(b,5);Zb.setIndex([0,1,2,0,2,3]);Zb.addAttribute("position",new Mc(b,3,0,!1));Zb.addAttribute("uv",new Mc(b,2,3,!1))}this.geometry=Zb;this.material=void 0!==a?a:new nb;this.center=new D(.5,.5)}function Oc(){H.call(this);this.type="LOD";Object.defineProperties(this,
{levels:{enumerable:!0,value:[]}})}function Pc(a,b){a&&a.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");ha.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new O;this.bindMatrixInverse=new O}function Gd(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),
this.boneInverses=[],a=0,b=this.bones.length;a<b;a++)this.boneInverses.push(new O)}function oe(){H.call(this);this.type="Bone"}function V(a){L.call(this);this.type="LineBasicMaterial";this.color=new B(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(a)}function T(a,b,c){1===c&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.");H.call(this);this.type="Line";this.geometry=void 0!==a?a:new E;this.material=
void 0!==b?b:new V({color:16777215*Math.random()})}function S(a,b){T.call(this,a,b);this.type="LineSegments"}function Hd(a,b){T.call(this,a,b);this.type="LineLoop"}function Ja(a){L.call(this);this.type="PointsMaterial";this.color=new B(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=this.morphTargets=!1;this.setValues(a)}function $b(a,b){H.call(this);this.type="Points";this.geometry=void 0!==a?a:new E;this.material=void 0!==b?b:new Ja({color:16777215*Math.random()})}function pe(a,
b,c,d,e,f,g,h,k){X.call(this,a,b,c,d,e,f,g,h,k);this.format=void 0!==g?g:1022;this.minFilter=void 0!==f?f:1006;this.magFilter=void 0!==e?e:1006;this.generateMipmaps=!1}function ac(a,b,c,d,e,f,g,h,k,m,q,p){X.call(this,null,f,g,h,k,m,d,e,q,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}function Qc(a,b,c,d,e,f,g,h,k){X.call(this,a,b,c,d,e,f,g,h,k);this.needsUpdate=!0}function Rc(a,b,c,d,e,f,g,h,k,m){m=void 0!==m?m:1026;if(1026!==m&&1027!==m)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
void 0===c&&1026===m&&(c=1012);void 0===c&&1027===m&&(c=1020);X.call(this,null,d,e,f,g,h,m,c,k);this.image={width:a,height:b};this.magFilter=void 0!==g?g:1003;this.minFilter=void 0!==h?h:1003;this.generateMipmaps=this.flipY=!1}function bc(a){E.call(this);this.type="WireframeGeometry";var b=[],c,d,e,f=[0,0],g={},h=["a","b","c"];if(a&&a.isGeometry){var k=a.faces;var m=0;for(d=k.length;m<d;m++){var q=k[m];for(c=0;3>c;c++){var p=q[h[c]];var l=q[h[(c+1)%3]];f[0]=Math.min(p,l);f[1]=Math.max(p,l);p=f[0]+
","+f[1];void 0===g[p]&&(g[p]={index1:f[0],index2:f[1]})}}for(p in g)m=g[p],h=a.vertices[m.index1],b.push(h.x,h.y,h.z),h=a.vertices[m.index2],b.push(h.x,h.y,h.z)}else if(a&&a.isBufferGeometry)if(h=new n,null!==a.index){k=a.attributes.position;q=a.index;var t=a.groups;0===t.length&&(t=[{start:0,count:q.count,materialIndex:0}]);a=0;for(e=t.length;a<e;++a)for(m=t[a],c=m.start,d=m.count,m=c,d=c+d;m<d;m+=3)for(c=0;3>c;c++)p=q.getX(m+c),l=q.getX(m+(c+1)%3),f[0]=Math.min(p,l),f[1]=Math.max(p,l),p=f[0]+","+
f[1],void 0===g[p]&&(g[p]={index1:f[0],index2:f[1]});for(p in g)m=g[p],h.fromBufferAttribute(k,m.index1),b.push(h.x,h.y,h.z),h.fromBufferAttribute(k,m.index2),b.push(h.x,h.y,h.z)}else for(k=a.attributes.position,m=0,d=k.count/3;m<d;m++)for(c=0;3>c;c++)g=3*m+c,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z),g=3*m+(c+1)%3,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z);this.addAttribute("position",new C(b,3))}function Sc(a,b,c){Q.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,
stacks:c};this.fromBufferGeometry(new cc(a,b,c));this.mergeVertices()}function cc(a,b,c){E.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};var d=[],e=[],f=[],g=[],h=new n,k=new n,m=new n,q=new n,p=new n,l,t;3>a.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var r=b+1;for(l=0;l<=c;l++){var u=l/c;for(t=0;t<=b;t++){var w=t/b;a(w,u,k);e.push(k.x,k.y,k.z);0<=w-1E-5?(a(w-1E-5,u,m),q.subVectors(k,m)):(a(w+
1E-5,u,m),q.subVectors(m,k));0<=u-1E-5?(a(w,u-1E-5,m),p.subVectors(k,m)):(a(w,u+1E-5,m),p.subVectors(m,k));h.crossVectors(q,p).normalize();f.push(h.x,h.y,h.z);g.push(w,u)}}for(l=0;l<c;l++)for(t=0;t<b;t++)a=l*r+t+1,h=(l+1)*r+t+1,k=(l+1)*r+t,d.push(l*r+t,a,k),d.push(a,h,k);this.setIndex(d);this.addAttribute("position",new C(e,3));this.addAttribute("normal",new C(f,3));this.addAttribute("uv",new C(g,2))}function Tc(a,b,c,d){Q.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,
radius:c,detail:d};this.fromBufferGeometry(new oa(a,b,c,d));this.mergeVertices()}function oa(a,b,c,d){function e(a){h.push(a.x,a.y,a.z)}function f(b,c){b*=3;c.x=a[b+0];c.y=a[b+1];c.z=a[b+2]}function g(a,b,c,d){0>d&&1===a.x&&(k[b]=a.x-1);0===c.x&&0===c.z&&(k[b]=d/2/Math.PI+.5)}E.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;var h=[],k=[];(function(a){for(var c=new n,d=new n,g=new n,h=0;h<b.length;h+=3){f(b[h+0],c);f(b[h+1],d);
f(b[h+2],g);var k,m,l=c,z=d,y=g,x=Math.pow(2,a),A=[];for(m=0;m<=x;m++){A[m]=[];var G=l.clone().lerp(y,m/x),D=z.clone().lerp(y,m/x),C=x-m;for(k=0;k<=C;k++)A[m][k]=0===k&&m===x?G:G.clone().lerp(D,k/C)}for(m=0;m<x;m++)for(k=0;k<2*(x-m)-1;k++)l=Math.floor(k/2),0===k%2?(e(A[m][l+1]),e(A[m+1][l]),e(A[m][l])):(e(A[m][l+1]),e(A[m+1][l+1]),e(A[m+1][l]))}})(d);(function(a){for(var b=new n,c=0;c<h.length;c+=3)b.x=h[c+0],b.y=h[c+1],b.z=h[c+2],b.normalize().multiplyScalar(a),h[c+0]=b.x,h[c+1]=b.y,h[c+2]=b.z})(c);
(function(){for(var a=new n,b=0;b<h.length;b+=3)a.x=h[b+0],a.y=h[b+1],a.z=h[b+2],k.push(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));a=new n;b=new n;for(var c=new n,d=new n,e=new D,f=new D,l=new D,w=0,z=0;w<h.length;w+=9,z+=6){a.set(h[w+0],h[w+1],h[w+2]);b.set(h[w+3],h[w+4],h[w+5]);c.set(h[w+6],h[w+7],h[w+8]);e.set(k[z+0],k[z+1]);f.set(k[z+2],k[z+3]);l.set(k[z+4],k[z+5]);d.copy(a).add(b).add(c).divideScalar(3);var y=Math.atan2(d.z,-d.x);g(e,z+0,a,y);
g(f,z+2,b,y);g(l,z+4,c,y)}for(a=0;a<k.length;a+=6)b=k[a+0],c=k[a+2],d=k[a+4],e=Math.min(b,c,d),.9<Math.max(b,c,d)&&.1>e&&(.2>b&&(k[a+0]+=1),.2>c&&(k[a+2]+=1),.2>d&&(k[a+4]+=1))})();this.addAttribute("position",new C(h,3));this.addAttribute("normal",new C(h.slice(),3));this.addAttribute("uv",new C(k,2));0===d?this.computeVertexNormals():this.normalizeNormals()}function Uc(a,b){Q.call(this);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new dc(a,b));this.mergeVertices()}
function dc(a,b){oa.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Vc(a,b){Q.call(this);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Cb(a,b));this.mergeVertices()}function Cb(a,b){oa.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters=
{radius:a,detail:b}}function Wc(a,b){Q.call(this);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new ec(a,b));this.mergeVertices()}function ec(a,b){var c=(1+Math.sqrt(5))/2;oa.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters=
{radius:a,detail:b}}function Xc(a,b){Q.call(this);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new fc(a,b));this.mergeVertices()}function fc(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;oa.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,
6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Yc(a,b,c,d,e,f){Q.call(this);this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==f&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new Db(a,b,c,d,e);this.tangents=a.tangents;this.normals=
a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}function Db(a,b,c,d,e){function f(e){q=a.getPointAt(e/b,q);var f=g.normals[e];e=g.binormals[e];for(l=0;l<=d;l++){var m=l/d*Math.PI*2,p=Math.sin(m);m=-Math.cos(m);k.x=m*f.x+p*e.x;k.y=m*f.y+p*e.y;k.z=m*f.z+p*e.z;k.normalize();r.push(k.x,k.y,k.z);h.x=q.x+c*k.x;h.y=q.y+c*k.y;h.z=q.z+c*k.z;t.push(h.x,h.y,h.z)}}E.call(this);this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,
closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;var g=a.computeFrenetFrames(b,e);this.tangents=g.tangents;this.normals=g.normals;this.binormals=g.binormals;var h=new n,k=new n,m=new D,q=new n,p,l,t=[],r=[],u=[],w=[];for(p=0;p<b;p++)f(p);f(!1===e?b:0);for(p=0;p<=b;p++)for(l=0;l<=d;l++)m.x=p/b,m.y=l/d,u.push(m.x,m.y);(function(){for(l=1;l<=b;l++)for(p=1;p<=d;p++){var a=(d+1)*l+(p-1),c=(d+1)*l+p,e=(d+1)*(l-1)+p;w.push((d+1)*(l-1)+(p-1),a,e);w.push(a,c,e)}})();this.setIndex(w);this.addAttribute("position",new C(t,
3));this.addAttribute("normal",new C(r,3));this.addAttribute("uv",new C(u,2))}function Zc(a,b,c,d,e,f,g){Q.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new gc(a,b,c,d,e,f));this.mergeVertices()}function gc(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*
(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}E.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||1;b=b||.4;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var h=[],k=[],m=[],q=[],p,l=new n,t=new n,r=new n,u=new n,w=new n,z=new n,y=new n;for(p=0;p<=c;++p){var x=p/c*e*Math.PI*2;g(x,e,f,a,r);g(x+.01,e,f,a,u);z.subVectors(u,r);y.addVectors(u,r);w.crossVectors(z,y);y.crossVectors(w,z);w.normalize();y.normalize();
for(x=0;x<=d;++x){var A=x/d*Math.PI*2,G=-b*Math.cos(A);A=b*Math.sin(A);l.x=r.x+(G*y.x+A*w.x);l.y=r.y+(G*y.y+A*w.y);l.z=r.z+(G*y.z+A*w.z);k.push(l.x,l.y,l.z);t.subVectors(l,r).normalize();m.push(t.x,t.y,t.z);q.push(p/c);q.push(x/d)}}for(x=1;x<=c;x++)for(p=1;p<=d;p++)a=(d+1)*x+(p-1),b=(d+1)*x+p,e=(d+1)*(x-1)+p,h.push((d+1)*(x-1)+(p-1),a,e),h.push(a,b,e);this.setIndex(h);this.addAttribute("position",new C(k,3));this.addAttribute("normal",new C(m,3));this.addAttribute("uv",new C(q,2))}function $c(a,b,
c,d,e){Q.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new hc(a,b,c,d,e));this.mergeVertices()}function hc(a,b,c,d,e){E.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||.4;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=[],g=[],h=[],k=[],m=new n,q=new n,p=new n,l,t;for(l=0;l<=c;l++)for(t=0;t<=d;t++){var r=t/d*e,u=l/c*
Math.PI*2;q.x=(a+b*Math.cos(u))*Math.cos(r);q.y=(a+b*Math.cos(u))*Math.sin(r);q.z=b*Math.sin(u);g.push(q.x,q.y,q.z);m.x=a*Math.cos(r);m.y=a*Math.sin(r);p.subVectors(q,m).normalize();h.push(p.x,p.y,p.z);k.push(t/d);k.push(l/c)}for(l=1;l<=c;l++)for(t=1;t<=d;t++)a=(d+1)*(l-1)+t-1,b=(d+1)*(l-1)+t,e=(d+1)*l+t,f.push((d+1)*l+t-1,a,e),f.push(a,b,e);this.setIndex(f);this.addAttribute("position",new C(g,3));this.addAttribute("normal",new C(h,3));this.addAttribute("uv",new C(k,2))}function yf(a,b,c,d,e){for(var f,
g=0,h=b,k=c-d;h<c;h+=d)g+=(a[k]-a[h])*(a[h+1]+a[k+1]),k=h;if(e===0<g)for(e=b;e<c;e+=d)f=zf(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=zf(e,a[e],a[e+1],f);f&&Eb(f,f.next)&&(ad(f),f=f.next);return f}function bd(a,b){if(!a)return a;b||(b=a);do{var c=!1;if(a.steiner||!Eb(a,a.next)&&0!==qa(a.prev,a,a.next))a=a.next;else{ad(a);a=b=a.prev;if(a===a.next)break;c=!0}}while(c||a!==b);return b}function cd(a,b,c,d,e,f,g){if(a){if(!g&&f){var h=a,k=h;do null===k.z&&(k.z=qe(k.x,k.y,d,e,f)),k.prevZ=k.prev,k=k.nextZ=
k.next;while(k!==h);k.prevZ.nextZ=null;k.prevZ=null;h=k;var m,q,p,l,t=1;do{k=h;var r=h=null;for(q=0;k;){q++;var n=k;for(m=p=0;m<t&&(p++,n=n.nextZ,n);m++);for(l=t;0<p||0<l&&n;)0!==p&&(0===l||!n||k.z<=n.z)?(m=k,k=k.nextZ,p--):(m=n,n=n.nextZ,l--),r?r.nextZ=m:h=m,m.prevZ=r,r=m;k=n}r.nextZ=null;t*=2}while(1<q)}for(h=a;a.prev!==a.next;){k=a.prev;n=a.next;if(f)a:{r=a;l=d;var w=e,z=f;q=r.prev;p=r;t=r.next;if(0<=qa(q,p,t))r=!1;else{var y=q.x>p.x?q.x>t.x?q.x:t.x:p.x>t.x?p.x:t.x,x=q.y>p.y?q.y>t.y?q.y:t.y:p.y>
t.y?p.y:t.y;m=qe(q.x<p.x?q.x<t.x?q.x:t.x:p.x<t.x?p.x:t.x,q.y<p.y?q.y<t.y?q.y:t.y:p.y<t.y?p.y:t.y,l,w,z);l=qe(y,x,l,w,z);for(w=r.nextZ;w&&w.z<=l;){if(w!==r.prev&&w!==r.next&&Id(q.x,q.y,p.x,p.y,t.x,t.y,w.x,w.y)&&0<=qa(w.prev,w,w.next)){r=!1;break a}w=w.nextZ}for(w=r.prevZ;w&&w.z>=m;){if(w!==r.prev&&w!==r.next&&Id(q.x,q.y,p.x,p.y,t.x,t.y,w.x,w.y)&&0<=qa(w.prev,w,w.next)){r=!1;break a}w=w.prevZ}r=!0}}else a:if(r=a,q=r.prev,p=r,t=r.next,0<=qa(q,p,t))r=!1;else{for(m=r.next.next;m!==r.prev;){if(Id(q.x,q.y,
p.x,p.y,t.x,t.y,m.x,m.y)&&0<=qa(m.prev,m,m.next)){r=!1;break a}m=m.next}r=!0}if(r)b.push(k.i/c),b.push(a.i/c),b.push(n.i/c),ad(a),h=a=n.next;else if(a=n,a===h){if(!g)cd(bd(a),b,c,d,e,f,1);else if(1===g){g=b;h=c;k=a;do n=k.prev,r=k.next.next,!Eb(n,r)&&Af(n,k,k.next,r)&&dd(n,r)&&dd(r,n)&&(g.push(n.i/h),g.push(k.i/h),g.push(r.i/h),ad(k),ad(k.next),k=a=r),k=k.next;while(k!==a);a=k;cd(a,b,c,d,e,f,2)}else if(2===g)a:{g=a;do{for(h=g.next.next;h!==g.prev;){if(k=g.i!==h.i){k=g;n=h;if(r=k.next.i!==n.i&&k.prev.i!==
n.i){b:{r=k;do{if(r.i!==k.i&&r.next.i!==k.i&&r.i!==n.i&&r.next.i!==n.i&&Af(r,r.next,k,n)){r=!0;break b}r=r.next}while(r!==k);r=!1}r=!r}if(r=r&&dd(k,n)&&dd(n,k)){r=k;q=!1;p=(k.x+n.x)/2;n=(k.y+n.y)/2;do r.y>n!==r.next.y>n&&r.next.y!==r.y&&p<(r.next.x-r.x)*(n-r.y)/(r.next.y-r.y)+r.x&&(q=!q),r=r.next;while(r!==k);r=q}k=r}if(k){a=Bf(g,h);g=bd(g,g.next);a=bd(a,a.next);cd(g,b,c,d,e,f);cd(a,b,c,d,e,f);break a}h=h.next}g=g.next}while(g!==a)}break}}}}function mh(a,b){return a.x-b.x}function nh(a,b){var c=b,
d=a.x,e=a.y,f=-Infinity;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var g=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>f){f=g;if(g===d){if(e===c.y)return c;if(e===c.next.y)return c.next}var h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(d===f)return h.prev;b=h;g=h.x;var k=h.y,m=Infinity;for(c=h.next;c!==b;){if(d>=c.x&&c.x>=g&&d!==c.x&&Id(e<k?d:f,e,g,k,e<k?f:d,e,c.x,c.y)){var q=Math.abs(e-c.y)/(d-c.x);(q<m||q===m&&c.x>h.x)&&dd(c,a)&&(h=c,m=q)}c=c.next}return h}function qe(a,
b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function oh(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function Id(a,b,c,d,e,f,g,h){return 0<=(e-g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function qa(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function Eb(a,b){return a.x===
b.x&&a.y===b.y}function Af(a,b,c,d){return Eb(a,b)&&Eb(c,d)||Eb(a,d)&&Eb(c,b)?!0:0<qa(a,b,c)!==0<qa(a,b,d)&&0<qa(c,d,a)!==0<qa(c,d,b)}function dd(a,b){return 0>qa(a.prev,a,a.next)?0<=qa(a,b,a.next)&&0<=qa(a,a.prev,b):0>qa(a,b,a.prev)||0>qa(a,a.next,b)}function Bf(a,b){var c=new re(a.i,a.x,a.y),d=new re(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function zf(a,b,c,d){a=new re(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):
(a.prev=a,a.next=a);return a}function ad(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function re(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function Cf(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function Df(a,b){for(var c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}function Fb(a,b){Q.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};this.fromBufferGeometry(new Ya(a,
b));this.mergeVertices()}function Ya(a,b){function c(a){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function g(a,b,c){var d=a.x-b.x;var e=a.y-b.y;var f=c.x-a.x;var g=c.y-a.y,h=d*d+e*e;if(Math.abs(d*g-e*f)>Number.EPSILON){var k=Math.sqrt(h),m=Math.sqrt(f*f+g*g);h=b.x-e/k;b=b.y+d/k;g=((c.x-g/m-h)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=h+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new D(f,d);e=Math.sqrt(e/2)}else a=!1,d>Number.EPSILON?
f>Number.EPSILON&&(a=!0):d<-Number.EPSILON?f<-Number.EPSILON&&(a=!0):Math.sign(e)===Math.sign(g)&&(a=!0),a?(f=-e,e=Math.sqrt(h)):(f=d,d=e,e=Math.sqrt(h/2));return new D(f/e,d/e)}function h(a,b){for(K=a.length;0<=--K;){var c=K;var f=K-1;0>f&&(f=a.length-1);var g,h=y+2*F;for(g=0;g<h;g++){var k=X*g,m=X*(g+1),q=b+f+k,p=b+f+m;m=b+c+m;r(b+c+k);r(q);r(m);r(q);r(p);r(m);k=e.length/3;k=H.generateSideWallUV(d,e,k-6,k-3,k-2,k-1);u(k[0]);u(k[1]);u(k[3]);u(k[1]);u(k[2]);u(k[3])}}}function k(a,b,c){w.push(a);w.push(b);
w.push(c)}function l(a,b,c){r(a);r(b);r(c);a=e.length/3;a=H.generateTopUV(d,e,a-3,a-2,a-1);u(a[0]);u(a[1]);u(a[2])}function r(a){e.push(w[3*a]);e.push(w[3*a+1]);e.push(w[3*a+2])}function u(a){f.push(a.x);f.push(a.y)}var w=[],z=void 0!==b.curveSegments?b.curveSegments:12,y=void 0!==b.steps?b.steps:1,x=void 0!==b.depth?b.depth:100,A=void 0!==b.bevelEnabled?b.bevelEnabled:!0,G=void 0!==b.bevelThickness?b.bevelThickness:6,C=void 0!==b.bevelSize?b.bevelSize:G-2,B=void 0!==b.bevelOffset?b.bevelOffset:0,
F=void 0!==b.bevelSegments?b.bevelSegments:3,E=b.extrudePath,H=void 0!==b.UVGenerator?b.UVGenerator:ph;void 0!==b.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),x=b.amount);var J=!1;if(E){var Y=E.getSpacedPoints(y);J=!0;A=!1;var N=E.computeFrenetFrames(y,!1);var Q=new n;var ma=new n;var R=new n}A||(B=C=G=F=0);var O;z=a.extractPoints(z);a=z.shape;var L=z.holes;if(!db.isClockWise(a)){a=a.reverse();var I=0;for(O=L.length;I<O;I++){var P=L[I];db.isClockWise(P)&&
(L[I]=P.reverse())}}var U=db.triangulateShape(a,L),V=a;I=0;for(O=L.length;I<O;I++)P=L[I],a=a.concat(P);var S,X=a.length,T,aa=U.length;z=[];var K=0;var W=V.length;var ca=W-1;for(S=K+1;K<W;K++,ca++,S++)ca===W&&(ca=0),S===W&&(S=0),z[K]=g(V[K],V[ca],V[S]);E=[];var ba=z.concat();I=0;for(O=L.length;I<O;I++){P=L[I];var Z=[];K=0;W=P.length;ca=W-1;for(S=K+1;K<W;K++,ca++,S++)ca===W&&(ca=0),S===W&&(S=0),Z[K]=g(P[K],P[ca],P[S]);E.push(Z);ba=ba.concat(Z)}for(ca=0;ca<F;ca++){W=ca/F;var ea=G*Math.cos(W*Math.PI/
2);S=C*Math.sin(W*Math.PI/2)+B;K=0;for(W=V.length;K<W;K++){var fa=c(V[K],z[K],S);k(fa.x,fa.y,-ea)}I=0;for(O=L.length;I<O;I++)for(P=L[I],Z=E[I],K=0,W=P.length;K<W;K++)fa=c(P[K],Z[K],S),k(fa.x,fa.y,-ea)}S=C+B;for(K=0;K<X;K++)fa=A?c(a[K],ba[K],S):a[K],J?(ma.copy(N.normals[0]).multiplyScalar(fa.x),Q.copy(N.binormals[0]).multiplyScalar(fa.y),R.copy(Y[0]).add(ma).add(Q),k(R.x,R.y,R.z)):k(fa.x,fa.y,0);for(W=1;W<=y;W++)for(K=0;K<X;K++)fa=A?c(a[K],ba[K],S):a[K],J?(ma.copy(N.normals[W]).multiplyScalar(fa.x),
Q.copy(N.binormals[W]).multiplyScalar(fa.y),R.copy(Y[W]).add(ma).add(Q),k(R.x,R.y,R.z)):k(fa.x,fa.y,x/y*W);for(ca=F-1;0<=ca;ca--){W=ca/F;ea=G*Math.cos(W*Math.PI/2);S=C*Math.sin(W*Math.PI/2)+B;K=0;for(W=V.length;K<W;K++)fa=c(V[K],z[K],S),k(fa.x,fa.y,x+ea);I=0;for(O=L.length;I<O;I++)for(P=L[I],Z=E[I],K=0,W=P.length;K<W;K++)fa=c(P[K],Z[K],S),J?k(fa.x,fa.y+Y[y-1].y,Y[y-1].x+ea):k(fa.x,fa.y,x+ea)}(function(){var a=e.length/3;if(A){var b=0*X;for(K=0;K<aa;K++)T=U[K],l(T[2]+b,T[1]+b,T[0]+b);b=X*(y+2*F);for(K=
0;K<aa;K++)T=U[K],l(T[0]+b,T[1]+b,T[2]+b)}else{for(K=0;K<aa;K++)T=U[K],l(T[2],T[1],T[0]);for(K=0;K<aa;K++)T=U[K],l(T[0]+X*y,T[1]+X*y,T[2]+X*y)}d.addGroup(a,e.length/3-a,0)})();(function(){var a=e.length/3,b=0;h(V,b);b+=V.length;I=0;for(O=L.length;I<O;I++)P=L[I],h(P,b),b+=P.length;d.addGroup(a,e.length/3-a,1)})()}E.call(this);this.type="ExtrudeBufferGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];for(var d=this,e=[],f=[],g=0,h=a.length;g<h;g++)c(a[g]);this.addAttribute("position",
new C(e,3));this.addAttribute("uv",new C(f,2));this.computeVertexNormals()}function Ef(a,b,c){c.shapes=[];if(Array.isArray(a))for(var d=0,e=a.length;d<e;d++)c.shapes.push(a[d].uuid);else c.shapes.push(a.uuid);void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON());return c}function ed(a,b){Q.call(this);this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new ic(a,b));this.mergeVertices()}function ic(a,b){b=b||{};var c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),
new Q;a=c.generateShapes(a,b.size);b.depth=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);Ya.call(this,a,b);this.type="TextBufferGeometry"}function fd(a,b,c,d,e,f,g){Q.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new ob(a,b,c,d,e,f,g));this.mergeVertices()}function ob(a,
b,c,d,e,f,g){E.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||1;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var h=Math.min(f+g,Math.PI),k,m,q=0,p=[],l=new n,t=new n,r=[],u=[],w=[],z=[];for(m=0;m<=c;m++){var y=[],x=m/c,A=0;0==m&&0==f?A=.5/b:m==c&&h==Math.PI&&(A=-.5/b);for(k=0;k<=b;k++){var G=
k/b;l.x=-a*Math.cos(d+G*e)*Math.sin(f+x*g);l.y=a*Math.cos(f+x*g);l.z=a*Math.sin(d+G*e)*Math.sin(f+x*g);u.push(l.x,l.y,l.z);t.copy(l).normalize();w.push(t.x,t.y,t.z);z.push(G+A,1-x);y.push(q++)}p.push(y)}for(m=0;m<c;m++)for(k=0;k<b;k++)a=p[m][k+1],d=p[m][k],e=p[m+1][k],g=p[m+1][k+1],(0!==m||0<f)&&r.push(a,d,g),(m!==c-1||h<Math.PI)&&r.push(d,e,g);this.setIndex(r);this.addAttribute("position",new C(u,3));this.addAttribute("normal",new C(w,3));this.addAttribute("uv",new C(z,2))}function gd(a,b,c,d,e,
f){Q.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new jc(a,b,c,d,e,f));this.mergeVertices()}function jc(a,b,c,d,e,f){E.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||.5;b=b||1;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=
[],h=[],k=[],m=[],q=a,p=(b-a)/d,l=new n,t=new D,r,u;for(r=0;r<=d;r++){for(u=0;u<=c;u++)a=e+u/c*f,l.x=q*Math.cos(a),l.y=q*Math.sin(a),h.push(l.x,l.y,l.z),k.push(0,0,1),t.x=(l.x/b+1)/2,t.y=(l.y/b+1)/2,m.push(t.x,t.y);q+=p}for(r=0;r<d;r++)for(b=r*(c+1),u=0;u<c;u++)a=u+b,e=a+c+1,f=a+c+2,q=a+1,g.push(a,e,q),g.push(e,f,q);this.setIndex(g);this.addAttribute("position",new C(h,3));this.addAttribute("normal",new C(k,3));this.addAttribute("uv",new C(m,2))}function hd(a,b,c,d){Q.call(this);this.type="LatheGeometry";
this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new kc(a,b,c,d));this.mergeVertices()}function kc(a,b,c,d){E.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=P.clamp(d,0,2*Math.PI);var e=[],f=[],g=[],h=1/b,k=new n,m=new D,q;for(q=0;q<=b;q++){var p=c+q*h*d;var l=Math.sin(p),t=Math.cos(p);for(p=0;p<=a.length-1;p++)k.x=a[p].x*l,k.y=a[p].y,k.z=a[p].x*t,f.push(k.x,k.y,
k.z),m.x=q/b,m.y=p/(a.length-1),g.push(m.x,m.y)}for(q=0;q<b;q++)for(p=0;p<a.length-1;p++)c=p+q*a.length,h=c+a.length,k=c+a.length+1,m=c+1,e.push(c,h,m),e.push(h,k,m);this.setIndex(e);this.addAttribute("position",new C(f,3));this.addAttribute("uv",new C(g,2));this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,e=new n,f=new n,g=new n,c=b*a.length*3,p=q=0;q<a.length;q++,p+=3)e.x=d[p+0],e.y=d[p+1],e.z=d[p+2],f.x=d[c+p+0],f.y=d[c+p+1],f.z=d[c+p+2],g.addVectors(e,f).normalize(),
d[p+0]=d[c+p+0]=g.x,d[p+1]=d[c+p+1]=g.y,d[p+2]=d[c+p+2]=g.z}function Gb(a,b){Q.call(this);this.type="ShapeGeometry";"object"===typeof b&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new Hb(a,b));this.mergeVertices()}function Hb(a,b){function c(a){var c,h=e.length/3;a=a.extractPoints(b);var m=a.shape,q=a.holes;!1===db.isClockWise(m)&&(m=m.reverse());a=0;for(c=q.length;a<c;a++){var l=q[a];
!0===db.isClockWise(l)&&(q[a]=l.reverse())}var n=db.triangulateShape(m,q);a=0;for(c=q.length;a<c;a++)l=q[a],m=m.concat(l);a=0;for(c=m.length;a<c;a++)l=m[a],e.push(l.x,l.y,0),f.push(0,0,1),g.push(l.x,l.y);a=0;for(c=n.length;a<c;a++)m=n[a],d.push(m[0]+h,m[1]+h,m[2]+h),k+=3}E.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;var d=[],e=[],f=[],g=[],h=0,k=0;if(!1===Array.isArray(a))c(a);else for(var m=0;m<a.length;m++)c(a[m]),this.addGroup(h,k,m),h+=k,k=0;this.setIndex(d);
this.addAttribute("position",new C(e,3));this.addAttribute("normal",new C(f,3));this.addAttribute("uv",new C(g,2))}function Ff(a,b){b.shapes=[];if(Array.isArray(a))for(var c=0,d=a.length;c<d;c++)b.shapes.push(a[c].uuid);else b.shapes.push(a.uuid);return b}function lc(a,b){E.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:b};var c=[];b=Math.cos(P.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a.isBufferGeometry){var g=new Q;g.fromBufferGeometry(a)}else g=a.clone();
g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var h=0,k=g.length;h<k;h++)for(var m=g[h],q=0;3>q;q++){var l=m[f[q]];var n=m[f[(q+1)%3]];d[0]=Math.min(l,n);d[1]=Math.max(l,n);l=d[0]+","+d[1];void 0===e[l]?e[l]={index1:d[0],index2:d[1],face1:h,face2:void 0}:e[l].face2=h}for(l in e)if(d=e[l],void 0===d.face2||g[d.face1].normal.dot(g[d.face2].normal)<=b)f=a[d.index1],c.push(f.x,f.y,f.z),f=a[d.index2],c.push(f.x,f.y,f.z);this.addAttribute("position",new C(c,3))}function Ib(a,b,c,d,
e,f,g,h){Q.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new eb(a,b,c,d,e,f,g,h));this.mergeVertices()}function eb(a,b,c,d,e,f,g,h){function k(c){var e,f=new D,k=new n,p=0,u=!0===c?a:b,y=!0===c?1:-1;var C=r;for(e=1;e<=d;e++)l.push(0,w*y,0),v.push(0,y,0),t.push(.5,.5),r++;var E=r;for(e=0;e<=d;e++){var B=e/d*h+g,H=Math.cos(B);B=Math.sin(B);k.x=u*B;k.y=w*y;
k.z=u*H;l.push(k.x,k.y,k.z);v.push(0,y,0);f.x=.5*H+.5;f.y=.5*B*y+.5;t.push(f.x,f.y);r++}for(e=0;e<d;e++)f=C+e,k=E+e,!0===c?q.push(k,k+1,f):q.push(k+1,k,f),p+=3;m.addGroup(z,p,!0===c?1:2);z+=p}E.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==
h?h:2*Math.PI;var q=[],l=[],v=[],t=[],r=0,u=[],w=c/2,z=0;(function(){var f,k,p=new n,G=new n,D=0,C=(b-a)/c;for(k=0;k<=e;k++){var F=[],B=k/e,E=B*(b-a)+a;for(f=0;f<=d;f++){var H=f/d,I=H*h+g,J=Math.sin(I);I=Math.cos(I);G.x=E*J;G.y=-B*c+w;G.z=E*I;l.push(G.x,G.y,G.z);p.set(J,C,I).normalize();v.push(p.x,p.y,p.z);t.push(H,1-B);F.push(r++)}u.push(F)}for(f=0;f<d;f++)for(k=0;k<e;k++)p=u[k+1][f],G=u[k+1][f+1],C=u[k][f+1],q.push(u[k][f],p,C),q.push(p,G,C),D+=6;m.addGroup(z,D,0);z+=D})();!1===f&&(0<a&&k(!0),0<
b&&k(!1));this.setIndex(q);this.addAttribute("position",new C(l,3));this.addAttribute("normal",new C(v,3));this.addAttribute("uv",new C(t,2))}function id(a,b,c,d,e,f,g){Ib.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function jd(a,b,c,d,e,f,g){eb.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,
thetaStart:f,thetaLength:g}}function kd(a,b,c,d){Q.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new mc(a,b,c,d));this.mergeVertices()}function mc(a,b,c,d){E.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=[],f=[],g=[],h=[],k,m=new n,q=new D;f.push(0,0,0);g.push(0,0,1);h.push(.5,
.5);var l=0;for(k=3;l<=b;l++,k+=3){var v=c+l/b*d;m.x=a*Math.cos(v);m.y=a*Math.sin(v);f.push(m.x,m.y,m.z);g.push(0,0,1);q.x=(f[k]/a+1)/2;q.y=(f[k+1]/a+1)/2;h.push(q.x,q.y)}for(k=1;k<=b;k++)e.push(k,k+1,0);this.setIndex(e);this.addAttribute("position",new C(f,3));this.addAttribute("normal",new C(g,3));this.addAttribute("uv",new C(h,2))}function Jb(a){L.call(this);this.type="ShadowMaterial";this.color=new B(0);this.transparent=!0;this.setValues(a)}function nc(a){sa.call(this,a);this.type="RawShaderMaterial"}
function Za(a){L.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new B(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new B(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=
this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Kb(a){Za.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(a)}function Ka(a){L.call(this);this.type="MeshPhongMaterial";this.color=new B(16777215);
this.specular=new B(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new B(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=
!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Lb(a){Ka.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(a)}function Mb(a){L.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1;this.setValues(a)}function Nb(a){L.call(this);this.type="MeshLambertMaterial";this.color=new B(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new B(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=
!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Ob(a){L.call(this);this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new B(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.lights=this.morphNormals=
this.morphTargets=this.skinning=!1;this.setValues(a)}function Pb(a){V.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}function Da(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}function Jd(a,b,c,d){Da.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function ld(a,b,c,d){Da.call(this,a,b,c,d)}function Kd(a,
b,c,d){Da.call(this,a,b,c,d)}function Z(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=ra.convertArray(b,this.TimeBufferType);this.values=ra.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation)}function Ld(a,b,c){Z.call(this,a,b,c)}function Md(a,b,c,d){Z.call(this,a,b,c,d)}function oc(a,b,c,d){Z.call(this,a,b,
c,d)}function Nd(a,b,c,d){Da.call(this,a,b,c,d)}function md(a,b,c,d){Z.call(this,a,b,c,d)}function Od(a,b,c,d){Z.call(this,a,b,c,d)}function pc(a,b,c,d){Z.call(this,a,b,c,d)}function Ga(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=P.generateUUID();0>this.duration&&this.resetDuration()}function qh(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return oc;case "vector":case "vector2":case "vector3":case "vector4":return pc;
case "color":return Md;case "quaternion":return md;case "bool":case "boolean":return Ld;case "string":return Od}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}function rh(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var b=qh(a.type);if(void 0===a.times){var c=[],d=[];ra.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}function se(a,b,c){var d=this,e=
!1,f=0,g=0,h=void 0;this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){g++;if(!1===e&&void 0!==d.onStart)d.onStart(a,f,g);e=!0};this.itemEnd=function(a){f++;if(void 0!==d.onProgress)d.onProgress(a,f,g);if(f===g&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(a){if(void 0!==d.onError)d.onError(a)};this.resolveURL=function(a){return h?h(a):a};this.setURLModifier=function(a){h=a;return this}}function La(a){this.manager=void 0!==a?a:za}function Gf(a){this.manager=
void 0!==a?a:za}function Hf(a){this.manager=void 0!==a?a:za;this._parser=null}function te(a){this.manager=void 0!==a?a:za;this._parser=null}function nd(a){this.manager=void 0!==a?a:za}function ue(a){this.manager=void 0!==a?a:za}function Pd(a){this.manager=void 0!==a?a:za}function N(){this.type="Curve";this.arcLengthDivisions=200}function Aa(a,b,c,d,e,f,g,h){N.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=f||2*
Math.PI;this.aClockwise=g||!1;this.aRotation=h||0}function qc(a,b,c,d,e,f){Aa.call(this,a,b,c,c,d,e,f);this.type="ArcCurve"}function ve(){var a=0,b=0,c=0,d=0;return{initCatmullRom:function(e,f,g,h,k){e=k*(g-e);h=k*(h-f);a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},initNonuniformCatmullRom:function(e,f,g,h,k,m,q){e=((f-e)/k-(g-e)/(k+m)+(g-f)/m)*m;h=((g-f)/m-(h-f)/(m+q)+(h-g)/q)*m;a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},calc:function(e){var f=e*e;return a+b*e+c*f+d*f*e}}}function ua(a,b,c,d){N.call(this);
this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=d||.5}function If(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);var f=a*a;return(2*c-2*d+b+e)*a*f+(-3*c+3*d-2*b-e)*f+b*a+c}function od(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}function pd(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}function Ma(a,b,c,d){N.call(this);this.type="CubicBezierCurve";this.v0=a||new D;this.v1=b||new D;this.v2=c||new D;this.v3=d||new D}function $a(a,
b,c,d){N.call(this);this.type="CubicBezierCurve3";this.v0=a||new n;this.v1=b||new n;this.v2=c||new n;this.v3=d||new n}function Ba(a,b){N.call(this);this.type="LineCurve";this.v1=a||new D;this.v2=b||new D}function Na(a,b){N.call(this);this.type="LineCurve3";this.v1=a||new n;this.v2=b||new n}function Oa(a,b,c){N.call(this);this.type="QuadraticBezierCurve";this.v0=a||new D;this.v1=b||new D;this.v2=c||new D}function ab(a,b,c){N.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new n;this.v1=b||
new n;this.v2=c||new n}function Pa(a){N.call(this);this.type="SplineCurve";this.points=a||[]}function fb(){N.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}function Qa(a){fb.call(this);this.type="Path";this.currentPoint=new D;a&&this.setFromPoints(a)}function pb(a){Qa.call(this,a);this.uuid=P.generateUUID();this.type="Shape";this.holes=[]}function aa(a,b){H.call(this);this.type="Light";this.color=new B(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}function Qd(a,b,c){aa.call(this,
a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(H.DefaultUp);this.updateMatrix();this.groundColor=new B(b)}function Qb(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new D(512,512);this.map=null;this.matrix=new O}function Rd(){Qb.call(this,new ja(50,1,.5,500))}function Sd(a,b,c,d,e,f){aa.call(this,a,b);this.type="SpotLight";this.position.copy(H.DefaultUp);this.updateMatrix();this.target=new H;Object.defineProperty(this,"power",{get:function(){return this.intensity*
Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new Rd}function Td(a,b,c,d){aa.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Qb(new ja(90,1,.5,500))}function qd(a,b,c,d,e,
f){Xa.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=void 0!==a?a:-1;this.right=void 0!==b?b:1;this.top=void 0!==c?c:1;this.bottom=void 0!==d?d:-1;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()}function Ud(){Qb.call(this,new qd(-5,5,5,-5,.5,500))}function Vd(a,b){aa.call(this,a,b);this.type="DirectionalLight";this.position.copy(H.DefaultUp);this.updateMatrix();this.target=new H;this.shadow=new Ud}function Wd(a,b){aa.call(this,a,b);
this.type="AmbientLight";this.castShadow=void 0}function Xd(a,b,c,d){aa.call(this,a,b);this.type="RectAreaLight";this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}function Yd(a){this.manager=void 0!==a?a:za;this.textures={}}function Zd(){E.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function $d(a,b,c,d){"number"===typeof c&&(d=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));I.call(this,a,b,
c);this.meshPerAttribute=d||1}function we(a){this.manager=void 0!==a?a:za}function xe(a){this.manager=void 0!==a?a:za;this.resourcePath=""}function ye(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.manager=void 0!==a?a:za;this.options=void 0}function ze(){this.type="ShapePath";this.color=new B;this.subPaths=[];this.currentPath=null}
function Ae(a){this.type="Font";this.data=a}function Jf(a){this.manager=void 0!==a?a:za}function rd(){}function Be(a){this.manager=void 0!==a?a:za}function ae(){this.coefficients=[];for(var a=0;9>a;a++)this.coefficients.push(new n)}function Ra(a,b){aa.call(this,void 0,b);this.sh=void 0!==a?a:new ae}function Ce(a,b,c){Ra.call(this,void 0,c);a=(new B).set(a);c=(new B).set(b);b=new n(a.r,a.g,a.b);a=new n(c.r,c.g,c.b);c=Math.sqrt(Math.PI);var d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(a).multiplyScalar(c);
this.sh.coefficients[1].copy(b).sub(a).multiplyScalar(d)}function De(a,b){Ra.call(this,void 0,b);a=(new B).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Kf(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new ja;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new ja;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function sd(a,b,c,d){H.call(this);this.type="CubeCamera";var e=new ja(90,
1,a,b);e.up.set(0,-1,0);e.lookAt(new n(1,0,0));this.add(e);var f=new ja(90,1,a,b);f.up.set(0,-1,0);f.lookAt(new n(-1,0,0));this.add(f);var g=new ja(90,1,a,b);g.up.set(0,0,1);g.lookAt(new n(0,1,0));this.add(g);var h=new ja(90,1,a,b);h.up.set(0,0,-1);h.lookAt(new n(0,-1,0));this.add(h);var k=new ja(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new n(0,0,1));this.add(k);var m=new ja(90,1,a,b);m.up.set(0,-1,0);m.lookAt(new n(0,0,-1));this.add(m);d=d||{format:1022,magFilter:1006,minFilter:1006};this.renderTarget=
new rb(c,c,d);this.renderTarget.texture.name="CubeCamera";this.update=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=a.getRenderTarget(),d=this.renderTarget,q=d.texture.generateMipmaps;d.texture.generateMipmaps=!1;a.setRenderTarget(d,0);a.render(b,e);a.setRenderTarget(d,1);a.render(b,f);a.setRenderTarget(d,2);a.render(b,g);a.setRenderTarget(d,3);a.render(b,h);a.setRenderTarget(d,4);a.render(b,k);d.texture.generateMipmaps=q;a.setRenderTarget(d,5);a.render(b,m);a.setRenderTarget(c)};
this.clear=function(a,b,c,d){for(var e=a.getRenderTarget(),f=this.renderTarget,g=0;6>g;g++)a.setRenderTarget(f,g),a.clear(b,c,d);a.setRenderTarget(e)}}function Ee(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}function Fe(){H.call(this);this.type="AudioListener";this.context=Ge.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0}function rc(a){H.call(this);this.type="Audio";
this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function He(a){rc.call(this,a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}function Ie(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=
void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}function Je(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0}function Lf(a,b,c){c=c||va.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,
c)}function va(a,b,c){this.path=b;this.parsedPath=c||va.parseTrackName(b);this.node=va.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}function Mf(){this.uuid=P.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,c=arguments.length;b!==c;++b)a[arguments[b].uuid]=b;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},
get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}function Nf(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:2400,endingEnd:2400},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=
2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function Ke(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}function be(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}function Le(a,b,c){Bb.call(this,
a,b);this.meshPerAttribute=c||1}function Of(a,b,c,d){this.ray=new Ab(a,b);this.near=c||0;this.far=d||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function Pf(a,b){return a.distance-b.distance}function Me(a,b,c,d){if(!1!==a.visible&&(a.raycast(b,c),!0===d)){a=a.children;d=0;for(var e=a.length;d<e;d++)Me(a[d],
b,c,!0)}}function Qf(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this}function Rf(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this}function Ne(a,b){this.min=void 0!==a?a:new D(Infinity,Infinity);this.max=void 0!==b?b:new D(-Infinity,-Infinity)}function Oe(a,b){this.start=void 0!==a?a:new n;this.end=void 0!==b?b:new n}function td(a){H.call(this);this.material=a;this.render=function(){}}function ud(a,b,c,d){this.object=
a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=3*c.faces.length:c&&c.isBufferGeometry&&(b=c.attributes.normal.count);c=new E;b=new C(6*b,3);c.addAttribute("position",b);S.call(this,c,new V({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function sc(a,b){H.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new E;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,
1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new C(b,3));b=new V({fog:!1});this.cone=new S(a,b);this.add(this.cone);this.update()}function Sf(a){var b=[];a&&a.isBone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,Sf(a.children[c]));return b}function tc(a){for(var b=Sf(a),c=new E,d=[],e=[],f=new B(0,0,1),g=new B(0,1,0),h=0;h<b.length;h++){var k=b[h];
k.parent&&k.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(f.r,f.g,f.b),e.push(g.r,g.g,g.b))}c.addAttribute("position",new C(d,3));c.addAttribute("color",new C(e,3));d=new V({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});S.call(this,c,d);this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}function uc(a,b,c){this.light=a;this.light.updateMatrixWorld();this.color=c;a=new ob(b,4,2);b=new ka({wireframe:!0,fog:!1});ha.call(this,a,b);this.matrix=this.light.matrixWorld;
this.matrixAutoUpdate=!1;this.update()}function vc(a,b){this.type="RectAreaLightHelper";this.light=a;this.color=b;a=new E;a.addAttribute("position",new C([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));a.computeBoundingSphere();b=new V({fog:!1});T.call(this,a,b);a=new E;a.addAttribute("position",new C([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new ha(a,new ka({side:1,fog:!1})));this.update()}function wc(a,b,c){H.call(this);this.light=a;this.light.updateMatrixWorld();
this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;a=new Cb(b);a.rotateY(.5*Math.PI);this.material=new ka({wireframe:!0,fog:!1});void 0===this.color&&(this.material.vertexColors=2);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.addAttribute("color",new I(b,3));this.add(new ha(a,this.material));this.update()}function xc(a,b){this.lightProbe=a;this.size=b;a=new sa({defines:{GAMMA_OUTPUT:""},uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},
vertexShader:"varying vec3 vNormal;\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#define RECIPROCAL_PI 0.318309886\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\t// matrix is assumed to be orthogonal\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n}\nvec3 linearToOutput( in vec3 a ) {\n\t#ifdef GAMMA_OUTPUT\n\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n\t#else\n\t\treturn a;\n\t#endif\n}\n// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\t// normal is assumed to have unit length\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\t// band 0\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\t// band 1\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\t// band 2\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nuniform vec3 sh[ 9 ]; // sh coefficients\nuniform float intensity; // light probe intensity\nvarying vec3 vNormal;\nvoid main() {\n\tvec3 normal = normalize( vNormal );\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );\n\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;\n\toutgoingLight = linearToOutput( outgoingLight );\n\tgl_FragColor = vec4( outgoingLight, 1.0 );\n}"});
b=new ob(1,32,16);ha.call(this,b,a);this.onBeforeRender()}function ce(a,b,c,d){a=a||10;b=b||10;c=new B(void 0!==c?c:4473924);d=new B(void 0!==d?d:8947848);var e=b/2,f=a/b,g=a/2;a=[];for(var h=[],k=0,m=0,q=-g;k<=b;k++,q+=f){a.push(-g,0,q,g,0,q);a.push(q,0,-g,q,0,g);var l=k===e?c:d;l.toArray(h,m);m+=3;l.toArray(h,m);m+=3;l.toArray(h,m);m+=3;l.toArray(h,m);m+=3}b=new E;b.addAttribute("position",new C(a,3));b.addAttribute("color",new C(h,3));c=new V({vertexColors:2});S.call(this,b,c)}function de(a,b,
c,d,e,f){a=a||10;b=b||16;c=c||8;d=d||64;e=new B(void 0!==e?e:4473924);f=new B(void 0!==f?f:8947848);var g=[],h=[],k;for(k=0;k<=b;k++){var m=k/b*2*Math.PI;var q=Math.sin(m)*a;m=Math.cos(m)*a;g.push(0,0,0);g.push(q,0,m);var l=k&1?e:f;h.push(l.r,l.g,l.b);h.push(l.r,l.g,l.b)}for(k=0;k<=c;k++){l=k&1?e:f;var n=a-a/c*k;for(b=0;b<d;b++)m=b/d*2*Math.PI,q=Math.sin(m)*n,m=Math.cos(m)*n,g.push(q,0,m),h.push(l.r,l.g,l.b),m=(b+1)/d*2*Math.PI,q=Math.sin(m)*n,m=Math.cos(m)*n,g.push(q,0,m),h.push(l.r,l.g,l.b)}a=new E;
a.addAttribute("position",new C(g,3));a.addAttribute("color",new C(h,3));g=new V({vertexColors:2});S.call(this,a,g)}function yc(a,b,c,d){this.audio=a;this.range=b||1;this.divisionsInnerAngle=c||16;this.divisionsOuterAngle=d||2;a=new E;b=new Float32Array(3*(3*(this.divisionsInnerAngle+2*this.divisionsOuterAngle)+3));a.addAttribute("position",new I(b,3));b=new V({color:65280});c=new V({color:16776960});T.call(this,a,[c,b]);this.update()}function vd(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=
void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new E;b=new C(6*b,3);c.addAttribute("position",b);S.call(this,c,new V({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function zc(a,b,c){H.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&
(b=1);a=new E;a.addAttribute("position",new C([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new V({fog:!1});this.lightPlane=new T(a,b);this.add(this.lightPlane);a=new E;a.addAttribute("position",new C([0,0,0,0,0,1],3));this.targetLine=new T(a,b);this.add(this.targetLine);this.update()}function wd(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){f.push(0,0,0);g.push(b.r,b.g,b.b);void 0===h[a]&&(h[a]=[]);h[a].push(f.length/3-1)}var d=new E,e=new V({color:16777215,vertexColors:1}),f=[],g=[],h={},k=new B(16755200),
m=new B(16711680),q=new B(43775),l=new B(16777215),n=new B(3355443);b("n1","n2",k);b("n2","n4",k);b("n4","n3",k);b("n3","n1",k);b("f1","f2",k);b("f2","f4",k);b("f4","f3",k);b("f3","f1",k);b("n1","f1",k);b("n2","f2",k);b("n3","f3",k);b("n4","f4",k);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",m);b("u1","u2",q);b("u2","u3",q);b("u3","u1",q);b("c","t",l);b("p","c",n);b("cn1","cn2",n);b("cn3","cn4",n);b("cf1","cf2",n);b("cf3","cf4",n);d.addAttribute("position",new C(f,3));d.addAttribute("color",
new C(g,3));S.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function gb(a,b){this.object=a;void 0===b&&(b=16776960);a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new Float32Array(24),d=new E;d.setIndex(new I(a,1));d.addAttribute("position",new I(c,3));S.call(this,d,new V({color:b}));this.matrixAutoUpdate=!1;this.update()}function xd(a,
b){this.type="Box3Helper";this.box=a;a=void 0!==b?b:16776960;b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new E;c.setIndex(new I(b,1));c.addAttribute("position",new C([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));S.call(this,c,new V({color:a}));this.geometry.computeBoundingSphere()}function yd(a,b,c){this.type="PlaneHelper";this.plane=a;this.size=void 0===b?1:b;a=void 0!==c?c:16776960;b=new E;b.addAttribute("position",new C([1,-1,1,-1,1,1,-1,-1,1,
1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));b.computeBoundingSphere();T.call(this,b,new V({color:a}));b=new E;b.addAttribute("position",new C([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));b.computeBoundingSphere();this.add(new ha(b,new ka({color:a,opacity:.2,transparent:!0,depthWrite:!1})))}function hb(a,b,c,d,e,f){H.call(this);void 0===a&&(a=new n(0,0,1));void 0===b&&(b=new n(0,0,0));void 0===c&&(c=1);void 0===d&&(d=16776960);void 0===e&&(e=.2*c);void 0===f&&(f=.2*e);void 0===ee&&(ee=new E,
ee.addAttribute("position",new C([0,0,0,0,1,0],3)),Pe=new eb(0,.5,1,5,1),Pe.translate(0,-.5,0));this.position.copy(b);this.line=new T(ee,new V({color:d}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new ha(Pe,new ka({color:d}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,f)}function zd(a){a=a||1;var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new E;a.addAttribute("position",new C(b,3));a.addAttribute("color",new C([1,0,0,1,.6,0,0,1,0,.6,
1,0,0,0,1,0,.6,1],3));b=new V({vertexColors:2});S.call(this,a,b)}function Tf(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ua.call(this,a);this.type="catmullrom";this.closed=!0}function Uf(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ua.call(this,a);this.type="catmullrom"}function Qe(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");ua.call(this,a);this.type=
"catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a});void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===
a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b}}();Object.assign(Ca.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=
this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(var c=0,d=b.length;c<d;c++)b[c].call(this,a)}}}});var P={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var a=[],b=0;256>b;b++)a[b]=(16>b?"0":"")+b.toString(16);
return function(){var b=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=4294967295*Math.random()|0,f=4294967295*Math.random()|0;return(a[b&255]+a[b>>8&255]+a[b>>16&255]+a[b>>24&255]+"-"+a[d&255]+a[d>>8&255]+"-"+a[d>>16&15|64]+a[d>>24&255]+"-"+a[e&63|128]+a[e>>8&255]+"-"+a[e>>16&255]+a[e>>24&255]+a[f&255]+a[f>>8&255]+a[f>>16&255]+a[f>>24&255]).toUpperCase()}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,
d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(a){return a*P.DEG2RAD},radToDeg:function(a){return a*
P.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}};Object.defineProperties(D.prototype,{width:{get:function(){return this.x},set:function(a){this.x=a}},height:{get:function(){return this.y},set:function(a){this.y=a}}});Object.assign(D.prototype,{isVector2:!0,set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=
this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,
b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},applyMatrix3:function(a){var b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=
a[1]*b+a[4]*c+a[7];return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));return this},clampLength:function(a,b){var c=this.length();return this.divideScalar(c||
1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*
a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=
this.x-a.x;a=this.y-a.y;return b*b+a*a},manhattanDistanceTo:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function(a,
b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}});Object.assign(ea,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var h=
c[d+0],k=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var l=e[f+1],p=e[f+2];e=e[f+3];if(c!==e||h!==d||k!==l||m!==p){f=1-g;var n=h*d+k*l+m*p+c*e,t=0<=n?1:-1,r=1-n*n;r>Number.EPSILON&&(r=Math.sqrt(r),n=Math.atan2(r,n*t),f=Math.sin(f*n)/r,g=Math.sin(g*n)/r);t*=g;h=h*f+d*t;k=k*f+l*t;m=m*f+p*t;c=c*f+e*t;f===1-g&&(g=1/Math.sqrt(h*h+k*k+m*m+c*c),h*=g,k*=g,m*=g,c*=g)}a[b]=h;a[b+1]=k;a[b+2]=m;a[b+3]=c}});Object.defineProperties(ea.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a;this.onChangeCallback()}},
y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a;this.onChangeCallback()}},w:{get:function(){return this._w},set:function(a){this._w=a;this.onChangeCallback()}}});Object.assign(ea.prototype,{isQuaternion:!0,set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,d=a._y,e=a._z;a=a.order;var f=Math.cos,g=Math.sin,h=f(c/2),k=f(d/2);f=f(e/2);c=g(c/2);d=g(d/2);e=g(e/2);"XYZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"YXZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*
k*e-c*d*f,this._w=h*k*f+c*d*e):"ZXY"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"ZYX"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"YZX"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f-c*d*e):"XZY"===a&&(this._x=c*k*f-h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f+c*d*e);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,b){b/=2;var c=Math.sin(b);
this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6];b=b[10];var m=c+f+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+k)/
c):(c=2*Math.sqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(a,b){var c=a.dot(b)+1;1E-6>c?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=c;return this.normalize()},angleTo:function(a){return 2*Math.acos(Math.abs(P.clamp(this.dot(a),-1,1)))},rotateTowards:function(a,
b){var c=this.angleTo(a);if(0===c)return this;this.slerp(a,Math.min(1,b/c));return this},inverse:function(){return this.conjugate()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=
this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},premultiply:function(a){return this.multiplyQuaternions(a,this)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z;a=a._w;
var f=b._x,g=b._y,h=b._z;b=b._w;this._x=c*b+a*f+d*h-e*g;this._y=d*b+a*g+e*f-c*h;this._z=e*b+a*h+c*g-d*f;this._w=a*b-c*f-d*g-e*h;this.onChangeCallback();return this},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=1-g*g;if(a<=Number.EPSILON)return g=1-b,this._w=g*
f+b*this._w,this._x=g*c+b*this._x,this._y=g*d+b*this._y,this._z=g*e+b*this._z,this.normalize();a=Math.sqrt(a);var h=Math.atan2(a,g);g=Math.sin((1-b)*h)/a;b=Math.sin(b*h)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();
return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}});Object.assign(n.prototype,{isVector3:!0,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},
setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;
return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;return this},multiplyVectors:function(a,b){this.x=a.x*
b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a=new ea;return function(b){b&&b.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(a.setFromEuler(b))}}(),applyAxisAngle:function(){var a=new ea;return function(b,c){return this.applyQuaternion(a.setFromAxisAngle(b,c))}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*
b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,m=a*d+e*c-f*b;b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-m*-f;this.y=k*a+b*-f+m*-e-h*-g;this.z=m*a+b*
-g+h*-f-k*-e;return this},project:function(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)},unproject:function(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)},transformDirection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/
a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,
Math.min(b,this.z));return this},clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=
0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+
Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b)):this.crossVectors(this,
a)},crossVectors:function(a,b){var c=a.x,d=a.y;a=a.z;var e=b.x,f=b.y;b=b.z;this.x=d*b-a*f;this.y=a*e-c*b;this.z=c*f-d*e;return this},projectOnVector:function(a){var b=a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(b)},projectOnPlane:function(){var a=new n;return function(b){a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a=new n;return function(b){return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*
a.lengthSq());return Math.acos(P.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},manhattanDistanceTo:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)},setFromSpherical:function(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)},setFromSphericalCoords:function(a,b,c){var d=Math.sin(b)*a;this.x=d*Math.sin(c);this.y=Math.cos(b)*
a;this.z=d*Math.cos(c);return this},setFromCylindrical:function(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)},setFromCylindricalCoords:function(a,b,c){this.x=a*Math.sin(b);this.y=c;this.z=a*Math.cos(b);return this},setFromMatrixPosition:function(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this},setFromMatrixScale:function(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=
c;this.z=a;return this},setFromMatrixColumn:function(a,b){return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");
this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}});Object.assign(ia.prototype,{isMatrix3:!0,set:function(a,b,c,d,e,f,g,h,k){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=h;m[6]=c;m[7]=f;m[8]=k;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=
a[8];return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a=new n;return function(b){for(var c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix3(this),b.setXYZ(c,a.x,a.y,a.z);return b}}(),multiply:function(a){return this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements;
b=this.elements;a=c[0];var e=c[3],f=c[6],g=c[1],h=c[4],k=c[7],m=c[2],l=c[5];c=c[8];var p=d[0],n=d[3],t=d[6],r=d[1],u=d[4],w=d[7],z=d[2],y=d[5];d=d[8];b[0]=a*p+e*r+f*z;b[3]=a*n+e*u+f*y;b[6]=a*t+e*w+f*d;b[1]=g*p+h*r+k*z;b[4]=g*n+h*u+k*y;b[7]=g*t+h*w+k*d;b[2]=m*p+l*r+c*z;b[5]=m*n+l*u+c*y;b[8]=m*t+l*w+c*d;return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],c=a[1],
d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7];a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function(a,b){a&&a.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],m=c[6],l=c[7];c=c[8];var p=c*h-k*l,n=k*m-c*g,t=l*g-h*m,r=d*p+e*n+f*t;if(0===r){if(!0===b)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");
return this.identity()}b=1/r;a[0]=p*b;a[1]=(f*l-c*e)*b;a[2]=(k*e-f*h)*b;a[3]=n*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-k*d)*b;a[6]=t*b;a[7]=(e*m-l*d)*b;a[8]=(h*d-e*g)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=
b[2];a[7]=b[5];a[8]=b[8];return this},setUvTransform:function(a,b,c,d,e,f,g){var h=Math.cos(e);e=Math.sin(e);this.set(c*h,c*e,-c*(h*f+e*g)+f+a,-d*e,d*h,-d*(-e*f+h*g)+g+b,0,0,1)},scale:function(a,b){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.elements,d=c[0],e=c[3],f=c[6],g=c[1],h=c[4],k=c[7];c[0]=b*d+a*g;c[3]=b*e+a*h;c[6]=b*f+a*k;c[1]=-a*d+b*g;c[4]=-a*e+b*h;c[7]=-a*f+b*k;return this},translate:function(a,
b){var c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;9>c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;9>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];
return a}});var Ac,qb={getDataURL:function(a){if("undefined"==typeof HTMLCanvasElement)return a.src;if(!(a instanceof HTMLCanvasElement)){void 0===Ac&&(Ac=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));Ac.width=a.width;Ac.height=a.height;var b=Ac.getContext("2d");a instanceof ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height);a=Ac}return 2048<a.width||2048<a.height?a.toDataURL("image/jpeg",.6):a.toDataURL("image/png")}},Xf=0;X.DEFAULT_IMAGE=void 0;X.DEFAULT_MAPPING=
300;X.prototype=Object.assign(Object.create(Ca.prototype),{constructor:X,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=
a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){var b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];
var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};
if(void 0!==this.image){var d=this.image;void 0===d.uuid&&(d.uuid=P.generateUUID());if(!b&&void 0===a.images[d.uuid]){if(Array.isArray(d)){var e=[];for(var f=0,g=d.length;f<g;f++)e.push(qb.getDataURL(d[f]))}else e=qb.getDataURL(d);a.images[d.uuid]={uuid:d.uuid,url:e}}c.image=d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=
Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}});Object.defineProperty(X.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(ba.prototype,{isVector4:!0,set:function(a,
b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},
addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=
a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/
a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9];var h=a[2];var k=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-h)&&.01>Math.abs(g-k)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+h)&&.1>Math.abs(g+k)&&.1>Math.abs(b+f+m-3))return this.set(1,0,0,0),this;a=Math.PI;
b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+h)/4;g=(g+k)/4;b>f&&b>m?.01>b?(k=0,c=h=.707106781):(k=Math.sqrt(b),h=c/k,c=d/k):f>m?.01>f?(k=.707106781,h=0,c=.707106781):(h=Math.sqrt(f),k=c/h,c=g/h):.01>m?(h=k=.707106781,c=0):(c=Math.sqrt(m),k=d/c,h=g/c);this.set(k,h,c,a);return this}a=Math.sqrt((k-g)*(k-g)+(d-h)*(d-h)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(k-g)/a;this.y=(d-h)/a;this.z=(e-c)/a;this.w=Math.acos((b+f+m-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new ba,b=new ba);a.set(c,
c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);
this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");
this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}});Ta.prototype=Object.assign(Object.create(Ca.prototype),{constructor:Ta,isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();
this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});he.prototype=Object.assign(Object.create(Ta.prototype),{constructor:he,isWebGLMultisampleRenderTarget:!0,copy:function(a){Ta.prototype.copy.call(this,a);this.samples=a.samples;return this}});rb.prototype=Object.create(Ta.prototype);rb.prototype.constructor=rb;rb.prototype.isWebGLRenderTargetCube=!0;sb.prototype=Object.create(X.prototype);
sb.prototype.constructor=sb;sb.prototype.isDataTexture=!0;Object.assign(Ha.prototype,{isBox3:!0,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<k;h+=3){var m=a[h],l=a[h+1],p=a[h+2];m<b&&(b=m);l<c&&(c=l);p<d&&(d=p);m>e&&(e=m);l>f&&(f=l);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromBufferAttribute:function(a){for(var b=Infinity,c=Infinity,
d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.count;h<k;h++){var m=a.getX(h),l=a.getY(h),p=a.getZ(h);m<b&&(b=m);l<c&&(c=l);p<d&&(d=p);m>e&&(e=m);l>f&&(f=l);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new n;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),
setFromObject:function(a){this.makeEmpty();return this.expandByObject(a)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(a){void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),
a=new n);return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){void 0===a&&(console.warn("THREE.Box3: .getSize() target is now required"),a=new n);return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},expandByObject:function(){function a(a){var f=
a.geometry;if(void 0!==f)if(f.isGeometry)for(f=f.vertices,c=0,d=f.length;c<d;c++)e.copy(f[c]),e.applyMatrix4(a.matrixWorld),b.expandByPoint(e);else if(f.isBufferGeometry&&(f=f.attributes.position,void 0!==f))for(c=0,d=f.count;c<d;c++)e.fromBufferAttribute(f,c).applyMatrix4(a.matrixWorld),b.expandByPoint(e)}var b,c,d,e=new n;return function(c){b=this;c.updateMatrixWorld(!0);c.traverse(a);return this}}(),containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||
a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,b){void 0===b&&(console.warn("THREE.Box3: .getParameter() target is now required"),b=new n);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||
a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a=new n;return function(b){this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=
a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant},intersectsTriangle:function(){function a(a){var e;var f=0;for(e=a.length-3;f<=e;f+=3){h.fromArray(a,f);var g=m.x*Math.abs(h.x)+m.y*Math.abs(h.y)+m.z*Math.abs(h.z),k=b.dot(h),l=c.dot(h),q=d.dot(h);if(Math.max(-Math.max(k,l,q),Math.min(k,l,q))>g)return!1}return!0}var b=new n,c=new n,d=new n,e=new n,f=new n,g=new n,h=new n,
k=new n,m=new n,l=new n;return function(h){if(this.isEmpty())return!1;this.getCenter(k);m.subVectors(this.max,k);b.subVectors(h.a,k);c.subVectors(h.b,k);d.subVectors(h.c,k);e.subVectors(c,b);f.subVectors(d,c);g.subVectors(b,d);h=[0,-e.z,e.y,0,-f.z,f.y,0,-g.z,g.y,e.z,0,-e.x,f.z,0,-f.x,g.z,0,-g.x,-e.y,e.x,0,-f.y,f.x,0,-g.y,g.x,0];if(!a(h))return!1;h=[1,0,0,0,1,0,0,0,1];if(!a(h))return!1;l.crossVectors(e,f);h=[l.x,l.y,l.z];return a(h)}}(),clampPoint:function(a,b){void 0===b&&(console.warn("THREE.Box3: .clampPoint() target is now required"),
b=new n);return b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new n;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new n;return function(b){void 0===b&&console.error("THREE.Box3: .getBoundingSphere() target is now required");this.getCenter(b.center);b.radius=.5*this.getSize(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);
this.max.max(a.max);return this},applyMatrix4:function(){var a=[new n,new n,new n,new n,new n,new n,new n,new n];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);
a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Ua.prototype,{set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new Ha;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).getCenter(d);
for(var e=c=0,f=b.length;e<f;e++)c=Math.max(c,d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+
a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);void 0===b&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),b=new n);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){void 0===
a&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),a=new Ha);a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}});Object.assign(Va.prototype,{set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,
b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new n,b=new n;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=
1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){void 0===b&&(console.warn("THREE.Plane: .projectPoint() target is now required"),b=new n);return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)},intersectLine:function(){var a=
new n;return function(b,c){void 0===c&&(console.warn("THREE.Plane: .intersectLine() target is now required"),c=new n);var d=b.delta(a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsLine:function(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectsBox:function(a){return a.intersectsPlane(this)},
intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){void 0===a&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),a=new n);return a.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new n,b=new ia;return function(c,d){d=d||b.getNormalMatrix(c);c=this.coplanarPoint(a).applyMatrix4(c);d=this.normal.applyMatrix3(d).normalize();this.constant=-c.dot(d);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);
return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}});Object.assign(Ad.prototype,{set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],
h=c[5],k=c[6],m=c[7],l=c[8],p=c[9],n=c[10],t=c[11],r=c[12],u=c[13],w=c[14];c=c[15];b[0].setComponents(f-a,m-g,t-l,c-r).normalize();b[1].setComponents(f+a,m+g,t+l,c+r).normalize();b[2].setComponents(f+d,m+h,t+p,c+u).normalize();b[3].setComponents(f-d,m-h,t-p,c-u).normalize();b[4].setComponents(f-e,m-k,t-n,c-w).normalize();b[5].setComponents(f+e,m+k,t+n,c+w).normalize();return this},intersectsObject:function(){var a=new Ua;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();
a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Ua;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new n;return function(b){for(var c=this.planes,d=0;6>d;d++){var e=c[d];
a.x=0<e.normal.x?b.max.x:b.min.x;a.y=0<e.normal.y?b.max.y:b.min.y;a.z=0<e.normal.z?b.max.z:b.min.z;if(0>e.distanceToPoint(a))return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}});Object.assign(O.prototype,{isMatrix4:!0,set:function(a,b,c,d,e,f,g,h,k,m,l,p,n,t,r,u){var q=this.elements;q[0]=a;q[4]=b;q[8]=c;q[12]=d;q[1]=e;q[5]=f;q[9]=g;q[13]=h;q[2]=k;q[6]=m;q[10]=l;q[14]=p;q[3]=n;q[7]=t;q[11]=r;q[15]=u;return this},identity:function(){this.set(1,
0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new O).fromArray(this.elements)},copy:function(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this},copyPosition:function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function(a,b,c){a.setFromMatrixColumn(this,0);
b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a=new n;return function(b){var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length();b=1/a.setFromMatrixColumn(b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[3]=0;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[7]=0;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*
b;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this}}(),makeRotationFromEuler:function(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c);c=Math.sin(c);var g=Math.cos(d);d=Math.sin(d);var h=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=f*h;var k=f*e,m=c*h,l=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=k+m*d;b[5]=a-l*d;b[9]=-c*g;b[2]=l-a*d;b[6]=m+k*d;b[10]=f*g}else"YXZ"===
a.order?(a=g*h,k=g*e,m=d*h,l=d*e,b[0]=a+l*c,b[4]=m*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-m,b[6]=l+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,k=g*e,m=d*h,l=d*e,b[0]=a-l*c,b[4]=-f*e,b[8]=m+k*c,b[1]=k+m*c,b[5]=f*h,b[9]=l-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,k=f*e,m=c*h,l=c*e,b[0]=g*h,b[4]=m*d-k,b[8]=a*d+l,b[1]=g*e,b[5]=l*d+a,b[9]=k*d-m,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,k=f*d,m=c*g,l=c*d,b[0]=g*h,b[4]=l-a*e,b[8]=m*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*
e+m,b[10]=a-l*e):"XZY"===a.order&&(a=f*g,k=f*d,m=c*g,l=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+l,b[5]=f*h,b[9]=k*e-m,b[2]=m*e-k,b[6]=c*h,b[10]=l*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},makeRotationFromQuaternion:function(){var a=new n(0,0,0),b=new n(1,1,1);return function(c){return this.compose(a,c,b)}}(),lookAt:function(){var a=new n,b=new n,c=new n;return function(d,e,f){var g=this.elements;c.subVectors(d,e);0===c.lengthSq()&&(c.z=1);c.normalize();a.crossVectors(f,
c);0===a.lengthSq()&&(1===Math.abs(f.z)?c.x+=1E-4:c.z+=1E-4,c.normalize(),a.crossVectors(f,c));a.normalize();b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},
multiplyMatrices:function(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[4],f=c[8],g=c[12],h=c[1],k=c[5],m=c[9],l=c[13],p=c[2],n=c[6],t=c[10],r=c[14],u=c[3],w=c[7],z=c[11];c=c[15];var y=d[0],x=d[4],A=d[8],G=d[12],D=d[1],C=d[5],F=d[9],B=d[13],E=d[2],H=d[6],I=d[10],J=d[14],L=d[3],N=d[7],R=d[11];d=d[15];b[0]=a*y+e*D+f*E+g*L;b[4]=a*x+e*C+f*H+g*N;b[8]=a*A+e*F+f*I+g*R;b[12]=a*G+e*B+f*J+g*d;b[1]=h*y+k*D+m*E+l*L;b[5]=h*x+k*C+m*H+l*N;b[9]=h*A+k*F+m*I+l*R;b[13]=h*G+k*B+m*J+l*d;b[2]=p*y+n*
D+t*E+r*L;b[6]=p*x+n*C+t*H+r*N;b[10]=p*A+n*F+t*I+r*R;b[14]=p*G+n*B+t*J+r*d;b[3]=u*y+w*D+z*E+c*L;b[7]=u*x+w*C+z*H+c*N;b[11]=u*A+w*F+z*I+c*R;b[15]=u*G+w*B+z*J+c*d;return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},applyToBufferAttribute:function(){var a=new n;return function(b){for(var c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),
a.applyMatrix4(this),b.setXYZ(c,a.x,a.y,a.z);return b}}(),determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],m=a[2],l=a[6],p=a[10],n=a[14];return a[3]*(+e*h*l-d*k*l-e*g*p+c*k*p+d*g*n-c*h*n)+a[7]*(+b*h*n-b*k*p+e*f*p-d*f*n+d*k*m-e*h*m)+a[11]*(+b*k*l-b*g*n-e*f*l+c*f*n+e*g*m-c*k*m)+a[15]*(-d*g*m-b*h*l+b*g*p+d*f*l-c*f*p+c*h*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=
a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},setPosition:function(a,b,c){var d=this.elements;a.isVector3?(d[12]=a.x,d[13]=a.y,d[14]=a.z):(d[12]=a,d[13]=b,d[14]=c);return this},getInverse:function(a,b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],h=d[4],k=d[5],m=d[6],l=d[7],p=d[8],n=d[9],t=d[10],r=d[11],u=d[12],w=d[13],z=d[14];d=d[15];var y=n*z*l-w*t*l+w*m*r-k*z*r-n*m*d+k*t*d,x=u*t*l-p*z*l-u*m*r+h*z*r+p*m*d-h*t*d,A=p*w*l-u*n*l+u*k*r-h*w*r-p*k*
d+h*n*d,G=u*n*m-p*w*m-u*k*t+h*w*t+p*k*z-h*n*z,D=a*y+e*x+f*A+g*G;if(0===D){if(!0===b)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/D;c[0]=y*b;c[1]=(w*t*g-n*z*g-w*f*r+e*z*r+n*f*d-e*t*d)*b;c[2]=(k*z*g-w*m*g+w*f*l-e*z*l-k*f*d+e*m*d)*b;c[3]=(n*m*g-k*t*g-n*f*l+e*t*l+k*f*r-e*m*r)*b;c[4]=x*b;c[5]=(p*z*g-u*t*g+u*f*r-a*z*r-p*f*d+a*t*d)*b;c[6]=(u*m*g-h*z*g-u*f*l+a*
z*l+h*f*d-a*m*d)*b;c[7]=(h*t*g-p*m*g+p*f*l-a*t*l-h*f*r+a*m*r)*b;c[8]=A*b;c[9]=(u*n*g-p*w*g-u*e*r+a*w*r+p*e*d-a*n*d)*b;c[10]=(h*w*g-u*k*g+u*e*l-a*w*l-h*e*d+a*k*d)*b;c[11]=(p*k*g-h*n*g-p*e*l+a*n*l+h*e*r-a*k*r)*b;c[12]=G*b;c[13]=(p*w*f-u*n*f+u*e*t-a*w*t-p*e*z+a*n*z)*b;c[14]=(u*k*f-h*w*f-u*e*m+a*w*m+h*e*z-a*k*z)*b;c[15]=(h*n*f-p*k*f+p*e*m-a*n*m-h*e*t+a*k*t)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=
c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,
1);return this},makeRotationZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=1-c,e=a.x,f=a.y;a=a.z;var g=d*e,h=d*f;this.set(g*e+c,g*f-b*a,g*a+b*f,0,g*f+b*a,h*f+c,h*a-b*e,0,g*a-b*f,h*a+b*e,d*a*a+c,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeShear:function(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this},
compose:function(a,b,c){var d=this.elements,e=b._x,f=b._y,g=b._z,h=b._w,k=e+e,m=f+f,l=g+g;b=e*k;var p=e*m;e*=l;var n=f*m;f*=l;g*=l;k*=h;m*=h;h*=l;l=c.x;var t=c.y;c=c.z;d[0]=(1-(n+g))*l;d[1]=(p+h)*l;d[2]=(e-m)*l;d[3]=0;d[4]=(p-h)*t;d[5]=(1-(b+g))*t;d[6]=(f+k)*t;d[7]=0;d[8]=(e+m)*c;d[9]=(f-k)*c;d[10]=(1-(b+n))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this},decompose:function(){var a=new n,b=new O;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],
f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.copy(this);c=1/g;f=1/h;var m=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makePerspective:function(a,b,c,d,e,f){void 0===f&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(c-d);g[9]=(c+d)/(c-d);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),k=1/(c-d),m=1/(f-e);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((b+a)*h);g[1]=0;g[5]=2*k;g[9]=0;g[13]=-((c+d)*k);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+e)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},equals:function(a){var b=this.elements;
a=a.elements;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}});var U={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",
alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",
color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",
emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",
lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",
logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",
normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",
shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",
uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",
uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",
depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},
sh={clone:Sb,merge:wa},th={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,
teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(B.prototype,{isColor:!0,r:1,g:1,b:1,set:function(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=a;return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;
return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=P.euclideanModulo(b,1);c=P.clamp(c,0,1);d=P.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),setStyle:function(a){function b(b){void 0!==b&&1>parseFloat(b)&&console.warn("THREE.Color: Alpha component of "+
a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],
10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){d=parseFloat(c[1])/360;var e=parseInt(c[2],10)/100,f=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,f)}}}else if(c=/^#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),
16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}a&&0<a.length&&(c=th[a],void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,
b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(a){this.copyGammaToLinear(this,a);return this},convertLinearToGamma:function(a){this.copyLinearToGamma(this,a);return this},copySRGBToLinear:function(){function a(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}return function(b){this.r=a(b.r);this.g=a(b.g);this.b=
a(b.b);return this}}(),copyLinearToSRGB:function(){function a(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}return function(b){this.r=a(b.r);this.g=a(b.g);this.b=a(b.b);return this}}(),convertSRGBToLinear:function(){this.copySRGBToLinear(this);return this},convertLinearToSRGB:function(){this.copyLinearToSRGB(this);return this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){void 0===
a&&(console.warn("THREE.Color: .getHSL() target is now required"),a={h:0,s:0,l:0});var b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d),f=Math.min(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f;f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var a={};return function(b,c,d){this.getHSL(a);a.h+=
b;a.s+=c;a.l+=d;this.setHSL(a.h,a.s,a.l);return this}}(),add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},sub:function(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=
a;this.b*=a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},lerpHSL:function(){var a={h:0,s:0,l:0},b={h:0,s:0,l:0};return function(c,d){this.getHSL(a);c.getHSL(b);c=P.lerp(a.h,b.h,d);var e=P.lerp(a.s,b.s,d);d=P.lerp(a.l,b.l,d);this.setHSL(c,e,d);return this}}(),equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,
b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},toJSON:function(){return this.getHex()}});var J={common:{diffuse:{value:new B(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ia},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},
lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new D(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new B(16777215)}},
lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},
position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new B(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ia}},sprite:{diffuse:{value:new B(15658734)},
opacity:{value:1},center:{value:new D(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ia}}},Wa={basic:{uniforms:wa([J.common,J.specularmap,J.envmap,J.aomap,J.lightmap,J.fog]),vertexShader:U.meshbasic_vert,fragmentShader:U.meshbasic_frag},lambert:{uniforms:wa([J.common,J.specularmap,J.envmap,J.aomap,J.lightmap,J.emissivemap,J.fog,J.lights,{emissive:{value:new B(0)}}]),vertexShader:U.meshlambert_vert,fragmentShader:U.meshlambert_frag},phong:{uniforms:wa([J.common,J.specularmap,J.envmap,
J.aomap,J.lightmap,J.emissivemap,J.bumpmap,J.normalmap,J.displacementmap,J.gradientmap,J.fog,J.lights,{emissive:{value:new B(0)},specular:{value:new B(1118481)},shininess:{value:30}}]),vertexShader:U.meshphong_vert,fragmentShader:U.meshphong_frag},standard:{uniforms:wa([J.common,J.envmap,J.aomap,J.lightmap,J.emissivemap,J.bumpmap,J.normalmap,J.displacementmap,J.roughnessmap,J.metalnessmap,J.fog,J.lights,{emissive:{value:new B(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),
vertexShader:U.meshphysical_vert,fragmentShader:U.meshphysical_frag},matcap:{uniforms:wa([J.common,J.bumpmap,J.normalmap,J.displacementmap,J.fog,{matcap:{value:null}}]),vertexShader:U.meshmatcap_vert,fragmentShader:U.meshmatcap_frag},points:{uniforms:wa([J.points,J.fog]),vertexShader:U.points_vert,fragmentShader:U.points_frag},dashed:{uniforms:wa([J.common,J.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:U.linedashed_vert,fragmentShader:U.linedashed_frag},depth:{uniforms:wa([J.common,
J.displacementmap]),vertexShader:U.depth_vert,fragmentShader:U.depth_frag},normal:{uniforms:wa([J.common,J.bumpmap,J.normalmap,J.displacementmap,{opacity:{value:1}}]),vertexShader:U.normal_vert,fragmentShader:U.normal_frag},sprite:{uniforms:wa([J.sprite,J.fog]),vertexShader:U.sprite_vert,fragmentShader:U.sprite_frag},background:{uniforms:{uvTransform:{value:new ia},t2D:{value:null}},vertexShader:U.background_vert,fragmentShader:U.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},
opacity:{value:1}},vertexShader:U.cube_vert,fragmentShader:U.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:U.equirect_vert,fragmentShader:U.equirect_frag},distanceRGBA:{uniforms:wa([J.common,J.displacementmap,{referencePosition:{value:new n},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:U.distanceRGBA_vert,fragmentShader:U.distanceRGBA_frag},shadow:{uniforms:wa([J.lights,J.fog,{color:{value:new B(0)},opacity:{value:1}}]),vertexShader:U.shadow_vert,fragmentShader:U.shadow_frag}};
Wa.physical={uniforms:wa([Wa.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:U.meshphysical_vert,fragmentShader:U.meshphysical_frag};Object.assign(Tb.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<
c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}});tb.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");tb.DefaultOrder="XYZ";Object.defineProperties(tb.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a;this.onChangeCallback()}},order:{get:function(){return this._order},set:function(a){this._order=
a;this.onChangeCallback()}}});Object.assign(tb.prototype,{isEuler:!0,set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=P.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],m=e[9],l=e[2],p=
e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(p,k),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(m,-1,1)),.99999>Math.abs(m)?(this._y=Math.atan2(g,e),this._z=Math.atan2(h,k)):(this._y=Math.atan2(-l,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(p,-1,1)),.99999>Math.abs(p)?(this._y=Math.atan2(-l,e),this._z=Math.atan2(-f,k)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(l,
-1,1)),.99999>Math.abs(l)?(this._x=Math.atan2(p,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,k))):"YZX"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-m,k),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(p,k),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=
b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a=new O;return function(b,c,d){a.makeRotationFromQuaternion(b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new ea;return function(b){a.setFromEuler(this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=
a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new n(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}});Object.assign(je.prototype,{set:function(a){this.mask=1<<a|0},enable:function(a){this.mask=
this.mask|1<<a|0},toggle:function(a){this.mask^=1<<a|0},disable:function(a){this.mask&=~(1<<a|0)},test:function(a){return 0!==(this.mask&a.mask)}});var Zf=0;H.DefaultUp=new n(0,1,0);H.DefaultMatrixAutoUpdate=!0;H.prototype=Object.assign(Object.create(Ca.prototype),{constructor:H,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)},
applyQuaternion:function(a){this.quaternion.premultiply(a);return this},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new ea;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.multiply(a);return this}}(),rotateOnWorldAxis:function(){var a=
new ea;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.premultiply(a);return this}}(),rotateX:function(){var a=new n(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new n(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new n(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new n;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(c));
return this}}(),translateX:function(){var a=new n(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new n(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new n(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new O;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=
new ea,b=new O,c=new n,d=new n;return function(e,f,g){e.isVector3?c.copy(e):c.set(e,f,g);e=this.parent;this.updateWorldMatrix(!0,!1);d.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?b.lookAt(d,c,this.up):b.lookAt(c,d,this.up);this.quaternion.setFromRotationMatrix(b);e&&(b.extractRotation(e.matrixWorld),a.setFromRotationMatrix(b),this.quaternion.premultiply(a.inverse()))}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===
this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),
this.children.splice(b,1));return this},attach:function(){var a=new O;return function(b){this.updateWorldMatrix(!0,!1);a.getInverse(this.matrixWorld);null!==b.parent&&(b.parent.updateWorldMatrix(!0,!1),a.multiply(b.parent.matrixWorld));b.applyMatrix(a);b.updateWorldMatrix(!1,!1);this.add(b);return this}}(),getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;
for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),a=new n);this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new n,b=new n;return function(c){void 0===c&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),c=new ea);this.updateMatrixWorld(!0);
this.matrixWorld.decompose(a,c,b);return c}}(),getWorldScale:function(){var a=new n,b=new ea;return function(c){void 0===c&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),c=new n);this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),a=new n);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()},
raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&
this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)},updateWorldMatrix:function(a,b){var c=this.parent;!0===a&&null!==c&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix);if(!0===b)for(a=this.children,b=0,c=a.length;b<c;b++)a[b].updateWorldMatrix(!1,!0)},toJSON:function(a){function b(b,c){void 0===b[c.uuid]&&(b[c.uuid]=c.toJSON(a));return c.uuid}function c(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var d=void 0===a||"string"===typeof a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={};f.uuid=this.uuid;f.type=this.type;""!==
this.name&&(f.name=this.name);!0===this.castShadow&&(f.castShadow=!0);!0===this.receiveShadow&&(f.receiveShadow=!0);!1===this.visible&&(f.visible=!1);!1===this.frustumCulled&&(f.frustumCulled=!1);0!==this.renderOrder&&(f.renderOrder=this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData);f.layers=this.layers.mask;f.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(f.matrixAutoUpdate=!1);this.isMesh&&0!==this.drawMode&&(f.drawMode=this.drawMode);if(this.isMesh||this.isLine||
this.isPoints){f.geometry=b(a.geometries,this.geometry);var g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes)if(g=g.shapes,Array.isArray(g))for(var h=0,k=g.length;h<k;h++)b(a.shapes,g[h]);else b(a.shapes,g)}if(void 0!==this.material)if(Array.isArray(this.material)){g=[];h=0;for(k=this.material.length;h<k;h++)g.push(b(a.materials,this.material[h]));f.material=g}else f.material=b(a.materials,this.material);if(0<this.children.length)for(f.children=[],h=0;h<this.children.length;h++)f.children.push(this.children[h].toJSON(a).object);
if(d){d=c(a.geometries);h=c(a.materials);k=c(a.textures);var m=c(a.images);g=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&(e.materials=h);0<k.length&&(e.textures=k);0<m.length&&(e.images=m);0<g.length&&(e.shapes=g)}e.object=f;return e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);
this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});var $f=0;Q.prototype=Object.assign(Object.create(Ca.prototype),{constructor:Q,isGeometry:!0,
applyMatrix:function(a){for(var b=(new ia).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a=
new O;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new O;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new O;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new O;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new O;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),
lookAt:function(){var a=new H;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,d,e){var f=void 0===h?[]:[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()],l=void 0===g?[]:[(new n).fromArray(g,3*a),(new n).fromArray(g,3*b),(new n).fromArray(g,3*d)];e=new Tb(a,b,d,l,f,e);c.faces.push(e);void 0!==k&&c.faceVertexUvs[0].push([(new D).fromArray(k,2*a),(new D).fromArray(k,2*b),(new D).fromArray(k,2*d)]);void 0!==m&&c.faceVertexUvs[1].push([(new D).fromArray(m,
2*a),(new D).fromArray(m,2*b),(new D).fromArray(m,2*d)])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,k=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(e=0;e<f.length;e+=3)c.vertices.push((new n).fromArray(f,e)),void 0!==h&&c.colors.push((new B).fromArray(h,e));var l=a.groups;if(0<l.length)for(e=0;e<l.length;e++){f=l[e];
var p=f.start,v=p;for(p+=f.count;v<p;v+=3)void 0!==d?b(d[v],d[v+1],d[v+2],f.materialIndex):b(v,v+1,v+2,f.materialIndex)}else if(void 0!==d)for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=3)b(e,e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){var a=new n;return function(){this.computeBoundingBox();this.boundingBox.getCenter(a).negate();
this.translate(a.x,a.y,a.z);return this}}(),normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new O;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new n,b=new n,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},
computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new n;if(a){var e=new n,f=new n;a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a];var h=this.vertices[b.b];var k=this.vertices[b.c];e.subVectors(k,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(this.computeFaceNormals(),a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),
c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var a;this.computeFaceNormals();var b=0;for(a=this.faces.length;b<a;b++){var c=this.faces[b];var d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),
d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):
d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var f=new Q;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var h=new n;var k={a:new n,b:new n,c:new n};d.push(h);g.push(k)}}g=this.morphNormals[e];f.vertices=this.morphTargets[e].vertices;f.computeFaceNormals();
f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(d.normal),k.a.copy(d.vertexNormals[0]),k.b.copy(d.vertexNormals[1]),k.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ha);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===
this.boundingSphere&&(this.boundingSphere=new Ua);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,m=this.faceVertexUvs[0],l=a.faceVertexUvs[0],p=this.colors,n=a.colors;void 0===c&&(c=0);void 0!==b&&(d=(new ia).getNormalMatrix(b));a=0;for(var t=g.length;a<t;a++){var r=g[a].clone();void 0!==b&&r.applyMatrix4(b);f.push(r)}a=0;for(t=n.length;a<t;a++)p.push(n[a].clone());a=0;for(t=
k.length;a<t;a++){g=k[a];var u=g.vertexNormals;n=g.vertexColors;p=new Tb(g.a+e,g.b+e,g.c+e);p.normal.copy(g.normal);void 0!==d&&p.normal.applyMatrix3(d).normalize();b=0;for(f=u.length;b<f;b++)r=u[b].clone(),void 0!==d&&r.applyMatrix3(d).normalize(),p.vertexNormals.push(r);p.color.copy(g.color);b=0;for(f=n.length;b<f;b++)r=n[b],p.vertexColors.push(r.clone());p.materialIndex=g.materialIndex+c;h.push(p)}a=0;for(t=l.length;a<t;a++)if(c=l[a],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());
m.push(d)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a)},mergeMesh:function(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function(){var a={},b=[],c=[],d=Math.pow(10,4),e;var f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d);void 0===a[g]?
(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++)for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++)if(d[g]===d[(g+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,1);f=this.vertices.length-b.length;this.vertices=b;return f},setFromPoints:function(a){this.vertices=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];
this.vertices.push(new n(d.x,d.y,d.z||0))}return this},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=
a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=k.length/3;k.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==p[b])return p[b];p[b]=l.length;l.push(a.getHex());return p[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=n.length/2;n.push(a.x,a.y);return t[b]}var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&
(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}h=[];var k=[],m={},l=[],p={},n=[],t={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],u=void 0!==this.faceVertexUvs[0][g],w=0<r.normal.length(),z=0<r.vertexNormals.length,y=1!==r.color.r||1!==r.color.g||1!==r.color.b,x=0<r.vertexColors.length,A=0;A=a(A,0,0);A=a(A,1,!0);A=a(A,2,!1);A=a(A,3,u);
A=a(A,4,w);A=a(A,5,z);A=a(A,6,y);A=a(A,7,x);h.push(A);h.push(r.a,r.b,r.c);h.push(r.materialIndex);u&&(u=this.faceVertexUvs[0][g],h.push(d(u[0]),d(u[1]),d(u[2])));w&&h.push(b(r.normal));z&&(w=r.vertexNormals,h.push(b(w[0]),b(w[1]),b(w[2])));y&&h.push(c(r.color));x&&(r=r.vertexColors,h.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<l.length&&(e.data.colors=l);0<n.length&&(e.data.uvs=[n]);e.data.faces=h;return e},clone:function(){return(new Q).copy(this)},copy:function(a){var b,
c,d;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var e=a.vertices;var f=0;for(b=e.length;f<b;f++)this.vertices.push(e[f].clone());e=a.colors;f=0;for(b=e.length;f<b;f++)this.colors.push(e[f].clone());e=a.faces;f=0;for(b=e.length;f<b;f++)this.faces.push(e[f].clone());f=0;for(b=a.faceVertexUvs.length;f<b;f++){var g=
a.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);e=0;for(c=g.length;e<c;e++){var h=g[e],k=[];var m=0;for(d=h.length;m<d;m++)k.push(h[m].clone());this.faceVertexUvs[f].push(k)}}m=a.morphTargets;f=0;for(b=m.length;f<b;f++){d={};d.name=m[f].name;if(void 0!==m[f].vertices)for(d.vertices=[],e=0,c=m[f].vertices.length;e<c;e++)d.vertices.push(m[f].vertices[e].clone());if(void 0!==m[f].normals)for(d.normals=[],e=0,c=m[f].normals.length;e<c;e++)d.normals.push(m[f].normals[e].clone());
this.morphTargets.push(d)}m=a.morphNormals;f=0;for(b=m.length;f<b;f++){d={};if(void 0!==m[f].vertexNormals)for(d.vertexNormals=[],e=0,c=m[f].vertexNormals.length;e<c;e++)g=m[f].vertexNormals[e],h={},h.a=g.a.clone(),h.b=g.b.clone(),h.c=g.c.clone(),d.vertexNormals.push(h);if(void 0!==m[f].faceNormals)for(d.faceNormals=[],e=0,c=m[f].faceNormals.length;e<c;e++)d.faceNormals.push(m[f].faceNormals[e].clone());this.morphNormals.push(d)}e=a.skinWeights;f=0;for(b=e.length;f<b;f++)this.skinWeights.push(e[f].clone());
e=a.skinIndices;f=0;for(b=e.length;f<b;f++)this.skinIndices.push(e[f].clone());e=a.lineDistances;f=0;for(b=e.length;f<b;f++)this.lineDistances.push(e[f]);f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());f=a.boundingSphere;null!==f&&(this.boundingSphere=f.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=
a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(I.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(I.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.itemSize:0;this.array=a;return this},setDynamic:function(a){this.dynamic=
a;return this},copy:function(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){this.array.set(a);return this},copyColorsArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",
d),f=new B);b[c++]=f.r;b[c++]=f.g;b[c++]=f.b}return this},copyVector2sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),f=new D);b[c++]=f.x;b[c++]=f.y}return this},copyVector3sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),f=new n);b[c++]=f.x;b[c++]=f.y;
b[c++]=f.z}return this},copyVector4sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),f=new ba);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z;b[c++]=f.w}return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+
1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},
setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,this.itemSize)).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});Bc.prototype=Object.create(I.prototype);Bc.prototype.constructor=Bc;Cc.prototype=
Object.create(I.prototype);Cc.prototype.constructor=Cc;Dc.prototype=Object.create(I.prototype);Dc.prototype.constructor=Dc;Ec.prototype=Object.create(I.prototype);Ec.prototype.constructor=Ec;ub.prototype=Object.create(I.prototype);ub.prototype.constructor=ub;Fc.prototype=Object.create(I.prototype);Fc.prototype.constructor=Fc;vb.prototype=Object.create(I.prototype);vb.prototype.constructor=vb;C.prototype=Object.create(I.prototype);C.prototype.constructor=C;Gc.prototype=Object.create(I.prototype);Gc.prototype.constructor=
Gc;Object.assign(Xe.prototype,{computeGroups:function(a){var b=[],c=void 0;a=a.faces;for(var d=0;d<a.length;d++){var e=a[d];if(e.materialIndex!==c){c=e.materialIndex;void 0!==f&&(f.count=3*d-f.start,b.push(f));var f={start:3*d,materialIndex:c}}}void 0!==f&&(f.count=3*d-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length;if(0<h){var k=[];for(var m=0;m<h;m++)k[m]={name:g[m].name,
data:[]};this.morphTargets.position=k}var l=a.morphNormals,p=l.length;if(0<p){var n=[];for(m=0;m<p;m++)n[m]={name:l[m].name,data:[]};this.morphTargets.normal=n}var t=a.skinIndices,r=a.skinWeights,u=t.length===c.length,w=r.length===c.length;0<c.length&&0===b.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(m=0;m<b.length;m++){var z=b[m];this.vertices.push(c[z.a],c[z.b],c[z.c]);var y=z.vertexNormals;3===y.length?this.normals.push(y[0],y[1],y[2]):(y=z.normal,
this.normals.push(y,y,y));y=z.vertexColors;3===y.length?this.colors.push(y[0],y[1],y[2]):(y=z.color,this.colors.push(y,y,y));!0===e&&(y=d[0][m],void 0!==y?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",m),this.uvs.push(new D,new D,new D)));!0===f&&(y=d[1][m],void 0!==y?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new D,new D,new D)));for(y=0;y<h;y++){var x=g[y].vertices;
k[y].data.push(x[z.a],x[z.b],x[z.c])}for(y=0;y<p;y++)x=l[y].vertexNormals[m],n[y].data.push(x.a,x.b,x.c);u&&this.skinIndices.push(t[z.a],t[z.b],t[z.c]);w&&this.skinWeights.push(r[z.a],r[z.b],r[z.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this}});var ag=1;E.prototype=Object.assign(Object.create(Ca.prototype),
{constructor:E,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<Ye(a)?vb:ub)(a,1):this.index=a},addAttribute:function(a,b,c){if(!(b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute))return console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new I(b,c));if("index"===a)return console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),
this;this.attributes[a]=b;return this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);var c=this.attributes.normal;
void 0!==c&&(b=(new ia).getNormalMatrix(a),b.applyToBufferAttribute(c),c.needsUpdate=!0);c=this.attributes.tangent;void 0!==c&&(b=(new ia).getNormalMatrix(a),b.applyToBufferAttribute(c),c.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a=new O;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new O;return function(b){a.makeRotationY(b);this.applyMatrix(a);
return this}}(),rotateZ:function(){var a=new O;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new O;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new O;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new H;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){var a=new n;return function(){this.computeBoundingBox();
this.boundingBox.getCenter(a).negate();this.translate(a.x,a.y,a.z);return this}}(),setFromObject:function(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new C(3*b.vertices.length,3);var c=new C(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new C(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&
(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];b.push(e.x,e.y,e.z||0)}this.addAttribute("position",new C(b,3));return this},updateFromObject:function(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);
c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==
c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),
this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new Xe).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",(new I(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",(new I(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),
this.addAttribute("color",(new I(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.addAttribute("uv",(new I(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",(new I(b,2)).copyVector2sArray(a.uvs2)));this.groups=a.groups;for(var c in a.morphTargets){b=[];for(var d=a.morphTargets[c],e=0,f=d.length;e<f;e++){var g=d[e],h=new C(3*g.data.length,3);h.name=g.name;b.push(h.copyVector3sArray(g.data))}this.morphAttributes[c]=
b}0<a.skinIndices.length&&(c=new C(4*a.skinIndices.length,4),this.addAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new C(4*a.skinWeights.length,4),this.addAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){var a=new Ha;return function(){null===this.boundingBox&&(this.boundingBox=
new Ha);var b=this.attributes.position,c=this.morphAttributes.position;if(void 0!==b){if(this.boundingBox.setFromBufferAttribute(b),c){b=0;for(var d=c.length;b<d;b++)a.setFromBufferAttribute(c[b]),this.boundingBox.expandByPoint(a.min),this.boundingBox.expandByPoint(a.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',
this)}}(),computeBoundingSphere:function(){var a=new Ha,b=new Ha,c=new n;return function(){null===this.boundingSphere&&(this.boundingSphere=new Ua);var d=this.attributes.position,e=this.morphAttributes.position;if(d){var f=this.boundingSphere.center;a.setFromBufferAttribute(d);if(e)for(var g=0,h=e.length;g<h;g++){var k=e[g];b.setFromBufferAttribute(k);a.expandByPoint(b.min);a.expandByPoint(b.max)}a.getCenter(f);var m=0;g=0;for(h=d.count;g<h;g++)c.fromBufferAttribute(d,g),m=Math.max(m,f.distanceToSquared(c));
if(e)for(g=0,h=e.length;g<h;g++){k=e[g];d=0;for(var l=k.count;d<l;d++)c.fromBufferAttribute(k,d),m=Math.max(m,f.distanceToSquared(c))}this.boundingSphere.radius=Math.sqrt(m);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes;if(b.position){var c=b.position.array;if(void 0===
b.normal)this.addAttribute("normal",new I(new Float32Array(c.length),3));else for(var d=b.normal.array,e=0,f=d.length;e<f;e++)d[e]=0;d=b.normal.array;var g=new n,h=new n,k=new n,m=new n,l=new n;if(a){var p=a.array;e=0;for(f=a.count;e<f;e+=3){a=3*p[e+0];var v=3*p[e+1];var t=3*p[e+2];g.fromArray(c,a);h.fromArray(c,v);k.fromArray(c,t);m.subVectors(k,h);l.subVectors(g,h);m.cross(l);d[a]+=m.x;d[a+1]+=m.y;d[a+2]+=m.z;d[v]+=m.x;d[v+1]+=m.y;d[v+2]+=m.z;d[t]+=m.x;d[t+1]+=m.y;d[t+2]+=m.z}}else for(e=0,f=c.length;e<
f;e+=9)g.fromArray(c,e),h.fromArray(c,e+3),k.fromArray(c,e+6),m.subVectors(k,h),l.subVectors(g,h),m.cross(l),d[e]=m.x,d[e+1]=m.y,d[e+2]=m.z,d[e+3]=m.x,d[e+4]=m.y,d[e+5]=m.z,d[e+6]=m.x,d[e+7]=m.y,d[e+8]=m.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes,
d;for(d in c)if(void 0!==a.attributes[d]){var e=c[d].array,f=a.attributes[d],g=f.array,h=f.itemSize*b;f=Math.min(g.length,e.length-h);for(var k=0;k<f;k++,h++)e[h]=g[k]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){var a=new n;return function(){for(var b=this.attributes.normal,c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.normalize(),b.setXYZ(c,a.x,a.y,a.z)}}(),toNonIndexed:function(){function a(a,
b){var c=a.array;a=a.itemSize;for(var d=new c.constructor(b.length*a),e,f=0,g=0,h=b.length;g<h;g++){e=b[g]*a;for(var k=0;k<a;k++)d[f++]=c[e++]}return new I(d,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var b=new E,c=this.index.array,d=this.attributes,e;for(e in d){var f=d[e];f=a(f,c);b.addAttribute(e,f)}var g=this.morphAttributes;for(e in g){var h=[],k=g[e];d=0;for(var m=k.length;d<m;d++)f=k[d],f=a(f,c),h.push(f);b.morphAttributes[e]=
h}c=this.groups;d=0;for(e=c.length;d<e;d++)f=c[d],b.addGroup(f.start,f.count,f.materialIndex);return b},toJSON:function(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(m in b)void 0!==b[m]&&(a[m]=b[m]);return a}a.data={attributes:{}};b=this.index;null!==b&&(a.data.index={type:b.array.constructor.name,
array:Array.prototype.slice.call(b.array)});var c=this.attributes;for(m in c){b=c[m];var d=b.toJSON();""!==b.name&&(d.name=b.name);a.data.attributes[m]=d}c={};var e=!1;for(m in this.morphAttributes){for(var f=this.morphAttributes[m],g=[],h=0,k=f.length;h<k;h++)b=f[h],d=b.toJSON(),""!==b.name&&(d.name=b.name),g.push(d);0<g.length&&(c[m]=g,e=!0)}e&&(a.data.morphAttributes=c);var m=this.groups;0<m.length&&(a.data.groups=JSON.parse(JSON.stringify(m)));m=this.boundingSphere;null!==m&&(a.data.boundingSphere=
{center:m.center.toArray(),radius:m.radius});return a},clone:function(){return(new E).copy(this)},copy:function(a){var b;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone());c=a.attributes;for(g in c)this.addAttribute(g,c[g].clone());var d=a.morphAttributes;for(g in d){var e=[],f=d[g];c=0;for(b=f.length;c<b;c++)e.push(f[c].clone());this.morphAttributes[g]=e}var g=a.groups;
c=0;for(b=g.length;c<b;c++)d=g[c],this.addGroup(d.start,d.count,d.materialIndex);g=a.boundingBox;null!==g&&(this.boundingBox=g.clone());g=a.boundingSphere;null!==g&&(this.boundingSphere=g.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Ub.prototype=Object.create(Q.prototype);Ub.prototype.constructor=Ub;wb.prototype=Object.create(E.prototype);wb.prototype.constructor=
wb;Ic.prototype=Object.create(Q.prototype);Ic.prototype.constructor=Ic;zb.prototype=Object.create(E.prototype);zb.prototype.constructor=zb;var bg=0;L.prototype=Object.assign(Object.create(Ca.prototype),{constructor:L,isMaterial:!0,onBeforeCompile:function(){},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else if("shading"===b)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),
this.flatShading=1===c?!0:!1;else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]=c}}},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==
this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearCoat&&(d.clearCoat=
this.clearCoat);void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);
this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&
(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&
(d.envMapIntensity=this.envMapIntensity));this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);!0===this.flatShading&&(d.flatShading=this.flatShading);0!==this.side&&(d.side=this.side);0!==this.vertexColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&
(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);
void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.morphTargets&&
(d.morphTargets=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;
this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=
a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.visible=a.visible;this.userData=JSON.parse(JSON.stringify(a.userData));this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;var b=a.clippingPlanes,c=null;if(null!==b){var d=b.length;c=Array(d);for(var e=0;e!==d;++e)c[e]=b[e].clone()}this.clippingPlanes=c;this.shadowSide=a.shadowSide;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});sa.prototype=Object.create(L.prototype);
sa.prototype.constructor=sa;sa.prototype.isShaderMaterial=!0;sa.prototype.copy=function(a){L.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Sb(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};
sa.prototype.toJSON=function(a){var b=L.prototype.toJSON.call(this,a);b.uniforms={};for(var c in this.uniforms){var d=this.uniforms[c].value;b.uniforms[c]=d&&d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",value:d.toArray()}:d&&d.isMatrix3?{type:"m3",value:d.toArray()}:d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&
(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;a={};for(var e in this.extensions)!0===this.extensions[e]&&(a[e]=!0);0<Object.keys(a).length&&(b.extensions=a);return b};Object.assign(Ab.prototype,{set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){void 0===b&&(console.warn("THREE.Ray: .at() target is now required"),
b=new n);return b.copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new n;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){void 0===b&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),b=new n);b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},
distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new n;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new n,b=new n,c=new n;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);
var h=.5*d.distanceTo(e),k=-this.direction.dot(b),m=c.dot(this.direction),l=-c.dot(b),p=c.lengthSq(),n=Math.abs(1-k*k);if(0<n){d=k*l-m;e=k*m-l;var t=h*n;0<=d?e>=-t?e<=t?(h=1/n,d*=h,e*=h,k=d*(d+k*e+2*m)+e*(k*d+e+2*l)+p):(e=h,d=Math.max(0,-(k*e+m)),k=-d*d+e*(e+2*l)+p):(e=-h,d=Math.max(0,-(k*e+m)),k=-d*d+e*(e+2*l)+p):e<=-t?(d=Math.max(0,-(-k*h+m)),e=0<d?-h:Math.min(Math.max(-h,-l),h),k=-d*d+e*(e+2*l)+p):e<=t?(d=0,e=Math.min(Math.max(-h,-l),h),k=e*(e+2*l)+p):(d=Math.max(0,-(k*h+m)),e=0<d?h:Math.min(Math.max(-h,
-l),h),k=-d*d+e*(e+2*l)+p)}else e=0<k?-h:h,d=Math.max(0,-(k*e+m)),k=-d*d+e*(e+2*l)+p;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),intersectSphere:function(){var a=new n;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceSqToPoint(a.center)<=
a.radius*a.radius},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectBox:function(a,b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,
f=this.origin;if(0<=c){var g=(a.min.x-f.x)*c;c*=a.max.x-f.x}else g=(a.max.x-f.x)*c,c*=a.min.x-f.x;if(0<=d){var h=(a.min.y-f.y)*d;d*=a.max.y-f.y}else h=(a.max.y-f.y)*d,d*=a.min.y-f.y;if(g>d||h>c)return null;if(h>g||g!==g)g=h;if(d<c||c!==c)c=d;0<=e?(h=(a.min.z-f.z)*e,a=(a.max.z-f.z)*e):(h=(a.max.z-f.z)*e,a=(a.min.z-f.z)*e);if(g>a||h>c)return null;if(h>g||g!==g)g=h;if(a<c||c!==c)c=a;return 0>c?null:this.at(0<=g?g:c,b)},intersectsBox:function(){var a=new n;return function(b){return null!==this.intersectBox(b,
a)}}(),intersectTriangle:function(){var a=new n,b=new n,c=new n,d=new n;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function(a){this.origin.applyMatrix4(a);
this.direction.transformDirection(a);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}});Object.assign(ta,{getNormal:function(){var a=new n;return function(b,c,d,e){void 0===e&&(console.warn("THREE.Triangle: .getNormal() target is now required"),e=new n);e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}(),getBarycoord:function(){var a=new n,b=new n,c=new n;return function(d,
e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var m=d*k-e*e;void 0===h&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),h=new n);if(0===m)return h.set(-2,-1,-1);m=1/m;k=(k*f-e*g)*m;d=(d*g-e*f)*m;return h.set(1-k-d,d,k)}}(),containsPoint:function(){var a=new n;return function(b,c,d,e){ta.getBarycoord(b,c,d,e,a);return 0<=a.x&&0<=a.y&&1>=a.x+a.y}}(),getUV:function(){var a=new n;return function(b,c,d,
e,f,g,h,k){this.getBarycoord(b,c,d,e,a);k.set(0,0);k.addScaledVector(f,a.x);k.addScaledVector(g,a.y);k.addScaledVector(h,a.z);return k}}(),isFrontFacing:function(){var a=new n,b=new n;return function(c,d,e,f){a.subVectors(e,d);b.subVectors(c,d);return 0>a.cross(b).dot(f)?!0:!1}}()});Object.assign(ta.prototype,{set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},getArea:function(){var a=new n,b=new n;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),getMidpoint:function(a){void 0===a&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),a=new n);return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(a){return ta.getNormal(this.a,this.b,this.c,a)},getPlane:function(a){void 0===
a&&(console.warn("THREE.Triangle: .getPlane() target is now required"),a=new n);return a.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(a,b){return ta.getBarycoord(a,this.a,this.b,this.c,b)},getUV:function(a,b,c,d,e){return ta.getUV(a,this.a,this.b,this.c,b,c,d,e)},containsPoint:function(a){return ta.containsPoint(a,this.a,this.b,this.c)},isFrontFacing:function(a){return ta.isFrontFacing(this.a,this.b,this.c,a)},intersectsBox:function(a){return a.intersectsTriangle(this)},closestPointToPoint:function(){var a=
new n,b=new n,c=new n,d=new n,e=new n,f=new n;return function(g,h){void 0===h&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),h=new n);var k=this.a,m=this.b,l=this.c;a.subVectors(m,k);b.subVectors(l,k);d.subVectors(g,k);var p=a.dot(d),v=b.dot(d);if(0>=p&&0>=v)return h.copy(k);e.subVectors(g,m);var t=a.dot(e),r=b.dot(e);if(0<=t&&r<=t)return h.copy(m);var u=p*r-t*v;if(0>=u&&0<=p&&0>=t)return m=p/(p-t),h.copy(k).addScaledVector(a,m);f.subVectors(g,l);g=a.dot(f);var w=
b.dot(f);if(0<=w&&g<=w)return h.copy(l);p=g*v-p*w;if(0>=p&&0<=v&&0>=w)return u=v/(v-w),h.copy(k).addScaledVector(b,u);v=t*w-g*r;if(0>=v&&0<=r-t&&0<=g-w)return c.subVectors(l,m),u=(r-t)/(r-t+(g-w)),h.copy(m).addScaledVector(c,u);l=1/(v+p+u);m=p*l;u*=l;return h.copy(k).addScaledVector(a,m).addScaledVector(b,u)}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}});ka.prototype=Object.create(L.prototype);ka.prototype.constructor=ka;ka.prototype.isMeshBasicMaterial=
!0;ka.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;
this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};ha.prototype=Object.assign(Object.create(H.prototype),{constructor:ha,isMesh:!0,setDrawMode:function(a){this.drawMode=a},copy:function(a){H.prototype.copy.call(this,a);this.drawMode=a.drawMode;void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));
return this},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length){var c=a[b[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){var d=c[a].name||String(a);this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=a}}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},
raycast:function(){function a(a,b,c,d,e,f,g,h){if(null===(1===b.side?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,2!==b.side,h)))return null;y.copy(h);y.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(y);return b<c.near||b>c.far?null:{distance:b,point:y.clone(),object:a}}function b(b,c,d,e,q,n,y,C,B,E){f.fromBufferAttribute(q,C);g.fromBufferAttribute(q,B);h.fromBufferAttribute(q,E);q=b.morphTargetInfluences;if(c.morphTargets&&n&&q){p.set(0,0,0);v.set(0,0,0);t.set(0,0,0);for(var x=
0,G=n.length;x<G;x++){var A=q[x],F=n[x];0!==A&&(k.fromBufferAttribute(F,C),m.fromBufferAttribute(F,B),l.fromBufferAttribute(F,E),p.addScaledVector(k.sub(f),A),v.addScaledVector(m.sub(g),A),t.addScaledVector(l.sub(h),A))}f.add(p);g.add(v);h.add(t)}if(b=a(b,c,d,e,f,g,h,z))y&&(r.fromBufferAttribute(y,C),u.fromBufferAttribute(y,B),w.fromBufferAttribute(y,E),b.uv=ta.getUV(z,f,g,h,r,u,w,new D)),y=new Tb(C,B,E),ta.getNormal(f,g,h,y.normal),b.face=y;return b}var c=new O,d=new Ab,e=new Ua,f=new n,g=new n,
h=new n,k=new n,m=new n,l=new n,p=new n,v=new n,t=new n,r=new D,u=new D,w=new D,z=new n,y=new n;return function(f,g){var h=this.geometry,k=this.material,m=this.matrixWorld;if(void 0!==k&&(null===h.boundingSphere&&h.computeBoundingSphere(),e.copy(h.boundingSphere),e.applyMatrix4(m),!1!==f.ray.intersectsSphere(e)&&(c.getInverse(m),d.copy(f.ray).applyMatrix4(c),null===h.boundingBox||!1!==d.intersectsBox(h.boundingBox))))if(h.isBufferGeometry){var l=h.index;m=h.attributes.position;var p=h.morphAttributes.position,
q=h.attributes.uv,n=h.groups,t=h.drawRange,v,y;if(null!==l)if(Array.isArray(k)){var x=0;for(v=n.length;x<v;x++){var A=n[x];var C=k[A.materialIndex];var B=Math.max(A.start,t.start);for(y=h=Math.min(A.start+A.count,t.start+t.count);B<y;B+=3){h=l.getX(B);var E=l.getX(B+1);var H=l.getX(B+2);if(h=b(this,C,f,d,m,p,q,h,E,H))h.faceIndex=Math.floor(B/3),h.face.materialIndex=A.materialIndex,g.push(h)}}}else for(B=Math.max(0,t.start),h=Math.min(l.count,t.start+t.count),x=B,v=h;x<v;x+=3){if(h=l.getX(x),E=l.getX(x+
1),H=l.getX(x+2),h=b(this,k,f,d,m,p,q,h,E,H))h.faceIndex=Math.floor(x/3),g.push(h)}else if(void 0!==m)if(Array.isArray(k))for(x=0,v=n.length;x<v;x++)for(A=n[x],C=k[A.materialIndex],B=Math.max(A.start,t.start),y=h=Math.min(A.start+A.count,t.start+t.count);B<y;B+=3){if(h=B,E=B+1,H=B+2,h=b(this,C,f,d,m,p,q,h,E,H))h.faceIndex=Math.floor(B/3),h.face.materialIndex=A.materialIndex,g.push(h)}else for(B=Math.max(0,t.start),h=Math.min(m.count,t.start+t.count),x=B,v=h;x<v;x+=3)if(h=x,E=x+1,H=x+2,h=b(this,k,
f,d,m,p,q,h,E,H))h.faceIndex=Math.floor(x/3),g.push(h)}else if(h.isGeometry)for(m=Array.isArray(k),p=h.vertices,q=h.faces,h=h.faceVertexUvs[0],0<h.length&&(l=h),v=0,A=q.length;v<A;v++)if(C=q[v],h=m?k[C.materialIndex]:k,void 0!==h&&(n=p[C.a],t=p[C.b],x=p[C.c],h=a(this,h,f,d,n,t,x,z)))l&&l[v]&&(B=l[v],r.copy(B[0]),u.copy(B[1]),w.copy(B[2]),h.uv=ta.getUV(z,n,t,x,r,u,w,new D)),h.face=C,h.faceIndex=v,g.push(h)}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});
cb.prototype=Object.create(X.prototype);cb.prototype.constructor=cb;cb.prototype.isCubeTexture=!0;Object.defineProperty(cb.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});Vb.prototype=Object.create(X.prototype);Vb.prototype.constructor=Vb;Vb.prototype.isDataTexture2DArray=!0;Wb.prototype=Object.create(X.prototype);Wb.prototype.constructor=Wb;Wb.prototype.isDataTexture3D=!0;var ef=new X,wg=new Vb,yg=new Wb,ff=new cb,Ze=[],af=[],df=new Float32Array(16),cf=new Float32Array(9),
bf=new Float32Array(4);gf.prototype.updateCache=function(a){var b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length));na(b,a)};hf.prototype.setValue=function(a,b,c){for(var d=this.seq,e=0,f=d.length;e!==f;++e){var g=d[e];g.setValue(a,b[g.id],c)}};var le=/([\w\d_]+)(\])?(\[|\.)?/g;jb.prototype.setValue=function(a,b,c,d){b=this.map[b];void 0!==b&&b.setValue(a,c,d)};jb.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};jb.upload=
function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};jb.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};var $g=0,hh=0;kb.prototype=Object.create(L.prototype);kb.prototype.constructor=kb;kb.prototype.isMeshDepthMaterial=!0;kb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=
a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};lb.prototype=Object.create(L.prototype);lb.prototype.constructor=lb;lb.prototype.isMeshDistanceMaterial=!0;lb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=
a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this};Yb.prototype=Object.assign(Object.create(H.prototype),{constructor:Yb,isGroup:!0});Xa.prototype=Object.assign(Object.create(H.prototype),{constructor:Xa,isCamera:!0,copy:function(a,b){H.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);
this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this},getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),a=new n);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()},updateMatrixWorld:function(a){H.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});
ja.prototype=Object.assign(Object.create(Xa.prototype),{constructor:ja,isPerspectiveCamera:!0,copy:function(a,b){Xa.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*P.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){var a=
Math.tan(.5*P.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*P.RAD2DEG*Math.atan(Math.tan(.5*P.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=
a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*P.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==this.view&&this.view.enabled){var g=f.fullWidth,h=f.fullHeight;e+=f.offsetX*d/g;b-=f.offsetY*c/h;d*=f.width/g;c*=f.height/
h}f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=H.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;
return a}});Lc.prototype=Object.assign(Object.create(ja.prototype),{constructor:Lc,isArrayCamera:!0});var uf=new n,vf=new n;Object.assign(Dd.prototype,{isFogExp2:!0,clone:function(){return new Dd(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});Object.assign(Ed.prototype,{isFog:!0,clone:function(){return new Ed(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});
Fd.prototype=Object.assign(Object.create(H.prototype),{constructor:Fd,isScene:!0,copy:function(a,b){H.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this},toJSON:function(a){var b=H.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=this.background.toJSON(a));
null!==this.fog&&(b.object.fog=this.fog.toJSON());return b},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Bb.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(Bb.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.stride:0;this.array=a;return this},setDynamic:function(a){this.dynamic=
a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(a){this.onUploadCallback=a;return this}});Object.defineProperties(Mc.prototype,
{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Mc.prototype,{isInterleavedBufferAttribute:!0,setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*
this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},
setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}});nb.prototype=Object.create(L.prototype);nb.prototype.constructor=nb;nb.prototype.isSpriteMaterial=!0;nb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;return this};var Zb;Nc.prototype=Object.assign(Object.create(H.prototype),
{constructor:Nc,isSprite:!0,raycast:function(){function a(a,b,c,d,h,k){e.subVectors(a,c).addScalar(.5).multiply(d);void 0!==h?(f.x=k*e.x-h*e.y,f.y=h*e.x+k*e.y):f.copy(e);a.copy(b);a.x+=f.x;a.y+=f.y;a.applyMatrix4(g)}var b=new n,c=new n,d=new n,e=new D,f=new D,g=new O,h=new n,k=new n,m=new n,l=new D,p=new D,v=new D;return function(e,f){c.setFromMatrixScale(this.matrixWorld);g.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld);d.setFromMatrixPosition(this.modelViewMatrix);var q=this.material.rotation;
if(0!==q){var n=Math.cos(q);var r=Math.sin(q)}q=this.center;a(h.set(-.5,-.5,0),d,q,c,r,n);a(k.set(.5,-.5,0),d,q,c,r,n);a(m.set(.5,.5,0),d,q,c,r,n);l.set(0,0);p.set(1,0);v.set(1,1);var t=e.ray.intersectTriangle(h,k,m,!1,b);if(null===t&&(a(k.set(-.5,.5,0),d,q,c,r,n),p.set(0,1),t=e.ray.intersectTriangle(h,m,k,!1,b),null===t))return;r=e.ray.origin.distanceTo(b);r<e.near||r>e.far||f.push({distance:r,point:b.clone(),uv:ta.getUV(b,h,k,m,l,p,v,new D),face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)},
copy:function(a){H.prototype.copy.call(this,a);void 0!==a.center&&this.center.copy(a.center);return this}});Oc.prototype=Object.assign(Object.create(H.prototype),{constructor:Oc,isLOD:!0,copy:function(a){H.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a);
return this},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-1].object},raycast:function(){var a=new n;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}(),update:function(){var a=new n,b=new n;return function(c){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=
!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=!1}}}(),toJSON:function(a){a=H.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Pc.prototype=Object.assign(Object.create(ha.prototype),{constructor:Pc,isSkinnedMesh:!0,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),
this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var a=new ba,b=this.geometry.attributes.skinWeight,c=0,d=b.count;c<d;c++){a.x=b.getX(c);a.y=b.getY(c);a.z=b.getZ(c);a.w=b.getW(c);var e=1/a.manhattanLength();Infinity!==e?a.multiplyScalar(e):a.set(1,0,0,0);b.setXYZW(c,a.x,a.y,a.z,a.w)}},updateMatrixWorld:function(a){ha.prototype.updateMatrixWorld.call(this,a);
"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Object.assign(Gd.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new O;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);
this.boneInverses.push(c)}},pose:function(){var a,b;var c=0;for(b=this.bones.length;c<b;c++)(a=this.bones[c])&&a.matrixWorld.getInverse(this.boneInverses[c]);c=0;for(b=this.bones.length;c<b;c++)if(a=this.bones[c])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new O,b=new O;return function(){for(var c=this.bones,d=this.boneInverses,e=this.boneMatrices,
f=this.boneTexture,g=0,h=c.length;g<h;g++)a.multiplyMatrices(c[g]?c[g].matrixWorld:b,d[g]),a.toArray(e,16*g);void 0!==f&&(f.needsUpdate=!0)}}(),clone:function(){return new Gd(this.bones,this.boneInverses)},getBoneByName:function(a){for(var b=0,c=this.bones.length;b<c;b++){var d=this.bones[b];if(d.name===a)return d}}});oe.prototype=Object.assign(Object.create(H.prototype),{constructor:oe,isBone:!0});V.prototype=Object.create(L.prototype);V.prototype.constructor=V;V.prototype.isLineBasicMaterial=!0;
V.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};T.prototype=Object.assign(Object.create(H.prototype),{constructor:T,isLine:!0,computeLineDistances:function(){var a=new n,b=new n;return function(){var c=this.geometry;if(c.isBufferGeometry)if(null===c.index){for(var d=c.attributes.position,e=[0],f=1,g=d.count;f<g;f++)a.fromBufferAttribute(d,f-1),b.fromBufferAttribute(d,f),e[f]=
e[f-1],e[f]+=a.distanceTo(b);c.addAttribute("lineDistance",new C(e,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(c.isGeometry)for(d=c.vertices,e=c.lineDistances,e[0]=0,f=1,g=d.length;f<g;f++)e[f]=e[f-1],e[f]+=d[f-1].distanceTo(d[f]);return this}}(),raycast:function(){var a=new O,b=new Ab,c=new Ua;return function(d,e){var f=d.linePrecision,g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();
c.copy(g.boundingSphere);c.applyMatrix4(h);c.radius+=f;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);f/=(this.scale.x+this.scale.y+this.scale.z)/3;f*=f;var k=new n,m=new n;h=new n;var l=new n,p=this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var v=g.index,t=g.attributes.position.array;if(null!==v){v=v.array;g=0;for(var r=v.length-1;g<r;g+=p){var u=v[g+1];k.fromArray(t,3*v[g]);m.fromArray(t,3*u);u=b.distanceSqToSegment(k,m,l,h);u>f||(l.applyMatrix4(this.matrixWorld),
u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else for(g=0,r=t.length/3-1;g<r;g+=p)k.fromArray(t,3*g),m.fromArray(t,3*g+3),u=b.distanceSqToSegment(k,m,l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g.isGeometry)for(k=
g.vertices,m=k.length,g=0;g<m-1;g+=p)u=b.distanceSqToSegment(k[g],k[g+1],l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});S.prototype=Object.assign(Object.create(T.prototype),{constructor:S,isLineSegments:!0,computeLineDistances:function(){var a=new n,
b=new n;return function(){var c=this.geometry;if(c.isBufferGeometry)if(null===c.index){for(var d=c.attributes.position,e=[],f=0,g=d.count;f<g;f+=2)a.fromBufferAttribute(d,f),b.fromBufferAttribute(d,f+1),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b);c.addAttribute("lineDistance",new C(e,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(c.isGeometry)for(d=c.vertices,e=c.lineDistances,f=0,g=d.length;f<g;f+=2)a.copy(d[f]),
b.copy(d[f+1]),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b);return this}}()});Hd.prototype=Object.assign(Object.create(T.prototype),{constructor:Hd,isLineLoop:!0});Ja.prototype=Object.create(L.prototype);Ja.prototype.constructor=Ja;Ja.prototype.isPointsMaterial=!0;Ja.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.morphTargets=a.morphTargets;return this};$b.prototype=Object.assign(Object.create(H.prototype),
{constructor:$b,isPoints:!0,raycast:function(){var a=new O,b=new Ab,c=new Ua;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);f<l&&(b.closestPointToPoint(a,p),p.applyMatrix4(k),a=d.ray.origin.distanceTo(p),a<d.near||a>d.far||e.push({distance:a,distanceToRay:Math.sqrt(f),point:p.clone(),index:c,face:null,object:g}))}var g=this,h=this.geometry,k=this.matrixWorld,m=d.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(k);
c.radius+=m;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);m/=(this.scale.x+this.scale.y+this.scale.z)/3;var l=m*m;m=new n;var p=new n;if(h.isBufferGeometry){var v=h.index;h=h.attributes.position.array;if(null!==v){var t=v.array;v=0;for(var r=t.length;v<r;v++){var u=t[v];m.fromArray(h,3*u);f(m,u)}}else for(v=0,t=h.length/3;v<t;v++)m.fromArray(h,3*v),f(m,v)}else for(m=h.vertices,v=0,t=m.length;v<t;v++)f(m[v],v)}}}(),clone:function(){return(new this.constructor(this.geometry,
this.material)).copy(this)}});pe.prototype=Object.assign(Object.create(X.prototype),{constructor:pe,isVideoTexture:!0,update:function(){var a=this.image;a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});ac.prototype=Object.create(X.prototype);ac.prototype.constructor=ac;ac.prototype.isCompressedTexture=!0;Qc.prototype=Object.create(X.prototype);Qc.prototype.constructor=Qc;Qc.prototype.isCanvasTexture=!0;Rc.prototype=Object.create(X.prototype);Rc.prototype.constructor=Rc;Rc.prototype.isDepthTexture=
!0;bc.prototype=Object.create(E.prototype);bc.prototype.constructor=bc;Sc.prototype=Object.create(Q.prototype);Sc.prototype.constructor=Sc;cc.prototype=Object.create(E.prototype);cc.prototype.constructor=cc;Tc.prototype=Object.create(Q.prototype);Tc.prototype.constructor=Tc;oa.prototype=Object.create(E.prototype);oa.prototype.constructor=oa;Uc.prototype=Object.create(Q.prototype);Uc.prototype.constructor=Uc;dc.prototype=Object.create(oa.prototype);dc.prototype.constructor=dc;Vc.prototype=Object.create(Q.prototype);
Vc.prototype.constructor=Vc;Cb.prototype=Object.create(oa.prototype);Cb.prototype.constructor=Cb;Wc.prototype=Object.create(Q.prototype);Wc.prototype.constructor=Wc;ec.prototype=Object.create(oa.prototype);ec.prototype.constructor=ec;Xc.prototype=Object.create(Q.prototype);Xc.prototype.constructor=Xc;fc.prototype=Object.create(oa.prototype);fc.prototype.constructor=fc;Yc.prototype=Object.create(Q.prototype);Yc.prototype.constructor=Yc;Db.prototype=Object.create(E.prototype);Db.prototype.constructor=
Db;Db.prototype.toJSON=function(){var a=E.prototype.toJSON.call(this);a.path=this.parameters.path.toJSON();return a};Zc.prototype=Object.create(Q.prototype);Zc.prototype.constructor=Zc;gc.prototype=Object.create(E.prototype);gc.prototype.constructor=gc;$c.prototype=Object.create(Q.prototype);$c.prototype.constructor=$c;hc.prototype=Object.create(E.prototype);hc.prototype.constructor=hc;var uh={triangulate:function(a,b,c){c=c||2;var d=b&&b.length,e=d?b[0]*c:a.length,f=yf(a,0,e,c,!0),g=[];if(!f)return g;
var h;if(d){var k=c;d=[];var m;var l=0;for(m=b.length;l<m;l++){var p=b[l]*k;var n=l<m-1?b[l+1]*k:a.length;p=yf(a,p,n,k,!1);p===p.next&&(p.steiner=!0);d.push(oh(p))}d.sort(mh);for(l=0;l<d.length;l++){b=d[l];k=f;if(k=nh(b,k))b=Bf(k,b),bd(b,b.next);f=bd(f,f.next)}}if(a.length>80*c){var t=h=a[0];var r=d=a[1];for(k=c;k<e;k+=c)l=a[k],b=a[k+1],l<t&&(t=l),b<r&&(r=b),l>h&&(h=l),b>d&&(d=b);h=Math.max(h-t,d-r);h=0!==h?1/h:0}cd(f,g,c,t,r,h);return g}},db={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=
e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},isClockWise:function(a){return 0>db.area(a)},triangulateShape:function(a,b){var c=[],d=[],e=[];Cf(a);Df(c,a);var f=a.length;b.forEach(Cf);for(a=0;a<b.length;a++)d.push(f),f+=b[a].length,Df(c,b[a]);b=uh.triangulate(c,d);for(a=0;a<b.length;a+=3)e.push(b.slice(a,a+3));return e}};Fb.prototype=Object.create(Q.prototype);Fb.prototype.constructor=Fb;Fb.prototype.toJSON=function(){var a=Q.prototype.toJSON.call(this);return Ef(this.parameters.shapes,this.parameters.options,
a)};Ya.prototype=Object.create(E.prototype);Ya.prototype.constructor=Ya;Ya.prototype.toJSON=function(){var a=E.prototype.toJSON.call(this);return Ef(this.parameters.shapes,this.parameters.options,a)};var ph={generateTopUV:function(a,b,c,d,e){a=b[3*d];d=b[3*d+1];var f=b[3*e];e=b[3*e+1];return[new D(b[3*c],b[3*c+1]),new D(a,d),new D(f,e)]},generateSideWallUV:function(a,b,c,d,e,f){a=b[3*c];var g=b[3*c+1];c=b[3*c+2];var h=b[3*d],k=b[3*d+1];d=b[3*d+2];var m=b[3*e],l=b[3*e+1];e=b[3*e+2];var p=b[3*f],n=
b[3*f+1];b=b[3*f+2];return.01>Math.abs(g-k)?[new D(a,1-c),new D(h,1-d),new D(m,1-e),new D(p,1-b)]:[new D(g,1-c),new D(k,1-d),new D(l,1-e),new D(n,1-b)]}};ed.prototype=Object.create(Q.prototype);ed.prototype.constructor=ed;ic.prototype=Object.create(Ya.prototype);ic.prototype.constructor=ic;fd.prototype=Object.create(Q.prototype);fd.prototype.constructor=fd;ob.prototype=Object.create(E.prototype);ob.prototype.constructor=ob;gd.prototype=Object.create(Q.prototype);gd.prototype.constructor=gd;jc.prototype=
Object.create(E.prototype);jc.prototype.constructor=jc;hd.prototype=Object.create(Q.prototype);hd.prototype.constructor=hd;kc.prototype=Object.create(E.prototype);kc.prototype.constructor=kc;Gb.prototype=Object.create(Q.prototype);Gb.prototype.constructor=Gb;Gb.prototype.toJSON=function(){var a=Q.prototype.toJSON.call(this);return Ff(this.parameters.shapes,a)};Hb.prototype=Object.create(E.prototype);Hb.prototype.constructor=Hb;Hb.prototype.toJSON=function(){var a=E.prototype.toJSON.call(this);return Ff(this.parameters.shapes,
a)};lc.prototype=Object.create(E.prototype);lc.prototype.constructor=lc;Ib.prototype=Object.create(Q.prototype);Ib.prototype.constructor=Ib;eb.prototype=Object.create(E.prototype);eb.prototype.constructor=eb;id.prototype=Object.create(Ib.prototype);id.prototype.constructor=id;jd.prototype=Object.create(eb.prototype);jd.prototype.constructor=jd;kd.prototype=Object.create(Q.prototype);kd.prototype.constructor=kd;mc.prototype=Object.create(E.prototype);mc.prototype.constructor=mc;var pa=Object.freeze({WireframeGeometry:bc,
ParametricGeometry:Sc,ParametricBufferGeometry:cc,TetrahedronGeometry:Uc,TetrahedronBufferGeometry:dc,OctahedronGeometry:Vc,OctahedronBufferGeometry:Cb,IcosahedronGeometry:Wc,IcosahedronBufferGeometry:ec,DodecahedronGeometry:Xc,DodecahedronBufferGeometry:fc,PolyhedronGeometry:Tc,PolyhedronBufferGeometry:oa,TubeGeometry:Yc,TubeBufferGeometry:Db,TorusKnotGeometry:Zc,TorusKnotBufferGeometry:gc,TorusGeometry:$c,TorusBufferGeometry:hc,TextGeometry:ed,TextBufferGeometry:ic,SphereGeometry:fd,SphereBufferGeometry:ob,
RingGeometry:gd,RingBufferGeometry:jc,PlaneGeometry:Ic,PlaneBufferGeometry:zb,LatheGeometry:hd,LatheBufferGeometry:kc,ShapeGeometry:Gb,ShapeBufferGeometry:Hb,ExtrudeGeometry:Fb,ExtrudeBufferGeometry:Ya,EdgesGeometry:lc,ConeGeometry:id,ConeBufferGeometry:jd,CylinderGeometry:Ib,CylinderBufferGeometry:eb,CircleGeometry:kd,CircleBufferGeometry:mc,BoxGeometry:Ub,BoxBufferGeometry:wb});Jb.prototype=Object.create(L.prototype);Jb.prototype.constructor=Jb;Jb.prototype.isShadowMaterial=!0;Jb.prototype.copy=
function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);return this};nc.prototype=Object.create(sa.prototype);nc.prototype.constructor=nc;nc.prototype.isRawShaderMaterial=!0;Za.prototype=Object.create(L.prototype);Za.prototype.constructor=Za;Za.prototype.isMeshStandardMaterial=!0;Za.prototype.copy=function(a){L.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=
a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=
a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Kb.prototype=Object.create(Za.prototype);Kb.prototype.constructor=Kb;Kb.prototype.isMeshPhysicalMaterial=
!0;Kb.prototype.copy=function(a){Za.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=a.clearCoatRoughness;return this};Ka.prototype=Object.create(L.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isMeshPhongMaterial=!0;Ka.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=
a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;
this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Lb.prototype=Object.create(Ka.prototype);Lb.prototype.constructor=Lb;Lb.prototype.isMeshToonMaterial=!0;Lb.prototype.copy=function(a){Ka.prototype.copy.call(this,
a);this.gradientMap=a.gradientMap;return this};Mb.prototype=Object.create(L.prototype);Mb.prototype.constructor=Mb;Mb.prototype.isMeshNormalMaterial=!0;Mb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Nb.prototype=Object.create(L.prototype);Nb.prototype.constructor=Nb;Nb.prototype.isMeshLambertMaterial=!0;Nb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);
this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
Ob.prototype=Object.create(L.prototype);Ob.prototype.constructor=Ob;Ob.prototype.isMeshMatcapMaterial=!0;Ob.prototype.copy=function(a){L.prototype.copy.call(this,a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.alphaMap=a.alphaMap;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Pb.prototype=Object.create(V.prototype);Pb.prototype.constructor=Pb;Pb.prototype.isLineDashedMaterial=!0;Pb.prototype.copy=function(a){V.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};var vh=Object.freeze({ShadowMaterial:Jb,SpriteMaterial:nb,RawShaderMaterial:nc,ShaderMaterial:sa,PointsMaterial:Ja,
MeshPhysicalMaterial:Kb,MeshStandardMaterial:Za,MeshPhongMaterial:Ka,MeshToonMaterial:Lb,MeshNormalMaterial:Mb,MeshLambertMaterial:Nb,MeshDepthMaterial:kb,MeshDistanceMaterial:lb,MeshBasicMaterial:ka,MeshMatcapMaterial:Ob,LineDashedMaterial:Pb,LineBasicMaterial:V,Material:L}),ra={arraySlice:function(a,b,c){return ra.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?
new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var h=c[f]*b,k=0;k!==b;++k)e[g++]=a[h+k];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];
if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),c.push(g)),f=a[e++];while(void 0!==f)}}}};Object.assign(Da.prototype,{evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;
this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=
c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");},intervalChanged_:function(){}});Object.assign(Da.prototype,{beforeStart_:Da.prototype.copySampleValue_,afterEnd_:Da.prototype.copySampleValue_});
Jd.prototype=Object.assign(Object.create(Da.prototype),{constructor:Jd,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:e=a;g=2*b-c;break;case 2402:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:f=a;h=2*c-b;break;case 2402:f=1;h=c+d[1]-d[0];break;default:f=a-1,h=b}a=.5*(c-b);d=this.valueSize;
this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,k=this._offsetPrev,m=this._offsetNext,l=this._weightPrev,p=this._weightNext,n=(c-b)/(d-b);c=n*n;d=c*n;b=-l*d+2*l*c-l*n;l=(1+l)*d+(-1.5-2*l)*c+(-.5+l)*n+1;n=(-1-p)*d+(1.5+p)*c+.5*n;p=p*d-p*c;for(c=0;c!==g;++c)e[c]=b*f[k+c]+l*f[h+c]+n*f[a+c]+p*f[m+c];return e}});ld.prototype=Object.assign(Object.create(Da.prototype),
{constructor:ld,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[h+d]*c+f[a+d]*b;return e}});Kd.prototype=Object.assign(Object.create(Da.prototype),{constructor:Kd,interpolate_:function(a){return this.copySampleValue_(a-1)}});Object.assign(Z,{toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:ra.convertArray(a.times,Array),values:ra.convertArray(a.values,
Array)};var c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}});Object.assign(Z.prototype,{constructor:Z,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return new Kd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new ld(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new Jd(this.times,
this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",
b);return this}this.createInterpolant=b;return this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==
d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),a=this.getValueSize(),this.times=ra.arraySlice(c,e,f),this.values=ra.arraySlice(this.values,e*a,f*a);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",
this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&ra.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,
c=this.getValueSize(),d=2302===this.getInterpolation(),e=1,f=a.length-1,g=1;g<f;++g){var h=!1,k=a[g];if(k!==a[g+1]&&(1!==g||k!==k[0]))if(d)h=!0;else{var m=g*c,l=m-c,p=m+c;for(k=0;k!==c;++k){var n=b[m+k];if(n!==b[l+k]||n!==b[p+k]){h=!0;break}}}if(h){if(g!==e)for(a[e]=a[g],h=g*c,m=e*c,k=0;k!==c;++k)b[m+k]=b[h+k];++e}}if(0<f){a[e]=a[f];h=f*c;m=e*c;for(k=0;k!==c;++k)b[m+k]=b[h+k];++e}e!==a.length&&(this.times=ra.arraySlice(a,0,e),this.values=ra.arraySlice(b,0,e*c));return this},clone:function(){var a=
ra.arraySlice(this.times,0),b=ra.arraySlice(this.values,0);a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}});Ld.prototype=Object.assign(Object.create(Z.prototype),{constructor:Ld,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Md.prototype=Object.assign(Object.create(Z.prototype),{constructor:Md,ValueTypeName:"color"});oc.prototype=Object.assign(Object.create(Z.prototype),
{constructor:oc,ValueTypeName:"number"});Nd.prototype=Object.assign(Object.create(Da.prototype),{constructor:Nd,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)ea.slerpFlat(e,0,f,a-g,f,a,b);return e}});md.prototype=Object.assign(Object.create(Z.prototype),{constructor:md,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return new Nd(this.times,this.values,this.getValueSize(),
a)},InterpolantFactoryMethodSmooth:void 0});Od.prototype=Object.assign(Object.create(Z.prototype),{constructor:Od,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});pc.prototype=Object.assign(Object.create(Z.prototype),{constructor:pc,ValueTypeName:"vector"});Object.assign(Ga,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(rh(c[e]).scale(d));return new Ga(a.name,
a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid};for(var d=0,e=c.length;d!==e;++d)b.push(Z.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],k=[];h.push((g+e-1)%e,g,(g+1)%e);k.push(0,1,0);var m=ra.getKeyframeOrder(h);h=ra.sortedArray(h,1,m);k=ra.sortedArray(k,1,m);d||0!==h[0]||(h.push(e),k.push(k[0]));f.push((new oc(".morphTargetInfluences["+b[g].name+"]",h,k)).scale(1/
c))}return new Ga(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,f=0,g=a.length;f<g;f++){var h=a[f],k=h.name.match(e);if(k&&1<k.length){var m=k[1];(k=d[m])||(d[m]=k=[]);k.push(h)}}a=[];for(m in d)a.push(Ga.CreateFromMorphTargetSequence(m,d[m],b,c));return a},parseAnimation:function(a,
b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var c=function(a,b,c,d,e){if(0!==c.length){var f=[],g=[];ra.flattenJSON(c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}},d=[],e=a.name||"default",f=a.length||-1,g=a.fps||30;a=a.hierarchy||[];for(var h=0;h<a.length;h++){var k=a[h].keys;if(k&&0!==k.length)if(k[0].morphTargets){f={};for(var m=0;m<k.length;m++)if(k[m].morphTargets)for(var l=0;l<k[m].morphTargets.length;l++)f[k[m].morphTargets[l]]=-1;for(var p in f){var n=
[],t=[];for(l=0;l!==k[m].morphTargets.length;++l){var r=k[m];n.push(r.time);t.push(r.morphTarget===p?1:0)}d.push(new oc(".morphTargetInfluence["+p+"]",n,t))}f=f.length*(g||1)}else m=".bones["+b[h].name+"]",c(pc,m+".position",k,"pos",d),c(md,m+".quaternion",k,"rot",d),c(pc,m+".scale",k,"scl",d)}return 0===d.length?null:new Ga(e,f,d)}});Object.assign(Ga.prototype,{resetDuration:function(){for(var a=0,b=0,c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=
a;return this},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},validate:function(){for(var a=!0,b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this},clone:function(){for(var a=[],b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new Ga(this.name,this.duration,a)}});var Rb={enabled:!1,files:{},add:function(a,b){!1!==
this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},za=new se,Sa={};Object.assign(La.prototype,{load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Rb.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;if(void 0!==Sa[a])Sa[a].push({onLoad:b,onProgress:c,onError:d});
else{var g=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(g){c=g[1];var h=!!g[2];g=g[3];g=decodeURIComponent(g);h&&(g=atob(g));try{var k=(this.responseType||"").toLowerCase();switch(k){case "arraybuffer":case "blob":var m=new Uint8Array(g.length);for(h=0;h<g.length;h++)m[h]=g.charCodeAt(h);var l="blob"===k?new Blob([m.buffer],{type:c}):m.buffer;break;case "document":l=(new DOMParser).parseFromString(g,c);break;case "json":l=JSON.parse(g);break;default:l=g}setTimeout(function(){b&&b(l);e.manager.itemEnd(a)},
0)}catch(v){setTimeout(function(){d&&d(v);e.manager.itemError(a);e.manager.itemEnd(a)},0)}}else{Sa[a]=[];Sa[a].push({onLoad:b,onProgress:c,onError:d});var p=new XMLHttpRequest;p.open("GET",a,!0);p.addEventListener("load",function(b){var c=this.response;Rb.add(a,c);var d=Sa[a];delete Sa[a];if(200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var f=0,g=d.length;f<g;f++){var h=d[f];if(h.onLoad)h.onLoad(c)}}else{f=0;for(g=d.length;f<g;f++)if(h=
d[f],h.onError)h.onError(b);e.manager.itemError(a)}e.manager.itemEnd(a)},!1);p.addEventListener("progress",function(b){for(var c=Sa[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f.onProgress)f.onProgress(b)}},!1);p.addEventListener("error",function(b){var c=Sa[a];delete Sa[a];for(var d=0,f=c.length;d<f;d++){var g=c[d];if(g.onError)g.onError(b)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);p.addEventListener("abort",function(b){var c=Sa[a];delete Sa[a];for(var d=0,f=c.length;d<f;d++){var g=c[d];if(g.onError)g.onError(b)}e.manager.itemError(a);
e.manager.itemEnd(a)},!1);void 0!==this.responseType&&(p.responseType=this.responseType);void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials);p.overrideMimeType&&p.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(h in this.requestHeader)p.setRequestHeader(h,this.requestHeader[h]);p.send(null)}e.manager.itemStart(a);return p}},setPath:function(a){this.path=a;return this},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=
a;return this},setMimeType:function(a){this.mimeType=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});Object.assign(Gf.prototype,{load:function(a,b,c,d){var e=this,f=new La(e.manager);f.setPath(e.path);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){for(var b=[],c=0;c<a.length;c++){var d=Ga.parse(a[c]);b.push(d)}return b},setPath:function(a){this.path=a;return this}});Object.assign(Hf.prototype,{load:function(a,b,c,d){function e(e){k.load(a[e],
function(a){a=f._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};m+=1;6===m&&(1===a.mipmapCount&&(h.minFilter=1006),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f=this,g=[],h=new ac;h.image=g;var k=new La(this.manager);k.setPath(this.path);k.setResponseType("arraybuffer");if(Array.isArray(a))for(var m=0,l=0,p=a.length;l<p;++l)e(l);else k.load(a,function(a){a=f._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){g[d]={mipmaps:[]};
for(var e=0;e<a.mipmapCount;e++)g[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),g[d].format=a.format,g[d].width=a.width,g[d].height=a.height}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=1006);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function(a){this.path=a;return this}});Object.assign(te.prototype,{load:function(a,b,c,d){var e=this,f=new sb,g=new La(this.manager);g.setResponseType("arraybuffer");g.setPath(this.path);
g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:1001,f.wrapT=void 0!==a.wrapT?a.wrapT:1001,f.magFilter=void 0!==a.magFilter?a.magFilter:1006,f.minFilter=void 0!==a.minFilter?a.minFilter:1008,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===
a.mipmapCount&&(f.minFilter=1006),f.needsUpdate=!0,b&&b(f,a)},c,d);return f},setPath:function(a){this.path=a;return this}});Object.assign(nd.prototype,{crossOrigin:"anonymous",load:function(a,b,c,d){function e(){k.removeEventListener("load",e,!1);k.removeEventListener("error",f,!1);Rb.add(a,this);b&&b(this);g.manager.itemEnd(a)}function f(b){k.removeEventListener("load",e,!1);k.removeEventListener("error",f,!1);d&&d(b);g.manager.itemError(a);g.manager.itemEnd(a)}void 0===a&&(a="");void 0!==this.path&&
(a=this.path+a);a=this.manager.resolveURL(a);var g=this,h=Rb.get(a);if(void 0!==h)return g.manager.itemStart(a),setTimeout(function(){b&&b(h);g.manager.itemEnd(a)},0),h;var k=document.createElementNS("http://www.w3.org/1999/xhtml","img");k.addEventListener("load",e,!1);k.addEventListener("error",f,!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(k.crossOrigin=this.crossOrigin);g.manager.itemStart(a);k.src=a;return k},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=
a;return this}});Object.assign(ue.prototype,{crossOrigin:"anonymous",load:function(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new cb,g=new nd(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var h=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(Pd.prototype,{crossOrigin:"anonymous",load:function(a,
b,c,d){var e=new X,f=new nd(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(c){e.image=c;c=0<a.search(/\.jpe?g($|\?)/i)||0===a.search(/^data:image\/jpeg/);e.format=c?1022:1023;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(N.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a,
b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;
this.needsUpdate=!1;var b=[],c=this.getPoint(0),d,e=0;b.push(0);for(d=1;d<=a;d++){var f=this.getPoint(d/a);e+=f.distanceTo(c);b.push(e);c=f}return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var c=this.getLengths(),d=c.length;b=b?b:a*c[d-1];for(var e=0,f=d-1,g;e<=f;)if(a=Math.floor(e+(f-e)/2),g=c[a]-b,0>g)e=a+1;else if(0<g)f=a-1;else{f=a;break}a=f;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function(a){var b=
a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function(a){a=this.getUtoTmapping(a);return this.getTangent(a)},computeFrenetFrames:function(a,b){var c=new n,d=[],e=[],f=[],g=new n,h=new O,k;for(k=0;k<=a;k++){var m=k/a;d[k]=this.getTangentAt(m);d[k].normalize()}e[0]=new n;f[0]=new n;k=Number.MAX_VALUE;m=Math.abs(d[0].x);var l=Math.abs(d[0].y),p=Math.abs(d[0].z);m<=k&&(k=m,c.set(1,0,0));l<=k&&(k=l,c.set(0,1,0));p<=k&&c.set(0,
0,1);g.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],g);f[0].crossVectors(d[0],e[0]);for(k=1;k<=a;k++)e[k]=e[k-1].clone(),f[k]=f[k-1].clone(),g.crossVectors(d[k-1],d[k]),g.length()>Number.EPSILON&&(g.normalize(),c=Math.acos(P.clamp(d[k-1].dot(d[k]),-1,1)),e[k].applyMatrix4(h.makeRotationAxis(g,c))),f[k].crossVectors(d[k],e[k]);if(!0===b)for(c=Math.acos(P.clamp(e[0].dot(e[a]),-1,1)),c/=a,0<d[0].dot(g.crossVectors(e[0],e[a]))&&(c=-c),k=1;k<=a;k++)e[k].applyMatrix4(h.makeRotationAxis(d[k],
c*k)),f[k].crossVectors(d[k],e[k]);return{tangents:d,normals:e,binormals:f}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function(){var a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a},fromJSON:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}});Aa.prototype=Object.create(N.prototype);Aa.prototype.constructor=
Aa;Aa.prototype.isEllipseCurve=!0;Aa.prototype.getPoint=function(a,b){b=b||new D;for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,e=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*Math.cos(c);var f=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=a-this.aX,f-=this.aY,a=e*c-f*d+this.aX,f=e*d+f*c+this.aY);return b.set(a,
f)};Aa.prototype.copy=function(a){N.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};Aa.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=
this.aRotation;return a};Aa.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};qc.prototype=Object.create(Aa.prototype);qc.prototype.constructor=qc;qc.prototype.isArcCurve=!0;var fe=new n,Re=new ve,Se=new ve,Te=new ve;ua.prototype=Object.create(N.prototype);ua.prototype.constructor=ua;ua.prototype.isCatmullRomCurve3=
!0;ua.prototype.getPoint=function(a,b){b=b||new n;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=Math.floor(a);a-=e;this.closed?e+=0<e?0:(Math.floor(Math.abs(e)/d)+1)*d:0===a&&e===d-1&&(e=d-2,a=1);if(this.closed||0<e)var f=c[(e-1)%d];else fe.subVectors(c[0],c[1]).add(c[0]),f=fe;var g=c[e%d];var h=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(fe.subVectors(c[d-1],c[d-2]).add(c[d-1]),c=fe);if("centripetal"===this.curveType||"chordal"===this.curveType){var k="chordal"===this.curveType?.5:.25;
d=Math.pow(f.distanceToSquared(g),k);e=Math.pow(g.distanceToSquared(h),k);k=Math.pow(h.distanceToSquared(c),k);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>k&&(k=e);Re.initNonuniformCatmullRom(f.x,g.x,h.x,c.x,d,e,k);Se.initNonuniformCatmullRom(f.y,g.y,h.y,c.y,d,e,k);Te.initNonuniformCatmullRom(f.z,g.z,h.z,c.z,d,e,k)}else"catmullrom"===this.curveType&&(Re.initCatmullRom(f.x,g.x,h.x,c.x,this.tension),Se.initCatmullRom(f.y,g.y,h.y,c.y,this.tension),Te.initCatmullRom(f.z,g.z,h.z,c.z,this.tension));b.set(Re.calc(a),
Se.calc(a),Te.calc(a));return b};ua.prototype.copy=function(a){N.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};ua.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};
ua.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push((new n).fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};Ma.prototype=Object.create(N.prototype);Ma.prototype.constructor=Ma;Ma.prototype.isCubicBezierCurve=!0;Ma.prototype.getPoint=function(a,b){b=b||new D;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(pd(a,c.x,d.x,e.x,f.x),pd(a,c.y,d.y,e.y,
f.y));return b};Ma.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Ma.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};Ma.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};
$a.prototype=Object.create(N.prototype);$a.prototype.constructor=$a;$a.prototype.isCubicBezierCurve3=!0;$a.prototype.getPoint=function(a,b){b=b||new n;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(pd(a,c.x,d.x,e.x,f.x),pd(a,c.y,d.y,e.y,f.y),pd(a,c.z,d.z,e.z,f.z));return b};$a.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};$a.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();
a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};$a.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};Ba.prototype=Object.create(N.prototype);Ba.prototype.constructor=Ba;Ba.prototype.isLineCurve=!0;Ba.prototype.getPoint=function(a,b){b=b||new D;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Ba.prototype.getPointAt=
function(a,b){return this.getPoint(a,b)};Ba.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};Ba.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Ba.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Ba.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Na.prototype=
Object.create(N.prototype);Na.prototype.constructor=Na;Na.prototype.isLineCurve3=!0;Na.prototype.getPoint=function(a,b){b=b||new n;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Na.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Na.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Na.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();
return a};Na.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Oa.prototype=Object.create(N.prototype);Oa.prototype.constructor=Oa;Oa.prototype.isQuadraticBezierCurve=!0;Oa.prototype.getPoint=function(a,b){b=b||new D;var c=this.v0,d=this.v1,e=this.v2;b.set(od(a,c.x,d.x,e.x),od(a,c.y,d.y,e.y));return b};Oa.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};
Oa.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Oa.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};ab.prototype=Object.create(N.prototype);ab.prototype.constructor=ab;ab.prototype.isQuadraticBezierCurve3=!0;ab.prototype.getPoint=function(a,b){b=b||new n;var c=this.v0,d=this.v1,e=this.v2;b.set(od(a,c.x,
d.x,e.x),od(a,c.y,d.y,e.y),od(a,c.z,d.z,e.z));return b};ab.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};ab.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};ab.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Pa.prototype=Object.create(N.prototype);
Pa.prototype.constructor=Pa;Pa.prototype.isSplineCurve=!0;Pa.prototype.getPoint=function(a,b){b=b||new D;var c=this.points,d=(c.length-1)*a;a=Math.floor(d);d-=a;var e=c[0===a?a:a-1],f=c[a],g=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(If(d,e.x,f.x,g.x,c.x),If(d,e.y,f.y,g.y,c.y));return b};Pa.prototype.copy=function(a){N.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());return this};Pa.prototype.toJSON=function(){var a=
N.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a};Pa.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push((new D).fromArray(d))}return this};var Ue=Object.freeze({ArcCurve:qc,CatmullRomCurve3:ua,CubicBezierCurve:Ma,CubicBezierCurve3:$a,EllipseCurve:Aa,LineCurve:Ba,LineCurve3:Na,QuadraticBezierCurve:Oa,QuadraticBezierCurve3:ab,
SplineCurve:Pa});fb.prototype=Object.assign(Object.create(N.prototype),{constructor:fb,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Ba(b,a))},getPoint:function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){var a=this.getCurveLengths();
return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},getSpacedPoints:function(a){void 0===a&&(a=40);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=
a||12;for(var b=[],c,d=0,e=this.curves;d<e.length;d++){var f=e[d];f=f.getPoints(f&&f.isEllipseCurve?2*a:f&&(f.isLineCurve||f.isLineCurve3)?1:f&&f.isSplineCurve?a*f.points.length:a);for(var g=0;g<f.length;g++){var h=f[g];c&&c.equals(h)||(b.push(h),c=h)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},copy:function(a){N.prototype.copy.call(this,a);this.curves=[];for(var b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this},
toJSON:function(){var a=N.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(var b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());return a},fromJSON:function(a){N.prototype.fromJSON.call(this,a);this.autoClose=a.autoClose;this.curves=[];for(var b=0,c=a.curves.length;b<c;b++){var d=a.curves[b];this.curves.push((new Ue[d.type]).fromJSON(d))}return this}});Qa.prototype=Object.assign(Object.create(fb.prototype),{constructor:Qa,setFromPoints:function(a){this.moveTo(a[0].x,
a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.currentPoint.set(a,b)},lineTo:function(a,b){var c=new Ba(this.currentPoint.clone(),new D(a,b));this.curves.push(c);this.currentPoint.set(a,b)},quadraticCurveTo:function(a,b,c,d){a=new Oa(this.currentPoint.clone(),new D(a,b),new D(c,d));this.curves.push(a);this.currentPoint.set(c,d)},bezierCurveTo:function(a,b,c,d,e,f){a=new Ma(this.currentPoint.clone(),new D(a,b),new D(c,d),new D(e,f));this.curves.push(a);
this.currentPoint.set(e,f)},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a);b=new Pa(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1])},arc:function(a,b,c,d,e,f){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,b,c,d,e,f,g,h){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f,g,h)},absellipse:function(a,b,c,d,e,f,g,h){a=new Aa(a,b,c,d,e,f,g,h);0<this.curves.length&&
(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a)},copy:function(a){fb.prototype.copy.call(this,a);this.currentPoint.copy(a.currentPoint);return this},toJSON:function(){var a=fb.prototype.toJSON.call(this);a.currentPoint=this.currentPoint.toArray();return a},fromJSON:function(a){fb.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});pb.prototype=Object.assign(Object.create(Qa.prototype),
{constructor:pb,getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function(a){Qa.prototype.copy.call(this,a);this.holes=[];for(var b=0,c=a.holes.length;b<c;b++)this.holes.push(a.holes[b].clone());return this},toJSON:function(){var a=Qa.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(var b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());
return a},fromJSON:function(a){Qa.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){var d=a.holes[b];this.holes.push((new Qa).fromJSON(d))}return this}});aa.prototype=Object.assign(Object.create(H.prototype),{constructor:aa,isLight:!0,copy:function(a){H.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=H.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=
this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});Qd.prototype=Object.assign(Object.create(aa.prototype),{constructor:Qd,isHemisphereLight:!0,copy:function(a){aa.prototype.copy.call(this,
a);this.groundColor.copy(a.groundColor);return this}});Object.assign(Qb.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var a={};0!==this.bias&&(a.bias=this.bias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;
return a}});Rd.prototype=Object.assign(Object.create(Qb.prototype),{constructor:Rd,isSpotLightShadow:!0,update:function(a){var b=this.camera,c=2*P.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height;a=a.distance||b.far;if(c!==b.fov||d!==b.aspect||a!==b.far)b.fov=c,b.aspect=d,b.far=a,b.updateProjectionMatrix()}});Sd.prototype=Object.assign(Object.create(aa.prototype),{constructor:Sd,isSpotLight:!0,copy:function(a){aa.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=
a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Td.prototype=Object.assign(Object.create(aa.prototype),{constructor:Td,isPointLight:!0,copy:function(a){aa.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});qd.prototype=Object.assign(Object.create(Xa.prototype),{constructor:qd,isOrthographicCamera:!0,copy:function(a,b){Xa.prototype.copy.call(this,a,b);this.left=a.left;this.right=
a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function(a,b,c,d,e,f){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function(){null!==
this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;c+=a;a=d+b;b=d-b;if(null!==this.view&&this.view.enabled){c=this.zoom/(this.view.width/this.view.fullWidth);b=this.zoom/(this.view.height/this.view.fullHeight);var f=(this.right-this.left)/this.view.width;d=(this.top-this.bottom)/this.view.height;e+=this.view.offsetX/
c*f;c=e+this.view.width/c*f;a-=this.view.offsetY/b*d;b=a-this.view.height/b*d}this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=H.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});
Ud.prototype=Object.assign(Object.create(Qb.prototype),{constructor:Ud});Vd.prototype=Object.assign(Object.create(aa.prototype),{constructor:Vd,isDirectionalLight:!0,copy:function(a){aa.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Wd.prototype=Object.assign(Object.create(aa.prototype),{constructor:Wd,isAmbientLight:!0});Xd.prototype=Object.assign(Object.create(aa.prototype),{constructor:Xd,isRectAreaLight:!0,copy:function(a){aa.prototype.copy.call(this,
a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=aa.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});Object.assign(Yd.prototype,{load:function(a,b,c,d){var e=this,f=new La(e.manager);f.setPath(e.path);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){function b(a){void 0===c[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return c[a]}var c=this.textures,d=new vh[a.type];void 0!==a.uuid&&
(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearCoat&&(d.clearCoat=a.clearCoat);void 0!==a.clearCoatRoughness&&(d.clearCoatRoughness=a.clearCoatRoughness);void 0!==a.vertexColors&&(d.vertexColors=
a.vertexColors);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);
void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&
(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=a.morphTargets);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.userData&&(d.userData=a.userData);if(void 0!==a.uniforms)for(var e in a.uniforms){var f=a.uniforms[e];d.uniforms[e]=
{};switch(f.type){case "t":d.uniforms[e].value=b(f.value);break;case "c":d.uniforms[e].value=(new B).setHex(f.value);break;case "v2":d.uniforms[e].value=(new D).fromArray(f.value);break;case "v3":d.uniforms[e].value=(new n).fromArray(f.value);break;case "v4":d.uniforms[e].value=(new ba).fromArray(f.value);break;case "m3":d.uniforms[e].value=(new ia).fromArray(f.value);case "m4":d.uniforms[e].value=(new O).fromArray(f.value);break;default:d.uniforms[e].value=f.value}}void 0!==a.defines&&(d.defines=
a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);if(void 0!==a.extensions)for(var g in a.extensions)d.extensions[g]=a.extensions[g];void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.matcap&&(d.matcap=b(a.matcap));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap),d.transparent=!0);
void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==a.normalScale&&(e=a.normalScale,!1===Array.isArray(e)&&(e=[e,e]),d.normalScale=(new D).fromArray(e));void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=
a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.lightMap&&
(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));return d},setPath:function(a){this.path=a;return this},setTextures:function(a){this.textures=a;return this}});var Ve={decodeText:function(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);for(var b="",c=0,d=a.length;c<d;c++)b+=
String.fromCharCode(a[c]);try{return decodeURIComponent(escape(b))}catch(e){return b}},extractUrlBase:function(a){var b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};Zd.prototype=Object.assign(Object.create(E.prototype),{constructor:Zd,isInstancedBufferGeometry:!0,copy:function(a){E.prototype.copy.call(this,a);this.maxInstancedCount=a.maxInstancedCount;return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var a=E.prototype.toJSON.call(this);a.maxInstancedCount=
this.maxInstancedCount;a.isInstancedBufferGeometry=!0;return a}});$d.prototype=Object.assign(Object.create(I.prototype),{constructor:$d,isInstancedBufferAttribute:!0,copy:function(a){I.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},toJSON:function(){var a=I.prototype.toJSON.call(this);a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}});Object.assign(we.prototype,{load:function(a,b,c,d){var e=this,f=new La(e.manager);f.setPath(e.path);
f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=a.isInstancedBufferGeometry?new Zd:new E,c=a.data.index;if(void 0!==c){var d=new We[c.type](c.array);b.setIndex(new I(d,1))}c=a.data.attributes;for(var e in c){var f=c[e];d=new We[f.type](f.array);d=new (f.isInstancedBufferAttribute?$d:I)(d,f.itemSize,f.normalized);void 0!==f.name&&(d.name=f.name);b.addAttribute(e,d)}var g=a.data.morphAttributes;if(g)for(e in g){var h=g[e],k=[];c=0;for(var m=h.length;c<m;c++)f=h[c],d=new We[f.type](f.array),
d=new I(d,f.itemSize,f.normalized),void 0!==f.name&&(d.name=f.name),k.push(d);b.morphAttributes[e]=k}e=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==e)for(c=0,f=e.length;c!==f;++c)d=e[c],b.addGroup(d.start,d.count,d.materialIndex);c=a.data.boundingSphere;void 0!==c&&(e=new n,void 0!==c.center&&e.fromArray(c.center),b.boundingSphere=new Ua(e,c.radius));a.name&&(b.name=a.name);a.userData&&(b.userData=a.userData);return b},setPath:function(a){this.path=a;return this}});var We={Int8Array:Int8Array,
Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Object.assign(xe.prototype,{crossOrigin:"anonymous",load:function(a,b,c,d){var e=this,f=void 0===this.path?Ve.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||f;f=new La(e.manager);f.setPath(this.path);f.load(a,function(c){var f=null;
try{f=JSON.parse(c)}catch(k){void 0!==d&&d(k);console.error("THREE:ObjectLoader: Can't parse "+a+".",k.message);return}c=f.metadata;void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a):e.parse(f,b)},c,d)},setPath:function(a){this.path=a;return this},setResourcePath:function(a){this.resourcePath=a;return this},setCrossOrigin:function(a){this.crossOrigin=a;return this},parse:function(a,b){var c=this.parseShape(a.shapes);c=this.parseGeometries(a.geometries,
c);var d=this.parseImages(a.images,function(){void 0!==b&&b(e)});d=this.parseTextures(a.textures,d);d=this.parseMaterials(a.materials,d);var e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function(a){var b={};if(void 0!==a)for(var c=0,d=a.length;c<d;c++){var e=(new pb).fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function(a,b){var c={};if(void 0!==a)for(var d=new we,
e=0,f=a.length;e<f;e++){var g=a[e];switch(g.type){case "PlaneGeometry":case "PlaneBufferGeometry":var h=new pa[g.type](g.width,g.height,g.widthSegments,g.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":h=new pa[g.type](g.width,g.height,g.depth,g.widthSegments,g.heightSegments,g.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":h=new pa[g.type](g.radius,g.segments,g.thetaStart,g.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":h=
new pa[g.type](g.radiusTop,g.radiusBottom,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":h=new pa[g.type](g.radius,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":h=new pa[g.type](g.radius,g.widthSegments,g.heightSegments,g.phiStart,g.phiLength,g.thetaStart,g.thetaLength);break;case "DodecahedronGeometry":case "DodecahedronBufferGeometry":case "IcosahedronGeometry":case "IcosahedronBufferGeometry":case "OctahedronGeometry":case "OctahedronBufferGeometry":case "TetrahedronGeometry":case "TetrahedronBufferGeometry":h=
new pa[g.type](g.radius,g.detail);break;case "RingGeometry":case "RingBufferGeometry":h=new pa[g.type](g.innerRadius,g.outerRadius,g.thetaSegments,g.phiSegments,g.thetaStart,g.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":h=new pa[g.type](g.radius,g.tube,g.radialSegments,g.tubularSegments,g.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":h=new pa[g.type](g.radius,g.tube,g.tubularSegments,g.radialSegments,g.p,g.q);break;case "TubeGeometry":case "TubeBufferGeometry":h=
new pa[g.type]((new Ue[g.path.type]).fromJSON(g.path),g.tubularSegments,g.radius,g.radialSegments,g.closed);break;case "LatheGeometry":case "LatheBufferGeometry":h=new pa[g.type](g.points,g.segments,g.phiStart,g.phiLength);break;case "PolyhedronGeometry":case "PolyhedronBufferGeometry":h=new pa[g.type](g.vertices,g.indices,g.radius,g.details);break;case "ShapeGeometry":case "ShapeBufferGeometry":h=[];for(var k=0,m=g.shapes.length;k<m;k++){var l=b[g.shapes[k]];h.push(l)}h=new pa[g.type](h,g.curveSegments);
break;case "ExtrudeGeometry":case "ExtrudeBufferGeometry":h=[];k=0;for(m=g.shapes.length;k<m;k++)l=b[g.shapes[k]],h.push(l);k=g.options.extrudePath;void 0!==k&&(g.options.extrudePath=(new Ue[k.type]).fromJSON(k));h=new pa[g.type](h,g.options);break;case "BufferGeometry":case "InstancedBufferGeometry":h=d.parse(g);break;case "Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?h=(new THREE.LegacyJSONLoader).parse(g,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');
break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+g.type+'"');continue}h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);!0===h.isBufferGeometry&&void 0!==g.userData&&(h.userData=g.userData);c[g.uuid]=h}return c},parseMaterials:function(a,b){var c={},d={};if(void 0!==a){var e=new Yd;e.setTextures(b);b=0;for(var f=a.length;b<f;b++){var g=a[b];if("MultiMaterial"===g.type){for(var h=[],k=0;k<g.materials.length;k++){var m=g.materials[k];void 0===c[m.uuid]&&(c[m.uuid]=e.parse(m));
h.push(c[m.uuid])}d[g.uuid]=h}else void 0===c[g.uuid]&&(c[g.uuid]=e.parse(g)),d[g.uuid]=c[g.uuid]}}return d},parseAnimations:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Ga.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid);b.push(e)}return b},parseImages:function(a,b){function c(a){d.manager.itemStart(a);return f.load(a,function(){d.manager.itemEnd(a)},void 0,function(){d.manager.itemError(a);d.manager.itemEnd(a)})}var d=this,e={};if(void 0!==a&&0<a.length){b=new se(b);var f=new nd(b);f.setCrossOrigin(this.crossOrigin);
b=0;for(var g=a.length;b<g;b++){var h=a[b],k=h.url;if(Array.isArray(k)){e[h.uuid]=[];for(var m=0,l=k.length;m<l;m++){var p=k[m];p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:d.resourcePath+p;e[h.uuid].push(c(p))}}else p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:d.resourcePath+h.url,e[h.uuid]=c(p)}}return e},parseTextures:function(a,b){function c(a,b){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return b[a]}var d={};if(void 0!==
a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=Array.isArray(b[g.image])?new cb(b[g.image]):new X(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&(h.mapping=c(g.mapping,wh));void 0!==g.offset&&h.offset.fromArray(g.offset);void 0!==g.repeat&&h.repeat.fromArray(g.repeat);void 0!==g.center&&
h.center.fromArray(g.center);void 0!==g.rotation&&(h.rotation=g.rotation);void 0!==g.wrap&&(h.wrapS=c(g.wrap[0],Vf),h.wrapT=c(g.wrap[1],Vf));void 0!==g.format&&(h.format=g.format);void 0!==g.type&&(h.type=g.type);void 0!==g.encoding&&(h.encoding=g.encoding);void 0!==g.minFilter&&(h.minFilter=c(g.minFilter,Wf));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter,Wf));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);void 0!==g.flipY&&(h.flipY=g.flipY);void 0!==g.premultiplyAlpha&&(h.premultiplyAlpha=
g.premultiplyAlpha);void 0!==g.unpackAlignment&&(h.unpackAlignment=g.unpackAlignment);d[g.uuid]=h}return d},parseObject:function(a,b,c){function d(a){void 0===b[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return b[a]}function e(a){if(void 0!==a){if(Array.isArray(a)){for(var b=[],d=0,e=a.length;d<e;d++){var f=a[d];void 0===c[f]&&console.warn("THREE.ObjectLoader: Undefined material",f);b.push(c[f])}return b}void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined material",a);return c[a]}}
switch(a.type){case "Scene":var f=new Fd;void 0!==a.background&&Number.isInteger(a.background)&&(f.background=new B(a.background));void 0!==a.fog&&("Fog"===a.fog.type?f.fog=new Ed(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(f.fog=new Dd(a.fog.color,a.fog.density)));break;case "PerspectiveCamera":f=new ja(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(f.focus=a.focus);void 0!==a.zoom&&(f.zoom=a.zoom);void 0!==a.filmGauge&&(f.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(f.filmOffset=
a.filmOffset);void 0!==a.view&&(f.view=Object.assign({},a.view));break;case "OrthographicCamera":f=new qd(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(f.zoom=a.zoom);void 0!==a.view&&(f.view=Object.assign({},a.view));break;case "AmbientLight":f=new Wd(a.color,a.intensity);break;case "DirectionalLight":f=new Vd(a.color,a.intensity);break;case "PointLight":f=new Td(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":f=new Xd(a.color,a.intensity,a.width,a.height);break;
case "SpotLight":f=new Sd(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":f=new Qd(a.color,a.groundColor,a.intensity);break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":f=d(a.geometry);var g=e(a.material);f=f.bones&&0<f.bones.length?new Pc(f,g):new ha(f,g);void 0!==a.drawMode&&f.setDrawMode(a.drawMode);break;case "LOD":f=new Oc;break;case "Line":f=new T(d(a.geometry),e(a.material),a.mode);
break;case "LineLoop":f=new Hd(d(a.geometry),e(a.material));break;case "LineSegments":f=new S(d(a.geometry),e(a.material));break;case "PointCloud":case "Points":f=new $b(d(a.geometry),e(a.material));break;case "Sprite":f=new Nc(e(a.material));break;case "Group":f=new Yb;break;default:f=new H}f.uuid=a.uuid;void 0!==a.name&&(f.name=a.name);void 0!==a.matrix?(f.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(f.matrixAutoUpdate=a.matrixAutoUpdate),f.matrixAutoUpdate&&f.matrix.decompose(f.position,
f.quaternion,f.scale)):(void 0!==a.position&&f.position.fromArray(a.position),void 0!==a.rotation&&f.rotation.fromArray(a.rotation),void 0!==a.quaternion&&f.quaternion.fromArray(a.quaternion),void 0!==a.scale&&f.scale.fromArray(a.scale));void 0!==a.castShadow&&(f.castShadow=a.castShadow);void 0!==a.receiveShadow&&(f.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(f.shadow.bias=a.shadow.bias),void 0!==a.shadow.radius&&(f.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&
f.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(f.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(f.visible=a.visible);void 0!==a.frustumCulled&&(f.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(f.renderOrder=a.renderOrder);void 0!==a.userData&&(f.userData=a.userData);void 0!==a.layers&&(f.layers.mask=a.layers);if(void 0!==a.children){g=a.children;for(var h=0;h<g.length;h++)f.add(this.parseObject(g[h],b,c))}if("LOD"===a.type)for(a=a.levels,g=
0;g<a.length;g++){h=a[g];var k=f.getObjectByProperty("uuid",h.object);void 0!==k&&f.addLevel(k,h.distance)}return f}});var wh={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Vf={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Wf={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,
LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};ye.prototype={constructor:ye,setOptions:function(a){this.options=a;return this},load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Rb.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;fetch(a).then(function(a){return a.blob()}).then(function(a){return void 0===e.options?createImageBitmap(a):createImageBitmap(a,
e.options)}).then(function(c){Rb.add(a,c);b&&b(c);e.manager.itemEnd(a)}).catch(function(b){d&&d(b);e.manager.itemError(a);e.manager.itemEnd(a)});e.manager.itemStart(a)},setCrossOrigin:function(){return this},setPath:function(a){this.path=a;return this}};Object.assign(ze.prototype,{moveTo:function(a,b){this.currentPath=new Qa;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b)},lineTo:function(a,b){this.currentPath.lineTo(a,b)},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,
b,c,d)},bezierCurveTo:function(a,b,c,d,e,f){this.currentPath.bezierCurveTo(a,b,c,d,e,f)},splineThru:function(a){this.currentPath.splineThru(a)},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new pb;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,l=h.y-g.y;if(Math.abs(l)>Number.EPSILON){if(0>l&&(g=b[f],k=-k,h=b[e],l=-l),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=
l*(a.x-g.x)-k*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var e=db.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0];var h=new pb;h.curves=g.curves;b.push(h);return b}var k=!e(f[0].getPoints());k=a?!k:k;h=[];var l=[],n=[],p=0;l[p]=void 0;n[p]=[];for(var v=0,t=f.length;v<t;v++){g=f[v];var r=g.getPoints();var u=e(r);(u=a?!u:u)?(!k&&l[p]&&p++,l[p]={s:new pb,p:r},l[p].s.curves=
g.curves,k&&p++,n[p]=[]):n[p].push({h:g,p:r[0]})}if(!l[0])return c(f);if(1<l.length){v=!1;a=[];e=0;for(f=l.length;e<f;e++)h[e]=[];e=0;for(f=l.length;e<f;e++)for(g=n[e],u=0;u<g.length;u++){k=g[u];p=!0;for(r=0;r<l.length;r++)d(k.p,l[r].p)&&(e!==r&&a.push({froms:e,tos:r,hole:u}),p?(p=!1,h[r].push(k)):v=!0);p&&h[e].push(k)}0<a.length&&(v||(n=h))}v=0;for(e=l.length;v<e;v++)for(h=l[v].s,b.push(h),a=n[v],f=0,g=a.length;f<g;f++)h.holes.push(a[f].h);return b}});Object.assign(Ae.prototype,{isFont:!0,generateShapes:function(a,
b){void 0===b&&(b=100);var c=[],d=b;b=this.data;var e=Array.from?Array.from(a):String(a).split("");d/=b.resolution;var f=(b.boundingBox.yMax-b.boundingBox.yMin+b.underlineThickness)*d;a=[];for(var g=0,h=0,k=0;k<e.length;k++){var l=e[k];if("\n"===l)g=0,h-=f;else{var n=d;var p=g,v=h;if(l=b.glyphs[l]||b.glyphs["?"]){var t=new ze;if(l.o)for(var r=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),u=0,w=r.length;u<w;)switch(r[u++]){case "m":var z=r[u++]*n+p;var y=r[u++]*n+v;t.moveTo(z,y);break;case "l":z=
r[u++]*n+p;y=r[u++]*n+v;t.lineTo(z,y);break;case "q":var x=r[u++]*n+p;var A=r[u++]*n+v;var B=r[u++]*n+p;var C=r[u++]*n+v;t.quadraticCurveTo(B,C,x,A);break;case "b":x=r[u++]*n+p,A=r[u++]*n+v,B=r[u++]*n+p,C=r[u++]*n+v,z=r[u++]*n+p,y=r[u++]*n+v,t.bezierCurveTo(B,C,z,y,x,A)}n={offsetX:l.ha*n,path:t}}else n=void 0;g+=n.offsetX;a.push(n.path)}}b=0;for(e=a.length;b<e;b++)Array.prototype.push.apply(c,a[b].toShapes());return c}});Object.assign(Jf.prototype,{load:function(a,b,c,d){var e=this,f=new La(this.manager);
f.setPath(this.path);f.load(a,function(a){try{var c=JSON.parse(a)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},parse:function(a){return new Ae(a)},setPath:function(a){this.path=a;return this}});rd.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};
Object.assign(rd.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(a,b,c){for(var d=[],e=0;e<a.length;++e)d[e]=this.createMaterial(a[e],b,c);return d},createMaterial:function(){var a={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},b=new B,c=new Pd,d=new Yd;return function(e,f,g){function h(a,b,d,e,h){a=f+a;var l=rd.Handlers.get(a);null!==l?a=l.load(a):
(c.setCrossOrigin(g),a=c.load(a));void 0!==b&&(a.repeat.fromArray(b),1!==b[0]&&(a.wrapS=1E3),1!==b[1]&&(a.wrapT=1E3));void 0!==d&&a.offset.fromArray(d);void 0!==e&&("repeat"===e[0]&&(a.wrapS=1E3),"mirror"===e[0]&&(a.wrapS=1002),"repeat"===e[1]&&(a.wrapT=1E3),"mirror"===e[1]&&(a.wrapT=1002));void 0!==h&&(a.anisotropy=h);b=P.generateUUID();k[b]=a;return b}var k={},l={uuid:P.generateUUID(),type:"MeshLambertMaterial"},n;for(n in e){var p=e[n];switch(n){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;
case "DbgName":l.name=p;break;case "blending":l.blending=a[p];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",n,"is no longer supported.");break;case "colorDiffuse":l.color=b.fromArray(p).getHex();break;case "colorSpecular":l.specular=b.fromArray(p).getHex();break;case "colorEmissive":l.emissive=b.fromArray(p).getHex();break;case "specularCoef":l.shininess=p;break;case "shading":"basic"===p.toLowerCase()&&(l.type="MeshBasicMaterial");"phong"===p.toLowerCase()&&
(l.type="MeshPhongMaterial");"standard"===p.toLowerCase()&&(l.type="MeshStandardMaterial");break;case "mapDiffuse":l.map=h(p,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;case "mapEmissive":l.emissiveMap=h(p,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case "mapEmissiveRepeat":case "mapEmissiveOffset":case "mapEmissiveWrap":case "mapEmissiveAnisotropy":break;
case "mapLight":l.lightMap=h(p,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":l.aoMap=h(p,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":l.bumpMap=h(p,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case "mapBumpScale":l.bumpScale=
p;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":l.normalMap=h(p,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case "mapNormalFactor":l.normalScale=p;break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":l.specularMap=h(p,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapMetalness":l.metalnessMap=h(p,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case "mapMetalnessRepeat":case "mapMetalnessOffset":case "mapMetalnessWrap":case "mapMetalnessAnisotropy":break;case "mapRoughness":l.roughnessMap=h(p,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case "mapRoughnessRepeat":case "mapRoughnessOffset":case "mapRoughnessWrap":case "mapRoughnessAnisotropy":break;case "mapAlpha":l.alphaMap=
h(p,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":l.side=1;break;case "doubleSided":l.side=2;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");l.opacity=p;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":l[n]=
p;break;case "vertexColors":!0===p&&(l.vertexColors=2);"face"===p&&(l.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",n,p)}}"MeshBasicMaterial"===l.type&&delete l.emissive;"MeshPhongMaterial"!==l.type&&delete l.specular;1>l.opacity&&(l.transparent=!0);d.setTextures(k);return d.parse(l)}}()});var ge,Ge={getContext:function(){void 0===ge&&(ge=new (window.AudioContext||window.webkitAudioContext));return ge},setContext:function(a){ge=a}};Object.assign(Be.prototype,
{load:function(a,b,c,d){var e=new La(this.manager);e.setResponseType("arraybuffer");e.setPath(this.path);e.load(a,function(a){a=a.slice(0);Ge.getContext().decodeAudioData(a,function(a){b(a)})},c,d)},setPath:function(a){this.path=a;return this}});Object.assign(ae.prototype,{isSphericalHarmonics3:!0,set:function(a){for(var b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this},zero:function(){for(var a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this},getAt:function(a,b){var c=a.x,d=a.y;a=a.z;
var e=this.coefficients;b=.282095*e[0];b+=.488603*e[1]*d;b+=.488603*e[2]*a;b+=.488603*e[3]*c;b+=1.092548*e[4]*c*d;b+=1.092548*e[5]*d*a;b+=.315392*e[6]*(3*a*a-1);b+=1.092548*e[7]*c*a;return b+=.546274*e[8]*(c*c-d*d)},getIrradianceAt:function(a,b){var c=a.x,d=a.y;a=a.z;var e=this.coefficients;b=.886227*e[0];b+=1.023328*e[1]*d;b+=1.023328*e[2]*a;b+=1.023328*e[3]*c;b+=.858086*e[4]*c*d;b+=.858086*e[5]*d*a;b+=e[6]*(.743125*a*a-.247708);b+=.858086*e[7]*c*a;return b+=.429043*e[8]*(c*c-d*d)},add:function(a){for(var b=
0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this},scale:function(a){for(var b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this},lerp:function(a,b){for(var c=0;9>c;c++)this.coefficients[c].lerp(a.coefficients[c],b);return this},equals:function(a){for(var b=0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0},copy:function(a){return this.set(a.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(a){for(var b=
this.coefficients,c=0;9>c;c++)b[c].fromArray(a,3*c);return this},toArray:function(){for(var a=[],b=this.coefficients,c=0;9>c;c++)b[c].toArray(a,3*c);return a}});Object.assign(ae,{getBasisAt:function(a,b){var c=a.x,d=a.y;a=a.z;b[0]=.282095;b[1]=.488603*d;b[2]=.488603*a;b[3]=.488603*c;b[4]=1.092548*c*d;b[5]=1.092548*d*a;b[6]=.315392*(3*a*a-1);b[7]=1.092548*c*a;b[8]=.546274*(c*c-d*d)}});Ra.prototype=Object.assign(Object.create(aa.prototype),{constructor:Ra,isLightProbe:!0,copy:function(a){aa.prototype.copy.call(this,
a);this.sh.copy(a.sh);this.intensity=a.intensity;return this},toJSON:function(a){return aa.prototype.toJSON.call(this,a)}});Ce.prototype=Object.assign(Object.create(Ra.prototype),{constructor:Ce,isHemisphereLightProbe:!0,copy:function(a){Ra.prototype.copy.call(this,a);return this},toJSON:function(a){return Ra.prototype.toJSON.call(this,a)}});De.prototype=Object.assign(Object.create(Ra.prototype),{constructor:De,isAmbientLightProbe:!0,copy:function(a){Ra.prototype.copy.call(this,a);return this},toJSON:function(a){return Ra.prototype.toJSON.call(this,
a)}});Object.assign(Kf.prototype,{update:function(){var a,b,c,d,e,f,g,h,k=new O,l=new O;return function(m){if(a!==this||b!==m.focus||c!==m.fov||d!==m.aspect*this.aspect||e!==m.near||f!==m.far||g!==m.zoom||h!==this.eyeSep){a=this;b=m.focus;c=m.fov;d=m.aspect*this.aspect;e=m.near;f=m.far;g=m.zoom;var p=m.projectionMatrix.clone();h=this.eyeSep/2;var n=h*e/b,q=e*Math.tan(P.DEG2RAD*c*.5)/g;l.elements[12]=-h;k.elements[12]=h;var r=-q*d+n;var u=q*d+n;p.elements[0]=2*e/(u-r);p.elements[8]=(u+r)/(u-r);this.cameraL.projectionMatrix.copy(p);
r=-q*d-n;u=q*d-n;p.elements[0]=2*e/(u-r);p.elements[8]=(u+r)/(u-r);this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(m.matrixWorld).multiply(l);this.cameraR.matrixWorld.copy(m.matrixWorld).multiply(k)}}()});sd.prototype=Object.create(H.prototype);sd.prototype.constructor=sd;Object.assign(Ee.prototype,{start:function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0},stop:function(){this.getElapsedTime();this.autoStart=
this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}});Fe.prototype=Object.assign(Object.create(H.prototype),{constructor:Fe,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),
this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.setTargetAtTime(a,
this.context.currentTime,.01);return this},updateMatrixWorld:function(){var a=new n,b=new ea,c=new n,d=new n,e=new Ee;return function(f){H.prototype.updateMatrixWorld.call(this,f);f=this.context.listener;var g=this.up;this.timeDelta=e.getDelta();this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);if(f.positionX){var h=this.context.currentTime+this.timeDelta;f.positionX.linearRampToValueAtTime(a.x,h);f.positionY.linearRampToValueAtTime(a.y,h);f.positionZ.linearRampToValueAtTime(a.z,
h);f.forwardX.linearRampToValueAtTime(d.x,h);f.forwardY.linearRampToValueAtTime(d.y,h);f.forwardZ.linearRampToValueAtTime(d.z,h);f.upX.linearRampToValueAtTime(g.x,h);f.upY.linearRampToValueAtTime(g.y,h);f.upZ.linearRampToValueAtTime(g.z,h)}else f.setPosition(a.x,a.y,a.z),f.setOrientation(d.x,d.y,d.z,g.x,g.y,g.z)}}()});rc.prototype=Object.assign(Object.create(H.prototype),{constructor:rc,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";
this.source=a;this.connect();return this},setMediaElementSource:function(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this},setBuffer:function(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.buffer;a.loop=this.loop;a.onended=this.onEnded.bind(this);this.startTime=this.context.currentTime;a.start(this.startTime,this.offset);this.isPlaying=!0;this.source=a;this.setDetune(this.detune);this.setPlaybackRate(this.playbackRate);return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this.source.stop(),this.source.onended=
null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-
1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=
a,this.connect()):this.filters=a;return this},setDetune:function(a){this.detune=a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=
a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&
(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}});He.prototype=Object.assign(Object.create(rc.prototype),{constructor:He,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a;return this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=
a;return this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a;return this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(a){this.panner.maxDistance=a;return this},setDirectionalCone:function(a,b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this},updateMatrixWorld:function(){var a=new n,b=new ea,c=new n,d=new n;return function(e){H.prototype.updateMatrixWorld.call(this,
e);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(a,b,c),d.set(0,0,1).applyQuaternion(b),e=this.panner,e.positionX){var f=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(a.x,f);e.positionY.linearRampToValueAtTime(a.y,f);e.positionZ.linearRampToValueAtTime(a.z,f);e.orientationX.linearRampToValueAtTime(d.x,f);e.orientationY.linearRampToValueAtTime(d.y,f);e.orientationZ.linearRampToValueAtTime(d.z,f)}else e.setPosition(a.x,a.y,
a.z),e.setOrientation(d.x,d.y,d.z)}}()});Object.assign(Ie.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.assign(Je.prototype,{accumulate:function(a,b){var c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e)c[a+e]=c[e];e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=
e},apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(var f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},saveOriginalState:function(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d)a[d]=a[c+d%b];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,
b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){ea.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var h=b+g;a[h]=a[h]*f+a[c+g]*d}}});Object.assign(Lf.prototype,{getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,
b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}});Object.assign(va,{Composite:Lf,create:function(a,b,c){return a&&a.isAnimationObjectGroup?new va.Composite(a,b,c):new va(a,b,c)},sanitizeNodeName:function(){var a=/[\[\]\.:\/]/g;return function(b){return b.replace(/\s/g,"_").replace(a,"")}}(),parseTrackName:function(){var a="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",
b=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]");a=/(WCOD+)?/.source.replace("WCOD",a);var c=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),d=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),e=new RegExp("^"+b+a+c+d+"$"),f=["material","materials","bones"];return function(a){var b=e.exec(a);if(!b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};var c=b.nodeName&&
b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){var d=b.nodeName.substring(c+1);-1!==f.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b}}(),findNode:function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){var d=function(a){for(var c=
0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b||(e=d(e.children)))return e}return null};if(a=d(a.children))return a}return null}});Object.assign(va.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=
c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=
this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=va.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;
this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",
this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c]}if(void 0!==f){if(void 0===a[f]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[f]}}f=a[d];if(void 0===f)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",
a);else{b=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}for(c=0;c<this.node.geometry.morphAttributes.position.length;c++)if(a.geometry.morphAttributes.position[c].name===e){e=c;break}}else{if(!a.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==
f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(c=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});
Object.assign(va.prototype,{_getValue_unbound:va.prototype.getValue,_setValue_unbound:va.prototype.setValue});Object.assign(Mf.prototype,{isAnimationObjectGroup:!0,add:function(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._paths,f=this._parsedPaths,g=this._bindings,h=g.length,k=void 0,l=0,n=arguments.length;l!==n;++l){var p=arguments[l],v=p.uuid,t=d[v];if(void 0===t){t=b++;d[v]=t;a.push(p);v=0;for(var r=h;v!==r;++v)g[v].push(new va(p,e[v],f[v]))}else if(t<
c){k=a[t];var u=--c;r=a[u];d[r.uuid]=t;a[t]=r;d[v]=u;a[u]=p;v=0;for(r=h;v!==r;++v){var w=g[v],z=w[t];w[t]=w[u];void 0===z&&(z=new va(p,e[v],f[v]));w[u]=z}}else a[t]!==k&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var a=this._objects,b=this.nCachedObjects_,c=this._indicesByUUID,d=this._bindings,e=d.length,f=0,g=arguments.length;f!==g;++f){var h=
arguments[f],k=h.uuid,l=c[k];if(void 0!==l&&l>=b){var n=b++,p=a[n];c[p.uuid]=l;a[l]=p;c[k]=n;a[n]=h;h=0;for(k=e;h!==k;++h){p=d[h];var v=p[l];p[l]=p[n];p[n]=v}}}this.nCachedObjects_=b},uncache:function(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g].uuid,l=d[k];if(void 0!==l)if(delete d[k],l<c){k=--c;var n=a[k],p=--b,v=a[p];d[n.uuid]=l;a[l]=n;d[v.uuid]=k;a[k]=v;a.pop();n=0;for(v=f;n!==
v;++n){var t=e[n],r=t[p];t[l]=t[k];t[k]=r;t.pop()}}else for(p=--b,v=a[p],d[v.uuid]=l,a[l]=v,a.pop(),n=0,v=f;n!==v;++n)t=e[n],t[l]=t[p],t.pop()}this.nCachedObjects_=c},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,k=this.nCachedObjects_,l=Array(h.length);d=e.length;c[a]=d;f.push(a);g.push(b);e.push(l);c=k;for(d=h.length;c!==d;++c)l[c]=new va(h[c],a,b);return l},unsubscribe_:function(a){var b=
this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}});Object.assign(Nf.prototype,{play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&
!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,
1,0)},crossFadeFrom:function(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;var d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this},crossFadeTo:function(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},
setDuration:function(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function(a,b,c){var d=this._mixer,e=d.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;d[1]=e+c;f[0]=a/g;f[1]=b/g;return this},stopWarping:function(){var a=
this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;
e=this._propertyBindings;for(var f=0,g=b.length;f!==g;++f)b[f].evaluate(c),e[f].accumulate(d,a)}}else this._updateWeight(a)},_updateWeight:function(a){var b=0;if(this.enabled){b=this.weight;var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function(a){var b=0;if(!this.paused){b=this.timeScale;var c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0];
b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function(a){var b=this.time+a,c=this._clip.duration,d=this.loop,e=this._loopCount,f=2202===d;if(0===a)return-1===e?b:f&&1===(e&1)?c-b:b;if(2200===d)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else{this.time=b;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=b;this._mixer.dispatchEvent({type:"finished",
action:this,direction:0>a?-1:1})}else{-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,f)):this._setEndings(0===this.repetitions,!0,f));if(b>=c||0>b){d=Math.floor(b/c);b-=c*d;e+=Math.abs(d);var g=this.repetitions-e;0>=g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=b=0<a?c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===g?(a=0>a,this._setEndings(a,!a,f)):this._setEndings(!1,!1,f),this._loopCount=e,this.time=b,this._mixer.dispatchEvent({type:"loop",
action:this,loopDelta:d}))}else this.time=b;if(f&&1===(e&1))return c-b}return b},_setEndings:function(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(a,b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;f[0]=b;d[1]=e+a;f[1]=
c;return this}});Ke.prototype=Object.assign(Object.create(Ca.prototype),{constructor:Ke,_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,h=this._bindingsByRootAndName,k=h[g];void 0===k&&(k={},h[g]=k);for(h=0;h!==e;++h){var l=d[h],n=l.name,p=k[n];if(void 0===p){p=f[h];if(void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,g,n));continue}p=new Je(va.create(c,n,b&&b._propertyBindings[h].binding.parsedPath),
l.ValueTypeName,l.getValueSize());++p.referenceCount;this._addInactiveBinding(p,g,n)}f[h]=p;a[h].resultBuffer=p.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},
_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},
get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=
f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;d=c[b];var e=d.knownActions,f=e[e.length-1],g=a._byClipCacheIndex;f._byClipCacheIndex=g;e[g]=f;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},
_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,
e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;delete e[d]}},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new ld(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=
d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?Ga.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new Nf(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||this._root;b=c.uuid;
c="string"===typeof a?Ga.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),f=this._accuIndex^=1,g=0;g!==c;++g)b[g]._update(d,
a,e,f);a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=
a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});be.prototype.clone=function(){return new be(void 0===this.value.clone?this.value:this.value.clone())};Le.prototype=
Object.assign(Object.create(Bb.prototype),{constructor:Le,isInstancedInterleavedBuffer:!0,copy:function(a){Bb.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Object.assign(Of.prototype,{linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,
a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,b,c){c=c||[];Me(a,this,c,b);c.sort(Pf);return c},intersectObjects:function(a,b,c){c=c||[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(var d=0,e=a.length;d<e;d++)Me(a[d],this,c,b);c.sort(Pf);return c}});Object.assign(Qf.prototype,{set:function(a,
b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this},makeSafe:function(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this},setFromVector3:function(a){return this.setFromCartesianCoords(a.x,a.y,a.z)},setFromCartesianCoords:function(a,b,c){this.radius=Math.sqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,
c),this.phi=Math.acos(P.clamp(b/this.radius,-1,1)));return this}});Object.assign(Rf.prototype,{set:function(a,b,c){this.radius=a;this.theta=b;this.y=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this},setFromVector3:function(a){return this.setFromCartesianCoords(a.x,a.y,a.z)},setFromCartesianCoords:function(a,b,c){this.radius=Math.sqrt(a*a+c*c);this.theta=Math.atan2(a,c);this.y=b;return this}});Object.assign(Ne.prototype,
{set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new D;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=
Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(a){void 0===a&&(console.warn("THREE.Box2: .getCenter() target is now required"),a=new D);return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){void 0===a&&(console.warn("THREE.Box2: .getSize() target is now required"),a=new D);return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);
this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function(a,b){void 0===b&&(console.warn("THREE.Box2: .getParameter() target is now required"),
b=new D);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function(a,b){void 0===b&&(console.warn("THREE.Box2: .clampPoint() target is now required"),b=new D);return b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new D;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);
this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Oe.prototype,{set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},getCenter:function(a){void 0===
a&&(console.warn("THREE.Line3: .getCenter() target is now required"),a=new n);return a.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){void 0===a&&(console.warn("THREE.Line3: .delta() target is now required"),a=new n);return a.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){void 0===b&&(console.warn("THREE.Line3: .at() target is now required"),b=
new n);return this.delta(b).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new n,b=new n;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(b);c=b.dot(a)/c;d&&(c=P.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);void 0===c&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),c=new n);return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);
this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}});td.prototype=Object.create(H.prototype);td.prototype.constructor=td;td.prototype.isImmediateRenderObject=!0;ud.prototype=Object.create(S.prototype);ud.prototype.constructor=ud;ud.prototype.update=function(){var a=new n,b=new n,c=new ia;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=
this.geometry.attributes.position,g=this.object.geometry;if(g&&g.isGeometry)for(var h=g.vertices,k=g.faces,l=g=0,n=k.length;l<n;l++)for(var p=k[l],v=0,t=p.vertexNormals.length;v<t;v++){var r=p.vertexNormals[v];a.copy(h[p[d[v]]]).applyMatrix4(e);b.copy(r).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else if(g&&g.isBufferGeometry)for(d=g.attributes.position,h=g.attributes.normal,v=g=0,t=d.count;v<t;v++)a.set(d.getX(v),d.getY(v),
d.getZ(v)).applyMatrix4(e),b.set(h.getX(v),h.getY(v),h.getZ(v)),b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0}}();sc.prototype=Object.create(H.prototype);sc.prototype.constructor=sc;sc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};sc.prototype.update=function(){var a=new n;return function(){this.light.updateMatrixWorld();var b=this.light.distance?this.light.distance:
1E3,c=b*Math.tan(this.light.angle);this.cone.scale.set(c,c,b);a.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(a);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();tc.prototype=Object.create(S.prototype);tc.prototype.constructor=tc;tc.prototype.updateMatrixWorld=function(){var a=new n,b=new O,c=new O;return function(d){var e=this.bones,f=this.geometry,g=f.getAttribute("position");c.getInverse(this.root.matrixWorld);
for(var h=0,k=0;h<e.length;h++){var l=e[h];l.parent&&l.parent.isBone&&(b.multiplyMatrices(c,l.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k,a.x,a.y,a.z),b.multiplyMatrices(c,l.parent.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k+1,a.x,a.y,a.z),k+=2)}f.getAttribute("position").needsUpdate=!0;H.prototype.updateMatrixWorld.call(this,d)}}();uc.prototype=Object.create(ha.prototype);uc.prototype.constructor=uc;uc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};uc.prototype.update=
function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};vc.prototype=Object.create(T.prototype);vc.prototype.constructor=vc;vc.prototype.update=function(){this.scale.set(.5*this.light.width,.5*this.light.height,1);if(void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var a=this.material.color,b=Math.max(a.r,
a.g,a.b);1<b&&a.multiplyScalar(1/b);this.children[0].material.color.copy(this.material.color)}};vc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()};wc.prototype=Object.create(H.prototype);wc.prototype.constructor=wc;wc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};wc.prototype.update=function(){var a=new n,b=new B,c=new B;return function(){var d=
this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=d.geometry.getAttribute("color");b.copy(this.light.color);c.copy(this.light.groundColor);for(var f=0,g=e.count;f<g;f++){var h=f<g/2?b:c;e.setXYZ(f,h.r,h.g,h.b)}e.needsUpdate=!0}d.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate())}}();xc.prototype=Object.create(ha.prototype);xc.prototype.constructor=xc;xc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};xc.prototype.onBeforeRender=
function(){return function(){this.position.copy(this.lightProbe.position);this.scale.set(1,1,1).multiplyScalar(this.size);this.material.uniforms.intensity.value=this.lightProbe.intensity}}();ce.prototype=Object.assign(Object.create(S.prototype),{constructor:ce,copy:function(a){S.prototype.copy.call(this,a);this.geometry.copy(a.geometry);this.material.copy(a.material);return this},clone:function(){return(new this.constructor).copy(this)}});de.prototype=Object.create(S.prototype);de.prototype.constructor=
de;yc.prototype=Object.create(T.prototype);yc.prototype.constructor=yc;yc.prototype.update=function(){function a(a,b,d,e){d=(b-a)/d;t.setXYZ(k,0,0,0);l++;for(n=a;n<b;n+=d)p=k+l,t.setXYZ(p,Math.sin(n)*c,0,Math.cos(n)*c),t.setXYZ(p+1,Math.sin(Math.min(n+d,b))*c,0,Math.cos(Math.min(n+d,b))*c),t.setXYZ(p+2,0,0,0),l+=3;v.addGroup(k,l,e);k+=l;l=0}var b=this.audio,c=this.range,d=this.divisionsInnerAngle,e=this.divisionsOuterAngle,f=P.degToRad(b.panner.coneInnerAngle);b=P.degToRad(b.panner.coneOuterAngle);
var g=f/2,h=b/2,k=0,l=0,n,p,v=this.geometry,t=v.attributes.position;v.clearGroups();a(-h,-g,e,0);a(-g,g,d,1);a(g,h,e,0);t.needsUpdate=!0;f===b&&(this.material[0].visible=!1)};yc.prototype.dispose=function(){this.geometry.dispose();this.material[0].dispose();this.material[1].dispose()};vd.prototype=Object.create(S.prototype);vd.prototype.constructor=vd;vd.prototype.update=function(){var a=new n,b=new n,c=new ia;return function(){this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);
var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var h=0,k=0,l=f.length;k<l;k++){var n=f[k],p=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);b.copy(p).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0}}();zc.prototype=Object.create(H.prototype);zc.prototype.constructor=zc;zc.prototype.dispose=function(){this.lightPlane.geometry.dispose();
this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};zc.prototype.update=function(){var a=new n,b=new n,c=new n;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(b);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),
this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(b);this.targetLine.scale.z=c.length()}}();wd.prototype=Object.create(S.prototype);wd.prototype.constructor=wd;wd.prototype.update=function(){function a(a,g,h,k){d.set(g,h,k).unproject(e);a=c[a];if(void 0!==a)for(g=b.getAttribute("position"),h=0,k=a.length;h<k;h++)g.setXYZ(a[h],d.x,d.y,d.z)}var b,c,d=new n,e=new Xa;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);
a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.getAttribute("position").needsUpdate=!0}}();gb.prototype=Object.create(S.prototype);gb.prototype.constructor=gb;gb.prototype.update=function(){var a=new Ha;return function(b){void 0!==
b&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&a.setFromObject(this.object);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();gb.prototype.setFromObject=
function(a){this.object=a;this.update();return this};gb.prototype.copy=function(a){S.prototype.copy.call(this,a);this.object=a.object;return this};gb.prototype.clone=function(){return(new this.constructor).copy(this)};xd.prototype=Object.create(S.prototype);xd.prototype.constructor=xd;xd.prototype.updateMatrixWorld=function(a){var b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),H.prototype.updateMatrixWorld.call(this,a))};yd.prototype=Object.create(T.prototype);
yd.prototype.constructor=yd;yd.prototype.updateMatrixWorld=function(a){var b=-this.plane.constant;1E-8>Math.abs(b)&&(b=1E-8);this.scale.set(.5*this.size,.5*this.size,b);this.children[0].material.side=0>b?1:0;this.lookAt(this.plane.normal);H.prototype.updateMatrixWorld.call(this,a)};var ee,Pe;hb.prototype=Object.create(H.prototype);hb.prototype.constructor=hb;hb.prototype.setDirection=function(){var a=new n,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,
0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();hb.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};hb.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};hb.prototype.copy=function(a){H.prototype.copy.call(this,a,!1);this.line.copy(a.line);
this.cone.copy(a.cone);return this};hb.prototype.clone=function(){return(new this.constructor).copy(this)};zd.prototype=Object.create(S.prototype);zd.prototype.constructor=zd;N.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(N.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Object.assign(fb.prototype,{createPointsGeometry:function(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var b=new Q,c=0,d=a.length;c<d;c++){var e=a[c];b.vertices.push(new n(e.x,
e.y,e.z||0))}return b}});Object.assign(Qa.prototype,{fromPoints:function(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");this.setFromPoints(a)}});Tf.prototype=Object.create(ua.prototype);Uf.prototype=Object.create(ua.prototype);Qe.prototype=Object.create(ua.prototype);Object.assign(Qe.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},
reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});ce.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};tc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(rd.prototype,{extractUrlBase:function(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");
return Ve.extractUrlBase(a)}});Object.assign(xe.prototype,{setTexturePath:function(a){console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().");return this.setResourcePath(a)}});Object.assign(Ne.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");
return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Ha.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");
return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});Oe.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};Object.assign(P,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");
return Math.random()},nearestPowerOfTwo:function(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return P.floorPowerOfTwo(a)},nextPowerOfTwo:function(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return P.ceilPowerOfTwo(a)}});Object.assign(ia.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},
multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(a){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});
Object.assign(O.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new n);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},
rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(a){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},
applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,e,f){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,f)}});Va.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};ea.prototype.multiplyVector3=
function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(Ab.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");
return this.intersectsSphere(a)}});Object.assign(ta.prototype,{area:function(){console.warn("THREE.Triangle: .area() has been renamed to .getArea().");return this.getArea()},barycoordFromPoint:function(a,b){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return this.getBarycoord(a,b)},midpoint:function(a){console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint().");return this.getMidpoint(a)},normal:function(a){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");
return this.getNormal(a)},plane:function(a){console.warn("THREE.Triangle: .plane() has been renamed to .getPlane().");return this.getPlane(a)}});Object.assign(ta,{barycoordFromPoint:function(a,b,c,d,e){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return ta.getBarycoord(a,b,c,d,e)},normal:function(a,b,c,d){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return ta.getNormal(a,b,c,d)}});Object.assign(pb.prototype,{extractAllPoints:function(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");
return this.extractPoints(a)},extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new Fb(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new Gb(this,a)}});Object.assign(D.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");
return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(n.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},
getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,
a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},fromAttribute:function(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");
return this.manhattanLength()}});Object.assign(ba.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(Q.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}});
Object.assign(H.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}});
Object.defineProperties(H.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(Oc.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(Gd.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Pc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(N.prototype,
"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});ja.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(aa.prototype,
{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");
this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},
shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(I.prototype,
{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}});Object.assign(E.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");
console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(E.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");
return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.assign(Ya.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(be.prototype,
{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(L.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},
set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new B}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=1===a}}});Object.defineProperties(Ka.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");
return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(sa.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(ne.prototype,
{clearTarget:function(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.");this.setRenderTarget(a);this.clear(b,c,d)},animate:function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop().");this.setAnimationLoop(a)},getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");
return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},
supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");
return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");
return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},
addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},
setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")}});Object.defineProperties(ne.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},
shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(qf.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},
renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});
Object.defineProperties(rb.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}});Object.defineProperties(Ta.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");
return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},
set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},
set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");
this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");
return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});Object.defineProperties(wf.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}});rc.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
var b=this;(new Be).load(a,function(a){b.setBuffer(a)});return this};Ie.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};sd.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};qb.crossOrigin=void 0;qb.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=
new Pd;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};qb.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new ue;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};qb.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};qb.loadCompressedTextureCube=
function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};l.ACESFilmicToneMapping=5;l.AddEquation=100;l.AddOperation=2;l.AdditiveBlending=2;l.AlphaFormat=1021;l.AlwaysDepth=1;l.AmbientLight=Wd;l.AmbientLightProbe=De;l.AnimationClip=Ga;l.AnimationLoader=Gf;l.AnimationMixer=Ke;l.AnimationObjectGroup=Mf;l.AnimationUtils=ra;l.ArcCurve=qc;l.ArrayCamera=Lc;l.ArrowHelper=hb;l.Audio=rc;l.AudioAnalyser=Ie;l.AudioContext=Ge;l.AudioListener=Fe;l.AudioLoader=
Be;l.AxesHelper=zd;l.AxisHelper=function(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new zd(a)};l.BackSide=1;l.BasicDepthPacking=3200;l.BasicShadowMap=0;l.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new te(a)};l.Bone=oe;l.BooleanKeyframeTrack=Ld;l.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new gb(a,
b)};l.Box2=Ne;l.Box3=Ha;l.Box3Helper=xd;l.BoxBufferGeometry=wb;l.BoxGeometry=Ub;l.BoxHelper=gb;l.BufferAttribute=I;l.BufferGeometry=E;l.BufferGeometryLoader=we;l.ByteType=1010;l.Cache=Rb;l.Camera=Xa;l.CameraHelper=wd;l.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")};l.CanvasTexture=Qc;l.CatmullRomCurve3=ua;l.CineonToneMapping=4;l.CircleBufferGeometry=mc;l.CircleGeometry=kd;l.ClampToEdgeWrapping=1001;l.Clock=Ee;l.ClosedSplineCurve3=Tf;l.Color=B;l.ColorKeyframeTrack=
Md;l.CompressedTexture=ac;l.CompressedTextureLoader=Hf;l.ConeBufferGeometry=jd;l.ConeGeometry=id;l.CubeCamera=sd;l.CubeGeometry=Ub;l.CubeReflectionMapping=301;l.CubeRefractionMapping=302;l.CubeTexture=cb;l.CubeTextureLoader=ue;l.CubeUVReflectionMapping=306;l.CubeUVRefractionMapping=307;l.CubicBezierCurve=Ma;l.CubicBezierCurve3=$a;l.CubicInterpolant=Jd;l.CullFaceBack=1;l.CullFaceFront=2;l.CullFaceFrontBack=3;l.CullFaceNone=0;l.Curve=N;l.CurvePath=fb;l.CustomBlending=5;l.CylinderBufferGeometry=eb;l.CylinderGeometry=
Ib;l.Cylindrical=Rf;l.DataTexture=sb;l.DataTexture2DArray=Vb;l.DataTexture3D=Wb;l.DataTextureLoader=te;l.DefaultLoadingManager=za;l.DepthFormat=1026;l.DepthStencilFormat=1027;l.DepthTexture=Rc;l.DirectionalLight=Vd;l.DirectionalLightHelper=zc;l.DirectionalLightShadow=Ud;l.DiscreteInterpolant=Kd;l.DodecahedronBufferGeometry=fc;l.DodecahedronGeometry=Xc;l.DoubleSide=2;l.DstAlphaFactor=206;l.DstColorFactor=208;l.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");
return(new I(a,b)).setDynamic(!0)};l.EdgesGeometry=lc;l.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new S(new lc(a.geometry),new V({color:void 0!==b?b:16777215}))};l.EllipseCurve=Aa;l.EqualDepth=4;l.EquirectangularReflectionMapping=303;l.EquirectangularRefractionMapping=304;l.Euler=tb;l.EventDispatcher=Ca;l.ExtrudeBufferGeometry=Ya;l.ExtrudeGeometry=Fb;l.Face3=Tb;l.Face4=function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");
return new Tb(a,b,c,e,f,g)};l.FaceColors=1;l.FaceNormalsHelper=vd;l.FileLoader=La;l.FlatShading=1;l.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new C(a,b)};l.Float32BufferAttribute=C;l.Float64Attribute=function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new Gc(a,b)};l.Float64BufferAttribute=Gc;l.FloatType=1015;l.Fog=Ed;l.FogExp2=
Dd;l.Font=Ae;l.FontLoader=Jf;l.FrontFaceDirectionCCW=1;l.FrontFaceDirectionCW=0;l.FrontSide=0;l.Frustum=Ad;l.GammaEncoding=3007;l.Geometry=Q;l.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");
return a.center()}};l.GreaterDepth=6;l.GreaterEqualDepth=5;l.GridHelper=ce;l.Group=Yb;l.HalfFloatType=1016;l.HemisphereLight=Qd;l.HemisphereLightHelper=wc;l.HemisphereLightProbe=Ce;l.IcosahedronBufferGeometry=ec;l.IcosahedronGeometry=Wc;l.ImageBitmapLoader=ye;l.ImageLoader=nd;l.ImageUtils=qb;l.ImmediateRenderObject=td;l.InstancedBufferAttribute=$d;l.InstancedBufferGeometry=Zd;l.InstancedInterleavedBuffer=Le;l.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");
return new Ec(a,b)};l.Int16BufferAttribute=Ec;l.Int32Attribute=function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new Fc(a,b)};l.Int32BufferAttribute=Fc;l.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new Bc(a,b)};l.Int8BufferAttribute=Bc;l.IntType=1013;l.InterleavedBuffer=Bb;l.InterleavedBufferAttribute=Mc;l.Interpolant=Da;l.InterpolateDiscrete=
2300;l.InterpolateLinear=2301;l.InterpolateSmooth=2302;l.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")};l.KeyframeTrack=Z;l.LOD=Oc;l.LatheBufferGeometry=kc;l.LatheGeometry=hd;l.Layers=je;l.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")};l.LessDepth=2;l.LessEqualDepth=3;l.Light=aa;l.LightProbe=Ra;l.LightProbeHelper=xc;l.LightShadow=Qb;l.Line=T;l.Line3=Oe;l.LineBasicMaterial=V;l.LineCurve=Ba;l.LineCurve3=Na;l.LineDashedMaterial=
Pb;l.LineLoop=Hd;l.LinePieces=1;l.LineSegments=S;l.LineStrip=0;l.LinearEncoding=3E3;l.LinearFilter=1006;l.LinearInterpolant=ld;l.LinearMipMapLinearFilter=1008;l.LinearMipMapNearestFilter=1007;l.LinearToneMapping=1;l.Loader=rd;l.LoaderUtils=Ve;l.LoadingManager=se;l.LogLuvEncoding=3003;l.LoopOnce=2200;l.LoopPingPong=2202;l.LoopRepeat=2201;l.LuminanceAlphaFormat=1025;l.LuminanceFormat=1024;l.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};l.Material=L;l.MaterialLoader=Yd;l.Math=P;l.Matrix3=ia;l.Matrix4=O;l.MaxEquation=
104;l.Mesh=ha;l.MeshBasicMaterial=ka;l.MeshDepthMaterial=kb;l.MeshDistanceMaterial=lb;l.MeshFaceMaterial=function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a};l.MeshLambertMaterial=Nb;l.MeshMatcapMaterial=Ob;l.MeshNormalMaterial=Mb;l.MeshPhongMaterial=Ka;l.MeshPhysicalMaterial=Kb;l.MeshStandardMaterial=Za;l.MeshToonMaterial=Lb;l.MinEquation=103;l.MirroredRepeatWrapping=1002;l.MixOperation=1;l.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");
a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};l.MultiplyBlending=4;l.MultiplyOperation=0;l.NearestFilter=1003;l.NearestMipMapLinearFilter=1005;l.NearestMipMapNearestFilter=1004;l.NeverDepth=0;l.NoBlending=0;l.NoColors=0;l.NoToneMapping=0;l.NormalBlending=1;l.NotEqualDepth=7;l.NumberKeyframeTrack=oc;l.Object3D=H;l.ObjectLoader=xe;l.ObjectSpaceNormalMap=1;l.OctahedronBufferGeometry=Cb;l.OctahedronGeometry=Vc;l.OneFactor=201;l.OneMinusDstAlphaFactor=207;l.OneMinusDstColorFactor=
209;l.OneMinusSrcAlphaFactor=205;l.OneMinusSrcColorFactor=203;l.OrthographicCamera=qd;l.PCFShadowMap=1;l.PCFSoftShadowMap=2;l.ParametricBufferGeometry=cc;l.ParametricGeometry=Sc;l.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Nc(a)};l.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Ja(a)};l.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");
return new $b(a,b)};l.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Ja(a)};l.Path=Qa;l.PerspectiveCamera=ja;l.Plane=Va;l.PlaneBufferGeometry=zb;l.PlaneGeometry=Ic;l.PlaneHelper=yd;l.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new $b(a,b)};l.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Ja(a)};
l.PointLight=Td;l.PointLightHelper=uc;l.Points=$b;l.PointsMaterial=Ja;l.PolarGridHelper=de;l.PolyhedronBufferGeometry=oa;l.PolyhedronGeometry=Tc;l.PositionalAudio=He;l.PositionalAudioHelper=yc;l.PropertyBinding=va;l.PropertyMixer=Je;l.QuadraticBezierCurve=Oa;l.QuadraticBezierCurve3=ab;l.Quaternion=ea;l.QuaternionKeyframeTrack=md;l.QuaternionLinearInterpolant=Nd;l.REVISION="105";l.RGBADepthPacking=3201;l.RGBAFormat=1023;l.RGBA_ASTC_10x10_Format=37819;l.RGBA_ASTC_10x5_Format=37816;l.RGBA_ASTC_10x6_Format=
37817;l.RGBA_ASTC_10x8_Format=37818;l.RGBA_ASTC_12x10_Format=37820;l.RGBA_ASTC_12x12_Format=37821;l.RGBA_ASTC_4x4_Format=37808;l.RGBA_ASTC_5x4_Format=37809;l.RGBA_ASTC_5x5_Format=37810;l.RGBA_ASTC_6x5_Format=37811;l.RGBA_ASTC_6x6_Format=37812;l.RGBA_ASTC_8x5_Format=37813;l.RGBA_ASTC_8x6_Format=37814;l.RGBA_ASTC_8x8_Format=37815;l.RGBA_PVRTC_2BPPV1_Format=35843;l.RGBA_PVRTC_4BPPV1_Format=35842;l.RGBA_S3TC_DXT1_Format=33777;l.RGBA_S3TC_DXT3_Format=33778;l.RGBA_S3TC_DXT5_Format=33779;l.RGBDEncoding=
3006;l.RGBEEncoding=3002;l.RGBEFormat=1023;l.RGBFormat=1022;l.RGBM16Encoding=3005;l.RGBM7Encoding=3004;l.RGB_ETC1_Format=36196;l.RGB_PVRTC_2BPPV1_Format=35841;l.RGB_PVRTC_4BPPV1_Format=35840;l.RGB_S3TC_DXT1_Format=33776;l.RawShaderMaterial=nc;l.Ray=Ab;l.Raycaster=Of;l.RectAreaLight=Xd;l.RectAreaLightHelper=vc;l.RedFormat=1028;l.ReinhardToneMapping=2;l.RepeatWrapping=1E3;l.ReverseSubtractEquation=102;l.RingBufferGeometry=jc;l.RingGeometry=gd;l.Scene=Fd;l.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},
detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};l.ShaderChunk=U;l.ShaderLib=Wa;l.ShaderMaterial=sa;l.ShadowMaterial=Jb;l.Shape=pb;l.ShapeBufferGeometry=Hb;l.ShapeGeometry=Gb;l.ShapePath=ze;l.ShapeUtils=db;l.ShortType=1011;l.Skeleton=Gd;l.SkeletonHelper=tc;l.SkinnedMesh=Pc;l.SmoothShading=2;l.Sphere=Ua;l.SphereBufferGeometry=ob;l.SphereGeometry=
fd;l.Spherical=Qf;l.SphericalHarmonics3=ae;l.SphericalReflectionMapping=305;l.Spline=Qe;l.SplineCurve=Pa;l.SplineCurve3=Uf;l.SpotLight=Sd;l.SpotLightHelper=sc;l.SpotLightShadow=Rd;l.Sprite=Nc;l.SpriteMaterial=nb;l.SrcAlphaFactor=204;l.SrcAlphaSaturateFactor=210;l.SrcColorFactor=202;l.StereoCamera=Kf;l.StringKeyframeTrack=Od;l.SubtractEquation=101;l.SubtractiveBlending=3;l.TangentSpaceNormalMap=0;l.TetrahedronBufferGeometry=dc;l.TetrahedronGeometry=Uc;l.TextBufferGeometry=ic;l.TextGeometry=ed;l.Texture=
X;l.TextureLoader=Pd;l.TorusBufferGeometry=hc;l.TorusGeometry=$c;l.TorusKnotBufferGeometry=gc;l.TorusKnotGeometry=Zc;l.Triangle=ta;l.TriangleFanDrawMode=2;l.TriangleStripDrawMode=1;l.TrianglesDrawMode=0;l.TubeBufferGeometry=Db;l.TubeGeometry=Yc;l.UVMapping=300;l.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new ub(a,b)};l.Uint16BufferAttribute=ub;l.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");
return new vb(a,b)};l.Uint32BufferAttribute=vb;l.Uint8Attribute=function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new Cc(a,b)};l.Uint8BufferAttribute=Cc;l.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new Dc(a,b)};l.Uint8ClampedBufferAttribute=Dc;l.Uncharted2ToneMapping=3;l.Uniform=be;l.UniformsLib=J;l.UniformsUtils=
sh;l.UnsignedByteType=1009;l.UnsignedInt248Type=1020;l.UnsignedIntType=1014;l.UnsignedShort4444Type=1017;l.UnsignedShort5551Type=1018;l.UnsignedShort565Type=1019;l.UnsignedShortType=1012;l.Vector2=D;l.Vector3=n;l.Vector4=ba;l.VectorKeyframeTrack=pc;l.Vertex=function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new n(a,b,c)};l.VertexColors=2;l.VertexNormalsHelper=ud;l.VideoTexture=pe;l.WebGLMultisampleRenderTarget=he;l.WebGLRenderTarget=Ta;l.WebGLRenderTargetCube=
rb;l.WebGLRenderer=ne;l.WebGLUtils=sf;l.WireframeGeometry=bc;l.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new S(new bc(a.geometry),new V({color:void 0!==b?b:16777215}))};l.WrapAroundEnding=2402;l.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new La(a)};l.ZeroCurvatureEnding=2400;l.ZeroFactor=200;l.ZeroSlopeEnding=2401;l.sRGBEncoding=3001;Object.defineProperty(l,
"__esModule",{value:!0})});
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=e()}}(function(){return function r(o,s,f){function l(t,e){if(!s[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};o[t][0].call(a.exports,function(e){return l(o[t][1][e]||e)},a,a.exports,r,o,s,f)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<f.length;e++)l(f[e]);return l}({1:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t,i,n=Array.prototype.slice.call(arguments,1);n.length;){var a=n.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var r in a)t=a,i=r,Object.prototype.hasOwnProperty.call(t,i)&&(e[r]=a[r])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),a);else for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){var t,i,n,a,r,o;for(t=n=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),t=a=0,i=e.length;t<i;t++)r=e[t],o.set(r,a),a+=r.length;return o}},r={arraySet:function(e,t,i,n,a){for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(n)},{}],2:[function(e,t,i){"use strict";var f=e("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var l=new f.Buf8(256),n=0;n<256;n++)l[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function d(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&a))return String.fromCharCode.apply(null,f.shrinkBuf(e,t));for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i}l[254]=l[254]=1,i.string2buf=function(e){var t,i,n,a,r,o=e.length,s=0;for(a=0;a<o;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new f.Buf8(s),a=r=0;r<s;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?t[r++]=i:(i<2048?t[r++]=192|i>>>6:(i<65536?t[r++]=224|i>>>12:(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63),t[r++]=128|i>>>6&63),t[r++]=128|63&i);return t},i.buf2binstring=function(e){return d(e,e.length)},i.binstring2buf=function(e){for(var t=new f.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,a,r,o=t||e.length,s=new Array(2*o);for(i=n=0;i<o;)if((a=e[i++])<128)s[n++]=a;else if(4<(r=l[a]))s[n++]=65533,i+=r-1;else{for(a&=2===r?31:3===r?15:7;1<r&&i<o;)a=a<<6|63&e[i++],r--;1<r?s[n++]=65533:a<65536?s[n++]=a:(a-=65536,s[n++]=55296|a>>10&1023,s[n++]=56320|1023&a)}return d(s,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+l[e[i]]>t?i:t}},{"./common":1}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;r=r+(a=a+t[n++]|0)|0,--o;);a%=65521,r%=65521}return a|r<<16|0}},{}],4:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,i){"use strict";var s=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var a=s,r=n+i;e^=-1;for(var o=n;o<r;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,i){"use strict";t.exports=function(e,t){var i,n,a,r,o,s,f,l,d,c,u,h,b,m,w,k,_,g,v,p,x,y,S,E,Z;i=e.state,n=e.next_in,E=e.input,a=n+(e.avail_in-5),r=e.next_out,Z=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),f=i.dmax,l=i.wsize,d=i.whave,c=i.wnext,u=i.window,h=i.hold,b=i.bits,m=i.lencode,w=i.distcode,k=(1<<i.lenbits)-1,_=(1<<i.distbits)-1;e:do{b<15&&(h+=E[n++]<<b,b+=8,h+=E[n++]<<b,b+=8),g=m[h&k];t:for(;;){if(h>>>=v=g>>>24,b-=v,0===(v=g>>>16&255))Z[r++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=m[(65535&g)+(h&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}p=65535&g,(v&=15)&&(b<v&&(h+=E[n++]<<b,b+=8),p+=h&(1<<v)-1,h>>>=v,b-=v),b<15&&(h+=E[n++]<<b,b+=8,h+=E[n++]<<b,b+=8),g=w[h&_];i:for(;;){if(h>>>=v=g>>>24,b-=v,!(16&(v=g>>>16&255))){if(0==(64&v)){g=w[(65535&g)+(h&(1<<v)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(x=65535&g,b<(v&=15)&&(h+=E[n++]<<b,(b+=8)<v&&(h+=E[n++]<<b,b+=8)),f<(x+=h&(1<<v)-1)){e.msg="invalid distance too far back",i.mode=30;break e}if(h>>>=v,b-=v,(v=r-o)<x){if(d<(v=x-v)&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(S=u,(y=0)===c){if(y+=l-v,v<p){for(p-=v;Z[r++]=u[y++],--v;);y=r-x,S=Z}}else if(c<v){if(y+=l+c-v,(v-=c)<p){for(p-=v;Z[r++]=u[y++],--v;);if(y=0,c<p){for(p-=v=c;Z[r++]=u[y++],--v;);y=r-x,S=Z}}}else if(y+=c-v,v<p){for(p-=v;Z[r++]=u[y++],--v;);y=r-x,S=Z}for(;2<p;)Z[r++]=S[y++],Z[r++]=S[y++],Z[r++]=S[y++],p-=3;p&&(Z[r++]=S[y++],1<p&&(Z[r++]=S[y++]))}else{for(y=r-x;Z[r++]=Z[y++],Z[r++]=Z[y++],Z[r++]=Z[y++],2<(p-=3););p&&(Z[r++]=Z[y++],1<p&&(Z[r++]=Z[y++]))}break}}break}}while(n<a&&r<s);n-=p=b>>3,h&=(1<<(b-=p<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=r<s?s-r+257:257-(r-s),i.hold=h,i.bits=b}},{}],8:[function(e,t,i){"use strict";var z=e("../utils/common"),R=e("./adler32"),N=e("./crc32"),O=e("./inffast"),C=e("./inftrees"),I=1,D=2,T=0,U=-2,F=1,n=852,a=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new z.Buf16(320),this.work=new z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new z.Buf32(n),t.distcode=t.distdyn=new z.Buf32(a),t.sane=1,t.back=-1,T):U}function s(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):U}function f(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,s(e))):U}function l(e,t){var i,n;return e?(n=new r,(e.state=n).window=null,(i=f(e,t))!==T&&(e.state=null),i):U}var d,c,u=!0;function H(e){if(u){var t;for(d=new z.Buf32(512),c=new z.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(C(I,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;C(D,e.lens,0,32,c,0,e.work,{bits:5}),u=!1}e.lencode=d,e.lenbits=9,e.distcode=c,e.distbits=5}function j(e,t,i,n){var a,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new z.Buf8(r.wsize)),n>=r.wsize?(z.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(n<(a=r.wsize-r.wnext)&&(a=n),z.arraySet(r.window,t,i-n,a,r.wnext),(n-=a)?(z.arraySet(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0}i.inflateReset=s,i.inflateReset2=f,i.inflateResetKeep=o,i.inflateInit=function(e){return l(e,15)},i.inflateInit2=l,i.inflate=function(e,t){var i,n,a,r,o,s,f,l,d,c,u,h,b,m,w,k,_,g,v,p,x,y,S,E,Z=0,B=new z.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(i=e.state).mode&&(i.mode=13),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,d=i.bits,c=s,u=f,y=T;e:for(;;)switch(i.mode){case F:if(0===i.wrap){i.mode=13;break}for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(2&i.wrap&&35615===l){B[i.check=0]=255&l,B[1]=l>>>8&255,i.check=N(i.check,B,2,0),d=l=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&l)){e.msg="unknown compression method",i.mode=30;break}if(d-=4,x=8+(15&(l>>>=4)),0===i.wbits)i.wbits=x;else if(x>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<x,e.adler=i.check=1,i.mode=512&l?10:12,d=l=0;break;case 2:for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(i.flags=l,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,i.check=N(i.check,B,2,0)),d=l=0,i.mode=3;case 3:for(;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.head&&(i.head.time=l),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,B[2]=l>>>16&255,B[3]=l>>>24&255,i.check=N(i.check,B,4,0)),d=l=0,i.mode=4;case 4:for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,i.check=N(i.check,B,2,0)),d=l=0,i.mode=5;case 5:if(1024&i.flags){for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,i.check=N(i.check,B,2,0)),d=l=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(s<(h=i.length)&&(h=s),h&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),z.arraySet(i.head.extra,n,r,h,x)),512&i.flags&&(i.check=N(i.check,n,h,r)),s-=h,r+=h,i.length-=h),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===s)break e;for(h=0;x=n[r+h++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x)),x&&h<s;);if(512&i.flags&&(i.check=N(i.check,n,h,r)),s-=h,r+=h,x)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===s)break e;for(h=0;x=n[r+h++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x)),x&&h<s;);if(512&i.flags&&(i.check=N(i.check,n,h,r)),s-=h,r+=h,x)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(l!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}d=l=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}e.adler=i.check=L(l),d=l=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=d,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){l>>>=7&d,d-=7&d,i.mode=27;break}for(;d<3;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}switch(i.last=1&l,d-=1,3&(l>>>=1)){case 0:i.mode=14;break;case 1:if(H(i),i.mode=20,6!==t)break;l>>>=2,d-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}l>>>=2,d-=2;break;case 14:for(l>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&l,d=l=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(h=i.length){if(s<h&&(h=s),f<h&&(h=f),0===h)break e;z.arraySet(a,n,r,h,o),s-=h,r+=h,f-=h,o+=h,i.length-=h;break}i.mode=12;break;case 17:for(;d<14;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(i.nlen=257+(31&l),l>>>=5,d-=5,i.ndist=1+(31&l),l>>>=5,d-=5,i.ncode=4+(15&l),l>>>=4,d-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;d<3;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.lens[A[i.have++]]=7&l,l>>>=3,d-=3}for(;i.have<19;)i.lens[A[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,S={bits:i.lenbits},y=C(0,i.lens,0,19,i.lencode,0,i.work,S),i.lenbits=S.bits,y){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;k=(Z=i.lencode[l&(1<<i.lenbits)-1])>>>16&255,_=65535&Z,!((w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(_<16)l>>>=w,d-=w,i.lens[i.have++]=_;else{if(16===_){for(E=w+2;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(l>>>=w,d-=w,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}x=i.lens[i.have-1],h=3+(3&l),l>>>=2,d-=2}else if(17===_){for(E=w+3;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}d-=w,x=0,h=3+(7&(l>>>=w)),l>>>=3,d-=3}else{for(E=w+7;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}d-=w,x=0,h=11+(127&(l>>>=w)),l>>>=7,d-=7}if(i.have+h>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;h--;)i.lens[i.have++]=x}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,S={bits:i.lenbits},y=C(I,i.lens,0,i.nlen,i.lencode,0,i.work,S),i.lenbits=S.bits,y){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,S={bits:i.distbits},y=C(D,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,S),i.distbits=S.bits,y){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=s&&258<=f){e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=d,O(e,u),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,d=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;k=(Z=i.lencode[l&(1<<i.lenbits)-1])>>>16&255,_=65535&Z,!((w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(k&&0==(240&k)){for(g=w,v=k,p=_;k=(Z=i.lencode[p+((l&(1<<g+v)-1)>>g)])>>>16&255,_=65535&Z,!(g+(w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}l>>>=g,d-=g,i.back+=g}if(l>>>=w,d-=w,i.back+=w,i.length=_,0===k){i.mode=26;break}if(32&k){i.back=-1,i.mode=12;break}if(64&k){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&k,i.mode=22;case 22:if(i.extra){for(E=i.extra;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;k=(Z=i.distcode[l&(1<<i.distbits)-1])>>>16&255,_=65535&Z,!((w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(0==(240&k)){for(g=w,v=k,p=_;k=(Z=i.distcode[p+((l&(1<<g+v)-1)>>g)])>>>16&255,_=65535&Z,!(g+(w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}l>>>=g,d-=g,i.back+=g}if(l>>>=w,d-=w,i.back+=w,64&k){e.msg="invalid distance code",i.mode=30;break}i.offset=_,i.extra=15&k,i.mode=24;case 24:if(i.extra){for(E=i.extra;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===f)break e;if(h=u-f,i.offset>h){if((h=i.offset-h)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}h>i.wnext?(h-=i.wnext,b=i.wsize-h):b=i.wnext-h,h>i.length&&(h=i.length),m=i.window}else m=a,b=o-i.offset,h=i.length;for(f<h&&(h=f),f-=h,i.length-=h;a[o++]=m[b++],--h;);0===i.length&&(i.mode=21);break;case 26:if(0===f)break e;a[o++]=i.length,f--,i.mode=21;break;case 27:if(i.wrap){for(;d<32;){if(0===s)break e;s--,l|=n[r++]<<d,d+=8}if(u-=f,e.total_out+=u,i.total+=u,u&&(e.adler=i.check=i.flags?N(i.check,a,u,o-u):R(i.check,a,u,o-u)),u=f,(i.flags?l:L(l))!==i.check){e.msg="incorrect data check",i.mode=30;break}d=l=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(l!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}d=l=0}i.mode=29;case 29:y=1;break e;case 30:y=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=d,(i.wsize||u!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&j(e,e.output,e.next_out,u-e.avail_out)?(i.mode=31,-4):(c-=e.avail_in,u-=e.avail_out,e.total_in+=c,e.total_out+=u,i.total+=u,i.wrap&&u&&(e.adler=i.check=i.flags?N(i.check,a,u,e.next_out-u):R(i.check,a,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===c&&0===u||4===t)&&y===T&&(y=-5),y)},i.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,T},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?U:((i.head=t).done=!1,T):U},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?U:11===i.mode&&R(1,t,n,0)!==i.check?-3:j(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,T):U},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,i){"use strict";var I=e("../utils/common"),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],T=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,n,a,r,o,s){var f,l,d,c,u,h,b,m,w,k=s.bits,_=0,g=0,v=0,p=0,x=0,y=0,S=0,E=0,Z=0,B=0,A=null,z=0,R=new I.Buf16(16),N=new I.Buf16(16),O=null,C=0;for(_=0;_<=15;_++)R[_]=0;for(g=0;g<n;g++)R[t[i+g]]++;for(x=k,p=15;1<=p&&0===R[p];p--);if(p<x&&(x=p),0===p)return a[r++]=20971520,a[r++]=20971520,s.bits=1,0;for(v=1;v<p&&0===R[v];v++);for(x<v&&(x=v),_=E=1;_<=15;_++)if(E<<=1,(E-=R[_])<0)return-1;if(0<E&&(0===e||1!==p))return-1;for(N[1]=0,_=1;_<15;_++)N[_+1]=N[_]+R[_];for(g=0;g<n;g++)0!==t[i+g]&&(o[N[t[i+g]]++]=g);if(0===e?(A=O=o,h=19):1===e?(A=D,z-=257,O=T,C-=257,h=256):(A=U,O=F,h=-1),_=v,u=r,S=g=B=0,d=-1,c=(Z=1<<(y=x))-1,1===e&&852<Z||2===e&&592<Z)return 1;for(;;){for(b=_-S,o[g]<h?(m=0,w=o[g]):o[g]>h?(m=O[C+o[g]],w=A[z+o[g]]):(m=96,w=0),f=1<<_-S,v=l=1<<y;a[u+(B>>S)+(l-=f)]=b<<24|m<<16|w|0,0!==l;);for(f=1<<_-1;B&f;)f>>=1;if(0!==f?(B&=f-1,B+=f):B=0,g++,0==--R[_]){if(_===p)break;_=t[i+o[g]]}if(x<_&&(B&c)!==d){for(0===S&&(S=x),u+=v,E=1<<(y=_-S);y+S<p&&!((E-=R[y+S])<=0);)y++,E<<=1;if(Z+=1<<y,1===e&&852<Z||2===e&&592<Z)return 1;a[d=B&c]=x<<24|y<<16|u-r|0}}return 0!==B&&(a[u+B]=_-S<<24|64<<16|0),s.bits=x,0}},{"../utils/common":1}],10:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,i){"use strict";var c=e("./zlib/inflate"),u=e("./utils/common"),h=e("./utils/strings"),b=e("./zlib/constants"),n=e("./zlib/messages"),a=e("./zlib/zstream"),r=e("./zlib/gzheader"),m=Object.prototype.toString;function o(e){if(!(this instanceof o))return new o(e);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var i=c.inflateInit2(this.strm,t.windowBits);if(i!==b.Z_OK)throw new Error(n[i]);if(this.header=new r,c.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=h.string2buf(t.dictionary):"[object ArrayBuffer]"===m.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=c.inflateSetDictionary(this.strm,t.dictionary))!==b.Z_OK))throw new Error(n[i])}function s(e,t){var i=new o(t);if(i.push(e,!0),i.err)throw i.msg||n[i.err];return i.result}o.prototype.push=function(e,t){var i,n,a,r,o,s=this.strm,f=this.options.chunkSize,l=this.options.dictionary,d=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?b.Z_FINISH:b.Z_NO_FLUSH,"string"==typeof e?s.input=h.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new u.Buf8(f),s.next_out=0,s.avail_out=f),(i=c.inflate(s,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&l&&(i=c.inflateSetDictionary(this.strm,l)),i===b.Z_BUF_ERROR&&!0===d&&(i=b.Z_OK,d=!1),i!==b.Z_STREAM_END&&i!==b.Z_OK)return this.onEnd(i),!(this.ended=!0);s.next_out&&(0!==s.avail_out&&i!==b.Z_STREAM_END&&(0!==s.avail_in||n!==b.Z_FINISH&&n!==b.Z_SYNC_FLUSH)||("string"===this.options.to?(a=h.utf8border(s.output,s.next_out),r=s.next_out-a,o=h.buf2string(s.output,a),s.next_out=r,s.avail_out=f-r,r&&u.arraySet(s.output,s.output,a,r,0),this.onData(o)):this.onData(u.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(d=!0)}while((0<s.avail_in||0===s.avail_out)&&i!==b.Z_STREAM_END);return i===b.Z_STREAM_END&&(n=b.Z_FINISH),n===b.Z_FINISH?(i=c.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===b.Z_OK):n!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(s.avail_out=0))},o.prototype.onData=function(e){this.chunks.push(e)},o.prototype.onEnd=function(e){e===b.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=o,i.inflate=s,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},i.ungzip=s},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
// ****************************************************************************
//
// Copyright (C) 2008-2014, Roman Lygin. All rights reserved.
// Copyright (C) 2014-2019, CADEX. All rights reserved.
//
// This file is part of the CAD Exchanger software.
//
// This file may be used under the terms and conditions of the License
// Agreement supplied with the software.
//
// This file is provided "AS IS" WITH NO WARRANTY OF ANY KIND, EITHER EXPRESSED
// OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE WARRANTY OF DESIGN,
// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
//
// ****************************************************************************
(function(g,f){"object"===typeof exports&&"undefined"!==typeof module?f(exports,require("pako"),require("three")):"function"===typeof define&&define.amd?define(["exports","pako","three"],f):(g=g||self,f(g.cadex=g.cadex||{},pako,THREE));}(this,function(cadex,pako,THREE){
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:aa(a)};for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ca="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},da;
if("function"==typeof Object.setPrototypeOf)da=Object.setPrototypeOf;else{var ea;a:{var fa={a:!0},ia={};try{ia.__proto__=fa;ea=ia.a;break a}catch(a){}ea=!1}da=ea?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ja=da;
function q(a,b){a.prototype=ca(b.prototype);a.prototype.constructor=a;if(ja)ja(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}var y="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function B(a){this.fa=a?a:void 0}
y.Object.defineProperties(B.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.fa?this.fa:null},set:function(a){this.fa=a?a:void 0}}});function ka(){B.apply(this,arguments)}q(ka,B);ka.prototype.accept=function(){return Promise.reject(Error("cadex.ModelData_Representation#accept() should be re-implemented by inheritors."))};ka.prototype.accept=ka.prototype.accept;function la(){}la.prototype.Ae=function(){return Promise.resolve()};la.prototype.Ge=function(){return Promise.resolve()};
la.prototype.visitPolyRepresentation=la.prototype.Ge;la.prototype.visitBRepRepresentation=la.prototype.Ae;var ma={Undefined:0,Acorn:1,Wireframe:2,Sheet:3,Solid:4};function D(a,b,c,d){a=void 0===a?0:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?1:d;B.call(this);this.aa=[a,b,c,d]}q(D,B);g=D.prototype;g.value=function(a){return this.aa[a]};g.ob=function(a,b){this.aa[a]=Math.max(Math.min(b,1),0)};
g.set=function(a,b,c,d){this.r=void 0===a?0:a;this.g=void 0===b?0:b;this.b=void 0===c?0:c;this.a=void 0===d?1:d};g.setHex=function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255};function na(a){a=Math.floor(a);return new D((a>>16&255)/255,(a>>8&255)/255,(a&255)/255)}g.clone=function(){return(new D).copy(this)};g.copy=function(a){this.fa=a.fa;this.aa=a.aa.slice();return this};
g.toString=function(){return"("+(255*this.r).toFixed(0)+", "+(255*this.g).toFixed(0)+", "+(255*this.b).toFixed(0)+", "+this.a.toFixed(2)+")"};
y.Object.defineProperties(D.prototype,{r:{configurable:!0,enumerable:!0,get:function(){return this.aa[0]},set:function(a){this.ob(0,a)}},g:{configurable:!0,enumerable:!0,get:function(){return this.aa[1]},set:function(a){this.ob(1,a)}},b:{configurable:!0,enumerable:!0,get:function(){return this.aa[2]},set:function(a){this.ob(2,a)}},a:{configurable:!0,enumerable:!0,get:function(){return this.aa[3]},set:function(a){this.ob(3,a)}}});D.prototype.toString=D.prototype.toString;D.prototype.copy=D.prototype.copy;
D.prototype.clone=D.prototype.clone;D.fromHex=na;D.prototype.setHex=D.prototype.setHex;D.prototype.set=D.prototype.set;D.prototype.setValue=D.prototype.ob;D.prototype.value=D.prototype.value;function oa(a,b,c,d,e){a=void 0===a?new D(.2,.2,.2,1):a;b=void 0===b?new D(.8,.8,.8,1):b;c=void 0===c?new D:c;d=void 0===d?new D:d;e=void 0===e?1:e;B.call(this);this.aa=a;this.da=b;this.ia=c;this.ea=d;this.ga=Math.max(Math.min(e,128),0)}q(oa,B);oa.prototype.clone=function(){return(new oa).copy(this)};
oa.prototype.copy=function(a){this.fa=a.fa;this.aa.copy(a.aa);this.da.copy(a.da);this.ia.copy(a.ia);this.ea.copy(a.ea);this.ga=a.ga;return this};
y.Object.defineProperties(oa.prototype,{ambientColor:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a}},diffuseColor:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){this.da=a}},specularColor:{configurable:!0,enumerable:!0,get:function(){return this.ia},set:function(a){this.ia=a}},emissiveColor:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){this.ea=a}},shininess:{configurable:!0,enumerable:!0,get:function(){return this.ga},
set:function(a){this.ga=Math.max(Math.min(a,128),0)}}});oa.prototype.copy=oa.prototype.copy;oa.prototype.clone=oa.prototype.clone;
var qa={ModelData_TT_Unknown:0,ModelData_TT_DiffuseMap:1,ModelData_TT_SpecularMap:2,ModelData_TT_EmissiveMap:3,ModelData_TT_BumpMap:4,ModelData_TT_NormalMap:5,ModelData_TT_DisplacementMap:6,ModelData_TT_SphereEnvironmentMap:7},ra={ModelData_TBM_Decal:0,ModelData_TBM_Modulate:1,ModelData_TBM_Replace:2},sa={ModelData_TMagF_Nearest:0,ModelData_TMagF_Linear:1},ta={ModelData_TMM_UVMapping:0,ModelData_TMM_SphereMapping:1},ua={ModelData_TMinF_Nearest:0,ModelData_TMinF_NearestMipMapNearest:1,ModelData_TMinF_NearestMipMapLinear:2,
ModelData_TMinF_Linear:3,ModelData_TMinF_LinearMipMapNearest:4,ModelData_TMinF_LinearMipMapLinear:5},va={ModelData_TWM_ClampToEdge:0,ModelData_TWM_Repeat:1,ModelData_TWM_MirroredRepeat:2};
function xa(){B.call(this);this.generateMipmaps=!0;this.magnificationFilter=sa.ModelData_TMagF_Linear;this.minificationFilter=ua.ModelData_TMinF_LinearMipMapLinear;this.wrapModeV=this.wrapModeU=va.ModelData_TWM_Repeat;this.blendMode=ra.ModelData_TBM_Decal;this.mappingMode=ta.ModelData_TMM_UVMapping;this.rotation=0;this.scaleV=this.scaleU=1;this.translationV=this.translationU=0}q(xa,B);function ya(){}ya.prototype.Ee=function(){return Promise.resolve()};ya.prototype.Fe=function(){return Promise.resolve()};
ya.prototype.visitPixMapTexture=ya.prototype.Fe;ya.prototype.visitFileTexture=ya.prototype.Ee;function za(a,b){a=void 0===a?qa.ModelData_TT_Unknown:a;b=void 0===b?new xa:b;B.call(this);this.type=void 0===a?qa.ModelData_TT_Unknown:a;this.parameters=b instanceof xa?b:new xa}q(za,B);za.prototype.accept=function(){return Promise.reject(Error("cadex.ModelData_Texture#accept() should be re-implemented by inheritors."))};za.prototype.accept=za.prototype.accept;
function Aa(a){this.da=a;this.aa=0;this.fa=[]}Aa.prototype.remove=function(){this.aa--;if(this.aa<this.da){var a=this.fa.shift();a&&Ba(this,a.Bd).then(a.resolve).catch(a.reject)}};function Ca(a,b){return new Promise(function(c,d){a.fa.push({Bd:b,resolve:c,reject:d})})}function Ba(a,b){a.aa++;return Promise.resolve(b()).then(function(c){a.remove();return c}).catch(function(c){a.remove();throw c;})}function Da(a,b){return a.aa>=a.da?Ca(a,b):Ba(a,b)}
Aa.prototype.map=function(a,b){var c=this;return Promise.all(a.map(function(d){return Da(c,function(){return b(d)})}))};function Ea(a,b){for(var c=Promise.resolve(),d={eb:0},e=a.length;d.eb<e;d={eb:d.eb},d.eb++)c=c.then(function(f){return function(){return b(a[f.eb])}}(d));return c}function Fa(a,b,c){return(new Aa(void 0===c?6:c)).map(a,b)}function Ga(){return new Promise(function(a){setTimeout(a,0)})}function Ha(){B.call(this);this.aa=[]}q(Ha,B);g=Ha.prototype;g.isEmpty=function(){return 0===this.aa.length};
g.add=function(a){if(!(a instanceof za)||-1!==this.aa.indexOf(a))return!1;for(var b=this.aa.length-1;0<=b&&!(this.aa[b].type<=a.type);b--);this.aa.splice(b,0,a);return!0};g.remove=function(a){if(!(a instanceof za))return!1;a=this.aa.indexOf(a);if(-1!==a)return!1;this.aa.splice(a,1);return!0};g.accept=function(a){return Ea(this.aa,function(b){return b.accept(a)})};
g.Ta=function(a){if(a instanceof Ha){for(var b=[],c=0,d=0;c<this.aa.length&&d<a.aa.length;){var e=this.aa[c],f=a.aa[d];e.type===f.type&&(c++,d++,b.push(f));e.type<f.type&&(b.push(e),c++);e.type>f.type&&(b.push(f),d++)}for(;c<this.aa.length;c++)b.push(this.aa[c]);for(;d<a.aa.length;d++)b.push(a.aa[d]);this.aa.length=0;this.aa.push.apply(this.aa,ba(b))}};y.Object.defineProperties(Ha.prototype,{textures:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});Ha.prototype.accept=Ha.prototype.accept;
function G(a){B.call(this);this.da=this.aa=void 0;this.set(a);this.ea=void 0}q(G,B);g=G.prototype;g.set=function(a){a&&a instanceof oa?this.aa=a:a&&a instanceof D&&(this.da=a)};g.add=function(a){a instanceof za&&(this.ea||(this.ea=new Ha),this.ea.add(a))};g.ve=function(a){return this.aa?(a.copy(this.aa.diffuseColor),!0):this.da?(a.copy(this.da),!0):!1};g.kd=function(a){return this.aa?(a.copy(this.aa),!0):this.da?(a.copy(new oa(void 0,this.da)),!0):!1};
g.Ta=function(a){a.da&&(this.da=a.da);a.aa&&(this.aa=a.aa);a.textureSet&&0<a.textureSet.aa.length&&(this.ea||(this.ea=new Ha),this.ea.Ta(a.textureSet));return this};g.clone=function(){return(new G).copy(this)};g.copy=function(a){this.fa=a.fa;this.da=a.da;this.aa=a.aa;return this};
y.Object.defineProperties(G.prototype,{genericColor:{configurable:!0,enumerable:!0,get:function(){return this.da?this.da:null},set:function(a){this.da=a instanceof D?a:null}},material:{configurable:!0,enumerable:!0,get:function(){return this.aa?this.aa:null},set:function(a){this.aa=a instanceof oa?a:null}},textureSet:{configurable:!0,enumerable:!0,get:function(){return this.ea?this.ea:null},set:function(a){this.ea=a instanceof Ha?a:null}}});G.prototype.copy=G.prototype.copy;G.prototype.clone=G.prototype.clone;
G.prototype.combineWith=G.prototype.Ta;G.prototype.toMaterial=G.prototype.kd;G.prototype.toColor=G.prototype.ve;G.prototype.add=G.prototype.add;G.prototype.set=G.prototype.set;function Ia(a){this.aa=a?a.slice():[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}g=Ia.prototype;g.data=function(a,b){return this.aa[4*a+b]};
g.multiply=function(a){var b=this.elements,c=a.elements;a=b[0];var d=b[4],e=b[8],f=b[12],h=b[1],k=b[5],l=b[9],n=b[13],m=b[2],p=b[6],r=b[10],t=b[14],v=b[3],C=b[7],z=b[11],w=b[15],x=c[0],A=c[4],u=c[8],F=c[12],E=c[1],V=c[5],W=c[9],K=c[13],ha=c[2],ub=c[6],vb=c[10],pa=c[14],Cc=c[3],wa=c[7],id=c[11];c=c[15];b[0]=a*x+d*E+e*ha+f*Cc;b[4]=a*A+d*V+e*ub+f*wa;b[8]=a*u+d*W+e*vb+f*id;b[12]=a*F+d*K+e*pa+f*c;b[1]=h*x+k*E+l*ha+n*Cc;b[5]=h*A+k*V+l*ub+n*wa;b[9]=h*u+k*W+l*vb+n*id;b[13]=h*F+k*K+l*pa+n*c;b[2]=m*x+p*E+r*
ha+t*Cc;b[6]=m*A+p*V+r*ub+t*wa;b[10]=m*u+p*W+r*vb+t*id;b[14]=m*F+p*K+r*pa+t*c;b[3]=v*x+C*E+z*ha+w*Cc;b[7]=v*A+C*V+z*ub+w*wa;b[11]=v*u+C*W+z*vb+w*id;b[15]=v*F+C*K+z*pa+w*c;return this};g.clone=function(){return new Ia(this.elements)};g.copy=function(a){var b=this.aa;a=a.aa;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this};
g.toString=function(){return"("+this.aa[0].toFixed(2)+", "+this.aa[1].toFixed(2)+", "+this.aa[2].toFixed(2)+", "+this.aa[3].toFixed(2)+"\n"+(this.aa[4].toFixed(2)+", "+this.aa[5].toFixed(2)+", "+this.aa[6].toFixed(2)+", "+this.aa[7].toFixed(2)+"\n")+(this.aa[8].toFixed(2)+", "+this.aa[9].toFixed(2)+", "+this.aa[10].toFixed(2)+", "+this.aa[11].toFixed(2)+"\n")+(this.aa[12].toFixed(2)+", "+this.aa[13].toFixed(2)+", "+this.aa[14].toFixed(2)+", "+this.aa[15].toFixed(2)+")")};
y.Object.defineProperties(Ia.prototype,{elements:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});Ia.prototype.toString=Ia.prototype.toString;Ia.prototype.copy=Ia.prototype.copy;Ia.prototype.clone=Ia.prototype.clone;Ia.prototype.multiply=Ia.prototype.multiply;Ia.prototype.data=Ia.prototype.data;function Ja(a,b,c){this.aa=[void 0===a?1:a,void 0===b?0:b,void 0===c?0:c]}g=Ja.prototype;g.xa=function(a,b,c){this.aa[0]=a;this.aa[1]=b;this.aa[2]=c;return this};
g.min=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this};g.max=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this};function Ka(a){var b=Math.sqrt(a.aa[0]*a.aa[0]+a.aa[1]*a.aa[1]+a.aa[2]*a.aa[2]);a.aa[0]/=b;a.aa[1]/=b;a.aa[2]/=b}g.add=function(a){this.aa[0]+=a.x;this.aa[1]+=a.y;this.aa[2]+=a.z;return this};function La(a,b,c){a.aa[0]+=b.x*c;a.aa[1]+=b.y*c;a.aa[2]+=b.z*c}
g.sub=function(a){this.aa[0]-=a.x;this.aa[1]-=a.y;this.aa[2]-=a.z;return this};function Ma(a,b,c){var d=a.y*(b.x*c.y-b.y*c.x)-a.z*(b.z*c.x-b.x*c.z),e=a.z*(b.y*c.z-b.z*c.y)-a.x*(b.x*c.y-b.y*c.x);a.z=a.x*(b.z*c.x-b.x*c.z)-a.y*(b.y*c.z-b.z*c.y);a.x=d;a.y=e}g.cross=function(a){var b=this.y*a.z-this.z*a.y,c=this.z*a.x-this.x*a.z;this.z=this.x*a.y-this.y*a.x;this.x=b;this.y=c;return this};
g.transform=function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this};g.clone=function(){return(new Ja).copy(this)};g.copy=function(a){this.aa[0]=a.x;this.aa[1]=a.y;this.aa[2]=a.z;return this};
y.Object.defineProperties(Ja.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this.aa[0]},set:function(a){this.aa[0]=a}},y:{configurable:!0,enumerable:!0,get:function(){return this.aa[1]},set:function(a){this.aa[1]=a}},z:{configurable:!0,enumerable:!0,get:function(){return this.aa[2]},set:function(a){this.aa[2]=a}}});function H(a,b,c){this.aa=new Ja(void 0===a?0:a,void 0===b?0:b,void 0===c?0:c)}g=H.prototype;g.xa=function(a,b,c){this.aa.xa(a,b,c);return this};
g.add=function(a){a&&this.aa.add(a);return this};g.sub=function(a){a&&this.aa.sub(a);return this};g.transform=function(a){this.aa.transform(a);return this};g.ec=function(a){var b=this.clone();b.transform(a);return b};g.clone=function(){return(new H).copy(this)};g.copy=function(a){this.aa.copy(a);return this};g.fromArray=function(a,b){void 0===b&&(b=0);this.aa.x=a[b];this.aa.y=a[b+1];this.aa.z=a[b+2];return this};
g.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.z.toFixed(2)+")"};y.Object.defineProperties(H.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this.aa.x},set:function(a){this.aa.x=a}},y:{configurable:!0,enumerable:!0,get:function(){return this.aa.y},set:function(a){this.aa.y=a}},z:{configurable:!0,enumerable:!0,get:function(){return this.aa.z},set:function(a){this.aa.z=a}}});H.prototype.toString=H.prototype.toString;H.prototype.fromArray=H.prototype.fromArray;
H.prototype.copy=H.prototype.copy;H.prototype.clone=H.prototype.clone;H.prototype.transformed=H.prototype.ec;H.prototype.transform=H.prototype.transform;H.prototype.sub=H.prototype.sub;H.prototype.add=H.prototype.add;function Na(){B.apply(this,arguments)}q(Na,B);function Oa(){Na.call(this);this.da=this.aa=this.pa=void 0}q(Oa,Na);g=Oa.prototype;g.yd=function(a){if(this.aa)return new H(this.aa[3*a],this.aa[3*a+1],this.aa[3*a+2])};
g.color=function(a){if(this.da)return new D(this.da[4*a],this.da[4*a+1],this.da[4*a+2],this.da[4*a+3])};g.Xd=function(){return this.aa?this.aa.length/3:0};g.Kd=function(){return this.da?this.da.length/4:0};g.Dd=function(){return!!this.da};
y.Object.defineProperties(Oa.prototype,{appearance:{configurable:!0,enumerable:!0,get:function(){return this.pa},set:function(a){this.pa=a instanceof G?a:void 0}},coords:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a}},colors:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){this.da=a}}});Oa.prototype.hasColors=Oa.prototype.Dd;Oa.prototype.numberOfColors=Oa.prototype.Kd;Oa.prototype.numberOfVertices=Oa.prototype.Xd;
Oa.prototype.color=Oa.prototype.color;Oa.prototype.coordinate=Oa.prototype.yd;function Pa(a,b){this.aa=a;this.da=b}function Qa(a,b){this.aa=[];(a||b)&&this.aa.push(new Pa(a,b))}Qa.prototype.data=function(){return this.aa.reduce(function(a,b){b.aa&&a.push(b.aa);return a},[])};Qa.prototype.append=function(a,b){(a||b)&&this.aa.push(new Pa(a,b))};Qa.prototype.data=Qa.prototype.data;function Ra(a){this.da=a}Ra.prototype.isEqual=function(a){return this===a};
y.Object.defineProperties(Ra.prototype,{prs:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){this.da=a}}});function Sa(){this.da=void 0;this.aa=ma.Undefined}q(Sa,Ra);y.Object.defineProperties(Sa.prototype,{bodyType:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a}}});function Ta(){this.da=void 0;this.aa=[]}q(Ta,Ra);Ta.prototype.append=function(a){this.aa.push(a)};Ta.prototype.size=function(){return this.aa.length};
Ta.prototype.element=function(a){return this.aa[a]};Ta.prototype.element=Ta.prototype.element;Ta.prototype.size=Ta.prototype.size;Ta.prototype.append=Ta.prototype.append;function Ua(){}Ua.prototype.ta=function(){return Promise.reject(Error("cadex.ModelData_BRepRepresentationProvider#feed is abstract."))};Ua.prototype.feed=Ua.prototype.ta;function Va(a){ka.call(this);this.ea=new Ta;a&&this.add(a);this.da=this.aa=void 0}q(Va,ka);Va.prototype.add=function(a){this.ea.append(a)};
Va.prototype.Aa=function(a){a&&(this.aa=this.aa||[],this.aa.push(a))};Va.prototype.Qc=function(){var a=this;return this.da?this.da:this.aa&&0<this.aa.length?this.da=Promise.all(this.aa.slice().map(function(b){return b.ta(a).then(function(){var c=a.aa.indexOf(b);-1!==c&&a.aa.splice(c,1)})})).then(function(){a.da=void 0;return a.ea}):Promise.resolve(this.ea)};
Va.prototype.accept=function(a){var b=this,c=Promise.resolve();a.visitBRepRepresentation&&(c=c.then(function(){return a.visitBRepRepresentation(b)}));return c};y.Object.defineProperties(Va,{Provider:{configurable:!0,enumerable:!0,get:function(){return Ua}}});Va.prototype.accept=Va.prototype.accept;Va.prototype.bodyList=Va.prototype.Qc;Va.prototype.addProvider=Va.prototype.Aa;Va.prototype.add=Va.prototype.add;function Wa(){}Wa.prototype.ta=function(){return Promise.reject(Error("cadex.ModelData_FileTextureProvider#feed is abstract."))};
function Xa(a,b,c){za.call(this,b,c);this.filePath=a;this.da=this.aa=void 0;this.ea=null;this.ga=void 0}q(Xa,za);Xa.prototype.image=function(){var a=this;return this.da?this.da:this.aa?this.da=this.aa.ta(this).then(function(){a.aa=void 0;return a.ea}):Promise.resolve(this.ea)};Xa.prototype.set=function(a){this.ea=a};Xa.prototype.accept=function(a){var b=this,c=Promise.resolve();a.visitFileTexture&&(c=c.then(function(){return a.visitFileTexture(b)}));return c};
y.Object.defineProperties(Xa.prototype,{provider:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a}}});y.Object.defineProperties(Xa,{Provider:{configurable:!0,enumerable:!0,get:function(){return Wa}}});Xa.prototype.accept=Xa.prototype.accept;Xa.prototype.image=Xa.prototype.image;function Ya(){}Ya.prototype.accept=function(){return Promise.reject(Error("cadex.ModelData_PMIGraphicalElementComponent@accept() should be re-implemented by inheritors."))};
Ya.prototype.accept=Ya.prototype.accept;function Za(){}Za.prototype.rc=function(){return Promise.resolve()};Za.prototype.vc=function(){return Promise.resolve()};Za.prototype.wc=function(){return Promise.resolve()};Za.prototype.visitTriangulatedComponent=Za.prototype.wc;Za.prototype.visitTextComponent=Za.prototype.vc;Za.prototype.visitOutlinedComponent=Za.prototype.rc;function $a(){}$a.prototype.accept=function(){return Promise.reject(Error("cadex.ModelData_PMIOutline#accept() should be re-implemented by inheritors."))};
$a.prototype.accept=$a.prototype.accept;function ab(){}g=ab.prototype;g.uc=function(){return Promise.resolve()};g.tc=function(){return Promise.resolve()};g.oc=function(){return Promise.resolve()};g.nc=function(){return Promise.resolve()};g.mc=function(){return Promise.resolve(!0)};g.Be=function(){return Promise.resolve()};ab.prototype.visitCompositeOutlineLeave=ab.prototype.Be;ab.prototype.visitCompositeOutlineEnter=ab.prototype.mc;ab.prototype.visitCurve2dOutline=ab.prototype.nc;
ab.prototype.visitCurveOutline=ab.prototype.oc;ab.prototype.visitPoly2dOutline=ab.prototype.tc;ab.prototype.visitPolyOutline=ab.prototype.uc;function I(a,b,c){this.aa=new Ja(void 0===a?1:a,void 0===b?0:b,void 0===c?0:c);Ka(this.aa)}g=I.prototype;g.xa=function(a,b,c){this.aa.xa(a,b,c);Ka(this.aa)};g.transform=function(a){var b=this.aa,c=b.x,d=b.y,e=b.z;a=a.elements;b.x=a[0]*c+a[4]*d+a[8]*e;b.y=a[1]*c+a[5]*d+a[9]*e;b.z=a[2]*c+a[6]*d+a[10]*e;Ka(b);return this};
g.ec=function(a){var b=this.clone();b.transform(a);return b};g.cross=function(a){this.aa.cross(a.aa);return this};g.Uc=function(a){var b=this.clone();b.cross(a);return b};g.clone=function(){return(new I).copy(this)};g.copy=function(a){this.aa.copy(a);return this};g.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.z.toFixed(2)+")"};
y.Object.defineProperties(I.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this.aa.x},set:function(a){this.aa.x=a;Ka(this.aa)}},y:{configurable:!0,enumerable:!0,get:function(){return this.aa.y},set:function(a){this.aa.y=a;Ka(this.aa)}},z:{configurable:!0,enumerable:!0,get:function(){return this.aa.z},set:function(a){this.aa.z=a;Ka(this.aa)}}});I.prototype.toString=I.prototype.toString;I.prototype.copy=I.prototype.copy;I.prototype.clone=I.prototype.clone;I.prototype.crossed=I.prototype.Uc;
I.prototype.cross=I.prototype.cross;I.prototype.transformed=I.prototype.ec;I.prototype.transform=I.prototype.transform;I.prototype.setCoord=I.prototype.xa;function bb(a,b,c,d){B.call(this,d);this.aa=a instanceof H?a:new H;this.da=b instanceof H?b:new H;this.ea=c instanceof I?c:new I}q(bb,B);
y.Object.defineProperties(bb.prototype,{location:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){a instanceof H&&(this.aa=a)}},targetPoint:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){a instanceof H&&(this.da=a)}},upDirection:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){a instanceof I&&(this.ea=a)}}});function cb(a,b){this.aa=a instanceof H?a:new H;this.da=b instanceof I?b:new I(0,0,1)}
cb.prototype.clone=function(){return(new cb).copy(this)};cb.prototype.copy=function(a){this.aa.copy(a.aa);this.da.copy(a.da);return this};y.Object.defineProperties(cb.prototype,{location:{configurable:!0,enumerable:!0,get:function(){return this.aa}},direction:{configurable:!0,enumerable:!0,get:function(){return this.da}}});cb.prototype.clone=cb.prototype.clone;
function db(a,b,c){this.da=new cb(a,b);this.aa=new I;this.fa=b.clone();if(c)this.aa.copy(b),Ma(this.aa.aa,c,this.da.direction);else{a=b.x;c=b.y;b=b.z;var d=0<=a?a:-a,e=0<=c?c:-c,f=0<=b?b:-b,h=this.aa;e<=d&&e<=f?d>f?h.xa(-b,0,a):h.xa(b,0,-a):d<=e&&d<=f?e>f?h.xa(0,-b,c):h.xa(0,b,-c):d>e?h.xa(-c,a,0):h.xa(c,-a,0)}this.fa.aa.cross(this.aa.aa)}db.prototype.clone=function(){return(new db).copy(this)};db.prototype.copy=function(a){this.da.copy(a.da);this.aa.copy(a.aa);this.fa.copy(a.fa);return this};
y.Object.defineProperties(db.prototype,{location:{configurable:!0,enumerable:!0,get:function(){return this.da.location}},direction:{configurable:!0,enumerable:!0,get:function(){return this.da.direction}},xDirection:{configurable:!0,enumerable:!0,get:function(){return this.aa}},yDirection:{configurable:!0,enumerable:!0,get:function(){return this.fa}}});db.prototype.copy=db.prototype.copy;db.prototype.clone=db.prototype.clone;function eb(){}g=eb.prototype;
g.gc=function(){throw Error("cadex.ModelData_Surface#uMin() should be re-implemented by inheritors.");};g.fc=function(){throw Error("cadex.ModelData_Surface#uMax() should be re-implemented by inheritors.");};g.jc=function(){throw Error("cadex.ModelData_Surface#vMin() should be re-implemented by inheritors.");};g.ic=function(){throw Error("cadex.ModelData_Surface#vMax() should be re-implemented by inheritors.");};
g.value=function(){throw Error("cadex.ModelData_Surface#value() should be re-implemented by inheritors.");};eb.prototype.value=eb.prototype.value;eb.prototype.vMax=eb.prototype.ic;eb.prototype.vMin=eb.prototype.jc;eb.prototype.uMax=eb.prototype.fc;eb.prototype.uMin=eb.prototype.gc;function fb(a){this.aa=a instanceof db?a:new db}q(fb,eb);
y.Object.defineProperties(fb.prototype,{location:{configurable:!0,enumerable:!0,get:function(){return this.aa.location}},direction:{configurable:!0,enumerable:!0,get:function(){return this.aa.direction}},position:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});function gb(a){fb.call(this,a)}q(gb,fb);g=gb.prototype;g.gc=function(){return Number.NEGATIVE_INFINITY};g.fc=function(){return Number.POSITIVE_INFINITY};g.jc=function(){return Number.NEGATIVE_INFINITY};g.ic=function(){return Number.POSITIVE_INFINITY};
g.value=function(a,b,c){c.copy(this.aa.location);La(c.aa,this.aa.xDirection,a);La(c.aa,this.aa.yDirection,b)};g.clone=function(){return new gb(this.aa.clone())};g.copy=function(a){this.aa.copy(a.aa);return this};gb.prototype.copy=gb.prototype.copy;gb.prototype.clone=gb.prototype.clone;gb.prototype.value=gb.prototype.value;gb.prototype.vMax=gb.prototype.ic;gb.prototype.vMin=gb.prototype.jc;gb.prototype.uMax=gb.prototype.fc;gb.prototype.uMin=gb.prototype.gc;
gb.fromPointAndNormal=function(a,b){return new gb(new db(a,b))};function hb(a,b){B.call(this,b);this.aa=void 0;a instanceof gb&&(this.aa=a)}q(hb,B);y.Object.defineProperties(hb.prototype,{plane:{configurable:!0,enumerable:!0,get:function(){return this.aa||null}}});function ib(a){B.call(this,a);this.da=void 0;this.aa=[]}q(ib,B);ib.prototype.tb=function(a){a instanceof Ya&&this.aa.push(a)};ib.prototype.isEmpty=function(){return 0===this.aa.length};ib.prototype.Ld=function(){return this.aa.length};
ib.prototype.xd=function(a){return this.aa[a]};y.Object.defineProperties(ib.prototype,{plane:{configurable:!0,enumerable:!0,get:function(){return this.da||null},set:function(a){this.da=a instanceof hb?a:void 0}},components:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});ib.prototype.component=ib.prototype.xd;ib.prototype.numberOfComponents=ib.prototype.Ld;ib.prototype.isEmpty=ib.prototype.isEmpty;ib.prototype.addComponent=ib.prototype.tb;
function jb(a,b){B.call(this,b);this.da=a instanceof bb?a:void 0;this.aa=void 0}q(jb,B);jb.prototype.Lc=function(a){a instanceof ib&&(this.aa=this.aa||[],this.aa.push(a))};jb.prototype.Nd=function(){return this.aa&&this.aa.length||0};jb.prototype.graphicalElement=function(a){return this.aa[a]};
y.Object.defineProperties(jb.prototype,{camera:{configurable:!0,enumerable:!0,get:function(){return this.da||null},set:function(a){a instanceof bb?this.da=a:this.da=void 0}},elements:{configurable:!0,enumerable:!0,get:function(){return this.aa||[]}}});jb.prototype.graphicalElement=jb.prototype.graphicalElement;jb.prototype.numberOfGraphicalElements=jb.prototype.Nd;jb.prototype.addGraphicalElement=jb.prototype.Lc;
function kb(a,b){a=void 0===a?new H(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY):a;b=void 0===b?new H(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY):b;this.minCorner=a;this.maxCorner=b}g=kb.prototype;g.copy=function(a){this.minCorner.copy(a.minCorner);this.maxCorner.copy(a.maxCorner)};g.add=function(a){a instanceof H?(this.minCorner.aa.min(a.aa),this.maxCorner.aa.max(a.aa)):(this.add(a.minCorner),this.add(a.maxCorner))};
g.Gd=function(){return!(Number.isFinite(this.minCorner.x)&&Number.isFinite(this.minCorner.y)&&Number.isFinite(this.minCorner.z)&&Number.isFinite(this.maxCorner.x)&&Number.isFinite(this.maxCorner.y)&&Number.isFinite(this.maxCorner.z))};g.clear=function(){this.minCorner.xa(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);this.maxCorner.xa(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY)};
g.toString=function(){return"{ min: "+this.minCorner+", max: "+this.maxCorner+" }"};kb.prototype.toString=kb.prototype.toString;kb.prototype.clear=kb.prototype.clear;kb.prototype.isInfinite=kb.prototype.Gd;kb.prototype.add=kb.prototype.add;kb.prototype.copy=kb.prototype.copy;function lb(){}lb.prototype.ta=function(){return Promise.reject(Error("cadex.ModelData_PropertyTableProvider#feed is abstract."))};lb.prototype.feed=lb.prototype.ta;function J(a){B.call(this,a);this.aa=void 0;this.da={}}q(J,B);
g=J.prototype;g.add=function(a,b){this.da[a]=b};g.hb=function(a){var b=this;a.aa&&0<a.aa.length&&(this.aa=this.aa||[],this.aa.push.apply(this.aa,ba(a.aa)));var c=Object.keys(a.da);0<c.length&&c.forEach(function(d){b.da[d]=a.da[d]})};g.Aa=function(a){a&&(this.aa=this.aa||[],this.aa.push(a))};
g.properties=function(){var a=this;return this.aa&&0<this.aa.length?Promise.all(this.aa.slice().map(function(b){return b.ta(a).then(function(){var c=a.aa.indexOf(b);-1!==c&&a.aa.splice(c,1)})})).then(function(){return a.da}):Promise.resolve(this.da)};g.isEmpty=function(){return 0===this.size()&&(!this.aa||0===this.aa.length)};g.size=function(){return Object.keys(this.da).length};g.clear=function(){this.aa=void 0;this.da={}};
y.Object.defineProperties(J,{Provider:{configurable:!0,enumerable:!0,get:function(){return lb}},NamePropertyName:{configurable:!0,enumerable:!0,get:function(){return"Name"}},SurfaceAreaPropertyName:{configurable:!0,enumerable:!0,get:function(){return"CADEX_SURFACE_AREA"}},VolumePropertyName:{configurable:!0,enumerable:!0,get:function(){return"CADEX_VOLUME"}},CentroidPropertyName:{configurable:!0,enumerable:!0,get:function(){return"CADEX_CENTROID"}},BoundingBoxPropertyName:{configurable:!0,enumerable:!0,
get:function(){return"CADEX_BOUNDING_BOX"}}});J.prototype.clear=J.prototype.clear;J.prototype.size=J.prototype.size;J.prototype.isEmpty=J.prototype.isEmpty;J.prototype.properties=J.prototype.properties;J.prototype.addProvider=J.prototype.Aa;J.prototype.addTable=J.prototype.hb;J.prototype.add=J.prototype.add;function mb(a,b){a=void 0===a?1E3:a;B.call(this,b);this.da=a;this.aa=this.ea=void 0}q(mb,B);mb.prototype.gb=function(a){a instanceof J&&(this.aa?this.aa.hb(a):this.aa=a)};
mb.prototype.isEmpty=function(){return!1};y.Object.defineProperties(mb.prototype,{type:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){"number"===typeof a?this.da=a:this.da=1E3}},graphicalElement:{configurable:!0,enumerable:!0,get:function(){return this.ea||null},set:function(a){this.ea=a instanceof ib?a:void 0}},properties:{configurable:!0,enumerable:!0,get:function(){return this.aa||null},set:function(a){this.aa=a instanceof J?a:void 0}}});mb.prototype.isEmpty=mb.prototype.isEmpty;
mb.prototype.addProperties=mb.prototype.gb;function nb(){}nb.prototype.ta=function(){return Promise.reject(Error("cadex.ModelData_PMITableProvider#feed is abstract."))};nb.prototype.feed=nb.prototype.ta;function L(a){B.call(this,a);this.da=[];this.ga=[];this.ea=[];this.ia=this.aa=void 0}q(L,B);
function ob(a){return a.ia?a.ia:a.aa&&0<a.aa.length?(a.ia=Promise.all(a.aa.slice().map(function(b){return b.ta(a).then(function(){var c=a.aa.indexOf(b);-1!==c&&a.aa.splice(c,1)})})).then(function(){a.ia=void 0}),a.ia):Promise.resolve()}g=L.prototype;g.ed=function(){var a=this;return ob(this).then(function(){return a.da})};g.ze=function(){var a=this;return ob(this).then(function(){return a.ga})};g.planes=function(){var a=this;return ob(this).then(function(){return a.ea})};
g.Aa=function(a){a instanceof nb&&(this.aa=this.aa||[],this.aa.push(a))};g.hb=function(a){a instanceof L&&(this.da.push.apply(this.da,ba(a.da)),this.ga.push.apply(this.ga,ba(a.ga)),this.ea.push.apply(this.ea,ba(a.ea)),a.aa&&(this.aa=this.aa||[],this.aa.push.apply(this.aa,ba(a.aa))))};g.add=function(a){a instanceof mb&&this.da.push(a)};g.Pc=function(a){a instanceof jb&&this.ga.push(a)};g.Mc=function(a){a instanceof hb&&this.ea.push(a)};
g.isEmpty=function(){return 0===this.da.length&&0===this.ga.length&&0===this.ea.length&&(!this.aa||0===this.aa.length)};g.Rd=function(){return this.da.length};g.Vd=function(){return this.ga.length};g.Sd=function(){return this.ea.length};g.clear=function(){this.da=[];this.ga=[];this.ea=[];this.aa=void 0};y.Object.defineProperties(L,{Provider:{configurable:!0,enumerable:!0,get:function(){return nb}}});L.prototype.clear=L.prototype.clear;L.prototype.numberOfPlanes=L.prototype.Sd;
L.prototype.numberOfSavedViews=L.prototype.Vd;L.prototype.numberOfPMIData=L.prototype.Rd;L.prototype.addPlane=L.prototype.Mc;L.prototype.addView=L.prototype.Pc;L.prototype.add=L.prototype.add;L.prototype.addTable=L.prototype.hb;L.prototype.addProvider=L.prototype.Aa;L.prototype.planes=L.prototype.planes;L.prototype.views=L.prototype.ze;L.prototype.pmiDataItems=L.prototype.ed;var pb={ModelData_PF_None:0,ModelData_PF_RGB:1,ModelData_PF_RGBA:2,ModelData_PF_Alpha:3,ModelData_PF_Luminance:4,ModelData_PF_LuminanceAlpha:5};
function qb(a,b,c,d){this.fa=d;this.ea=b;this.aa=c;this.da=a}y.Object.defineProperties(qb.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.ea}},height:{configurable:!0,enumerable:!0,get:function(){return this.aa}},pixelFormat:{configurable:!0,enumerable:!0,get:function(){return this.fa}},pixelData:{configurable:!0,enumerable:!0,get:function(){return this.da}}});function rb(){}rb.prototype.ta=function(){return Promise.reject(Error("cadex.ModelData_PixMapTextureProvider#feed is abstract."))};
function sb(a,b,c){za.call(this,b,c);this.da=this.aa=void 0;this.ea=a instanceof qb?a:null}q(sb,za);sb.prototype.lb=function(){var a=this;return this.da?this.da:this.aa?this.da=this.aa.ta(this).then(function(){a.aa=void 0;return a.ea}):Promise.resolve(this.ea)};sb.prototype.accept=function(a){var b=this,c=Promise.resolve();a.visitPixMapTexture&&(c=c.then(function(){return a.visitPixMapTexture(b)}));return c};
y.Object.defineProperties(sb.prototype,{provider:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a}}});y.Object.defineProperties(sb,{Provider:{configurable:!0,enumerable:!0,get:function(){return rb}}});sb.prototype.accept=sb.prototype.accept;sb.prototype.pixmap=sb.prototype.lb;function tb(){Na.call(this);this.aa=[]}q(tb,Na);tb.prototype.append=function(a){if(a instanceof tb)for(var b=0,c=a.size();b<c;b++)this.append(a.element(b));else a instanceof Oa&&this.aa.push(a)};
tb.prototype.size=function(){return this.aa.length};tb.prototype.element=function(a){return this.aa[a]};tb.prototype.element=tb.prototype.element;tb.prototype.size=tb.prototype.size;tb.prototype.append=tb.prototype.append;function wb(){}wb.prototype.ta=function(){return Promise.reject(Error("cadex.ModelData_PolyRepresentationProvider#feed is abstract."))};wb.prototype.feed=wb.prototype.ta;function xb(a){ka.call(this);this.ea=new tb;a&&this.ea.append(a);this.da=this.aa=void 0}q(xb,ka);
xb.prototype.add=function(a){this.ea.append(a)};xb.prototype.Aa=function(a){a&&(this.aa=this.aa||[],this.aa.push(a))};xb.prototype.gd=function(){var a=this;return this.da?this.da:this.aa&&0<this.aa.length?this.da=Promise.all(this.aa.slice().map(function(b){return b.ta(a).then(function(){var c=a.aa.indexOf(b);-1!==c&&a.aa.splice(c,1)})})).then(function(){a.da=void 0;return a.ea}):Promise.resolve(this.ea)};
xb.prototype.accept=function(a){var b=this,c=Promise.resolve();a.visitPolyRepresentation&&(c=c.then(function(){return a.visitPolyRepresentation(b)}));return c};y.Object.defineProperties(xb,{Provider:{configurable:!0,enumerable:!0,get:function(){return wb}}});xb.prototype.accept=xb.prototype.accept;xb.prototype.polyShapeList=xb.prototype.gd;xb.prototype.addProvider=xb.prototype.Aa;xb.prototype.add=xb.prototype.add;function yb(){}yb.prototype.isEqual=function(a){return this===a};
function zb(a){this.mask=a}q(zb,yb);zb.prototype.isEqual=function(a){return a instanceof zb?a.mask===this.mask:this===a};zb.prototype.isEqual=zb.prototype.isEqual;function Ab(a){this.name=a}q(Ab,yb);Ab.prototype.isEqual=function(a){return a instanceof Ab?a.name===this.name:this===a};Ab.prototype.isEqual=Ab.prototype.isEqual;
var Bb={Base_AU_Radians:0,Base_AU_Degrees:1},M={Base_LU_Millimeters:0,Base_LU_Centimeters:1,Base_LU_Meters:2,Base_LU_Inches:3,Base_LU_Feets:4,Base_LU_Yards:5,Base_LU_Micrometers:6,Base_LU_Decimeters:7,Base_LU_Kilometers:8,Base_LU_Mils:9,Base_LU_Miles:10};function Cb(){}
function Db(a,b){var c="";if(b)switch(a){case Bb.Base_AU_Radians:c="rad";break;case Bb.Base_AU_Degrees:c="deg"}if(!b)switch(a){case M.Base_LU_Millimeters:c="mm";break;case M.Base_LU_Centimeters:c="cm";break;case M.Base_LU_Meters:c="m";break;case M.Base_LU_Inches:c="in";break;case M.Base_LU_Feets:c="ft";break;case M.Base_LU_Yards:c="yd";break;case M.Base_LU_Micrometers:c="micron";break;case M.Base_LU_Decimeters:c="dm";break;case M.Base_LU_Kilometers:c="km";break;case M.Base_LU_Mils:c="mil";break;case M.Base_LU_Miles:c=
"mile"}return c}function Eb(a,b){var c=0;switch(b){case M.Base_LU_Millimeters:c=a;break;case M.Base_LU_Centimeters:c=a/10;break;case M.Base_LU_Meters:c=a/1E3;break;case M.Base_LU_Inches:c=a/25.4;break;case M.Base_LU_Feets:c=a/304.8;break;case M.Base_LU_Yards:c=a/914.4;break;case M.Base_LU_Micrometers:c=1E3*a;break;case M.Base_LU_Decimeters:c=a/100;break;case M.Base_LU_Kilometers:c=a/1E6;break;case M.Base_LU_Mils:c=39.37*a;break;case M.Base_LU_Miles:c=a/1609E3}return Number(c.toFixed(2))}
function Fb(a,b){switch(b){case Bb.Base_AU_Degrees:var c=180*a/Math.PI;break;case Bb.Base_AU_Radians:c=a}return Number(c.toFixed(2))}Cb.convertAngelsTypes=Fb;Cb.convertLengthTypes=Eb;Cb.unitSymbol=Db;function Gb(){}g=Gb.prototype;g.sc=function(){return Promise.resolve()};g.pc=function(){return Promise.resolve(!0)};g.qc=function(){return Promise.resolve()};g.kc=function(){return Promise.resolve(!0)};g.lc=function(){return Promise.resolve()};Gb.prototype.visitAssemblyLeave=Gb.prototype.lc;
Gb.prototype.visitAssemblyEnter=Gb.prototype.kc;Gb.prototype.visitInstanceLeave=Gb.prototype.qc;Gb.prototype.visitInstanceEnter=Gb.prototype.pc;Gb.prototype.visitPart=Gb.prototype.sc;function Hb(){B.call(this);this.ia=this.ga=this.ea=this.ja=void 0}q(Hb,B);Hb.prototype.gb=function(a){a instanceof J&&(this.properties?this.properties.hb(a):this.properties=a)};Hb.prototype.accept=function(){return Promise.reject(Error("cadex.ModelData_SceneGraphElement#accept() should be re-implemented by inheritors."))};
y.Object.defineProperties(Hb.prototype,{uuid:{configurable:!0,enumerable:!0,get:function(){return this.ja},set:function(a){this.ja=a}},appearance:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){this.ea=a instanceof G?a:void 0}},properties:{configurable:!0,enumerable:!0,get:function(){return this.ga},set:function(a){this.ga=a instanceof J?a:void 0}},pmi:{configurable:!0,enumerable:!0,get:function(){return this.ia},set:function(a){this.ia=a instanceof L?a:void 0}}});
Hb.prototype.accept=Hb.prototype.accept;Hb.prototype.addProperties=Hb.prototype.gb;function Ib(a,b,c){Hb.call(this);c&&(this.fa=c);this.aa=void 0;b&&(this.transformation=b);this.da=a?a:null}q(Ib,Hb);Ib.prototype.accept=function(a){var b=this,c=Promise.resolve();a.visitInstanceEnter&&(c=c.then(function(){return a.visitInstanceEnter(b)}).then(function(d){if(d&&b.da)return b.da.accept(a)}).then(function(){if(a.visitInstanceLeave)return a.visitInstanceLeave(b)}));return c};
y.Object.defineProperties(Ib.prototype,{reference:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){a&&a instanceof Ib?this.da=a.da:a&&a instanceof Hb?this.da=a:this.da=null}},transformation:{configurable:!0,enumerable:!0,get:function(){this.aa||(this.aa=new Ia);return this.aa},set:function(a){a&&(this.aa||(this.aa=new Ia),this.aa.aa=a.aa.slice())}}});Ib.prototype.accept=Ib.prototype.accept;
var Jb={ModelData_RM_BRep:1,ModelData_RM_CoarseLOD:16,ModelData_RM_MediumLOD:32,ModelData_RM_FineLOD:64,ModelData_RM_Poly:112,ModelData_RM_Any:113};function Kb(a){Hb.call(this);this.fa=a;this.representations=[]}q(Kb,Hb);g=Kb.prototype;g.Nc=function(a){this.representations.push(a)};g.wb=function(){for(var a=0,b=this.representations.length;a<b;a++){var c=this.representations[a];if(c&&c instanceof Va)return c}};
g.fd=function(a){for(var b=0,c=0,d=this.representations.length;c<d;c++){var e=this.representations[c];e&&e instanceof xb&&b++}if(0!==b){c=b/2>>0;--b;e=d=0;for(var f=this.representations.length;e<f;e++){var h=this.representations[e];if(h&&h instanceof xb){if(0===d&&a&Jb.ModelData_RM_FineLOD||d===c&&a&Jb.ModelData_RM_MediumLOD||d===b&&a&Jb.ModelData_RM_CoarseLOD)return h;d++}}}};
g.cc=function(a){if(a instanceof zb){if(a.mask===Jb.ModelData_RM_BRep)return this.wb();if(a.mask===Jb.ModelData_RM_Any){var b=this.wb();if(b)return b}return this.fd(a.mask)}if(a instanceof Ab)return this.cc(a.name);if("string"===typeof a||a instanceof String){b=0;for(var c=this.representations.length;b<c;b++){var d=this.representations[b];if(d.name===a)return d}}};g.accept=function(a){var b=this,c=Promise.resolve();a.visitPart&&(c=c.then(function(){return a.visitPart(b)}));return c};
g.vd=function(a){return Ea(this.representations,function(b){return b.accept(a)})};y.Object.defineProperties(Kb,{RepresentationVisitor:{configurable:!0,enumerable:!0,get:function(){return la}}});Kb.prototype.acceptRepresentationVisitor=Kb.prototype.vd;Kb.prototype.accept=Kb.prototype.accept;Kb.prototype.representation=Kb.prototype.cc;Kb.prototype.polyRepresentation=Kb.prototype.fd;Kb.prototype.brepRepresentation=Kb.prototype.wb;Kb.prototype.addRepresentation=Kb.prototype.Nc;
function Lb(){Hb.call(this);this.children=[]}q(Lb,Hb);Lb.prototype.ub=function(a,b,c){return a instanceof Ib?(this.children.push(a),a):a instanceof Hb?this.ub(new Ib(a),b,c):null};Lb.prototype.accept=function(a){var b=this,c=Promise.resolve();a.visitAssemblyEnter&&(c=c.then(function(){return a.visitAssemblyEnter(b)}).then(function(d){if(d)return Ea(b.children,function(e){return e.accept(a)})}).then(function(){if(a.visitAssemblyLeave)return a.visitAssemblyLeave(b)}));return c};
Lb.prototype.accept=Lb.prototype.accept;Lb.prototype.addInstance=Lb.prototype.ub;function Mb(a,b,c){this.aa=new cb(a,b);this.da=b.clone();this.fa=b.clone();Ma(this.da.aa,c,this.aa.direction);this.fa.aa.cross(this.da.aa)}
y.Object.defineProperties(Mb.prototype,{location:{configurable:!0,enumerable:!0,get:function(){return this.aa.location}},direction:{configurable:!0,enumerable:!0,get:function(){return this.aa.direction}},xDirection:{configurable:!0,enumerable:!0,get:function(){return this.da}},yDirection:{configurable:!0,enumerable:!0,get:function(){return this.fa}}});function Nb(){}q(Nb,Gb);g=Nb.prototype;g.Ce=function(){return Promise.resolve()};g.De=function(){return Promise.resolve()};
g.sc=function(a){var b=this;return Promise.resolve().then(function(){return b.visitElementEnter(a)}).then(function(){return b.visitElementLeave(a)})};g.pc=function(a){return this.visitElementEnter(a)};g.qc=function(a){return this.visitElementLeave(a)};g.kc=function(a){return this.visitElementEnter(a)};g.lc=function(a){return this.visitElementLeave(a)};Nb.prototype.visitAssemblyLeave=Nb.prototype.lc;Nb.prototype.visitAssemblyEnter=Nb.prototype.kc;Nb.prototype.visitInstanceLeave=Nb.prototype.qc;
Nb.prototype.visitInstanceEnter=Nb.prototype.pc;Nb.prototype.visitPart=Nb.prototype.sc;Nb.prototype.visitElementLeave=Nb.prototype.De;Nb.prototype.visitElementEnter=Nb.prototype.Ce;function Ob(){}function Pb(){}function Qb(){Oa.call(this);this.ea=void 0}q(Qb,Oa);Qb.prototype.Od=function(a){return this.ea?this.ea[a]:0};Qb.prototype.Td=function(){return this.ea?this.ea.length:0};
y.Object.defineProperties(Qb.prototype,{ma:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){this.ea=a}}});Qb.prototype.numberOfPolylines=Qb.prototype.Td;Qb.prototype.numberOfLineVertices=Qb.prototype.Od;function Rb(a){this.aa=a}function Sb(){Qb.call(this);this.ga=void 0}q(Sb,Qb);y.Object.defineProperties(Sb.prototype,{indexes:{configurable:!0,enumerable:!0,get:function(){return this.ga},set:function(a){this.ga=a}}});
function N(a,b){this.aa=[void 0===a?0:a,void 0===b?0:b]}g=N.prototype;g.xa=function(a,b){this.aa[0]=a;this.aa[1]=b};g.add=function(a){this.aa[0]+=a.x;this.aa[1]+=a.y;return this};g.sub=function(a){this.aa[0]-=a.x;this.aa[1]-=a.y;return this};g.clone=function(){return(new N).copy(this)};g.copy=function(a){this.aa[0]=a.x;this.aa[1]=a.y;return this};g.fromArray=function(a,b){void 0===b&&(b=0);this.aa[0]=a[b];this.aa[1]=a[b+1];return this};
g.toString=function(){return"("+this.x.toFixed(2)+", "+this.y.toFixed(2)+")"};y.Object.defineProperties(N.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this.aa[0]},set:function(a){this.aa[0]=a}},y:{configurable:!0,enumerable:!0,get:function(){return this.aa[1]},set:function(a){this.aa[1]=a}}});N.prototype.toString=N.prototype.toString;N.prototype.fromArray=N.prototype.fromArray;N.prototype.copy=N.prototype.copy;N.prototype.clone=N.prototype.clone;N.prototype.sub=N.prototype.sub;
N.prototype.add=N.prototype.add;function O(){Oa.call(this);this.ga=this.ea=this.ma=void 0}q(O,Oa);g=O.prototype;g.Md=function(){return this.ma?this.ma.length/3:0};g.Pd=function(){return this.ea?this.ea.length/3:0};g.Wd=function(){return this.ga?this.ga.length/2:0};g.zd=function(a,b){return 3*a+b};g.Ed=function(){return!!this.ea};g.normal=function(a){if(this.ea)return new I(this.ea[3*a],this.ea[3*a+1],this.ea[3*a+2])};g.Jd=function(a,b){return 3*a+b};g.Fd=function(){return!!this.ga};
g.we=function(a){if(this.ga)return new N(this.ga[2*a],this.ga[2*a+1])};g.xe=function(a,b){return 3*a+b};y.Object.defineProperties(O.prototype,{indexes:{configurable:!0,enumerable:!0,get:function(){return this.ma},set:function(a){this.ma=a}},normals:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){this.ea=a}},uvCoordinates:{configurable:!0,enumerable:!0,get:function(){return this.ga},set:function(a){this.ga=a}}});O.prototype.uvCoordinateIndex=O.prototype.xe;
O.prototype.uvCoordinate=O.prototype.we;O.prototype.hasUVCoordinates=O.prototype.Fd;O.prototype.normalIndex=O.prototype.Jd;O.prototype.normal=O.prototype.normal;O.prototype.hasNormals=O.prototype.Ed;O.prototype.coordinateIndex=O.prototype.zd;O.prototype.numberOfUVCoordinates=O.prototype.Wd;O.prototype.numberOfNormals=O.prototype.Pd;O.prototype.numberOfFaces=O.prototype.Md;function Tb(){Oa.apply(this,arguments)}q(Tb,Oa);
var Ub=new Int32Array(2),Vb=new Float32Array(Ub.buffer),Wb=new Float64Array(Ub.buffer),Xb=1===(new Uint16Array((new Uint8Array([1,0])).buffer))[0];function Yb(a,b){this.da=a|0;this.aa=b|0}function Zb(a){return(a.da>>>0)+4294967296*a.aa}var $b=new Yb(0,0);function ac(a){this.aa=a;this.da=0}ac.prototype.clear=function(){this.da=0};ac.prototype.position=function(){return this.da};function bc(a,b){return a.aa[b]<<24>>24}function cc(a,b){return a.aa[b]}function dc(a,b){return a.aa[b]|a.aa[b+1]<<8}
function P(a,b){return a.aa[b]|a.aa[b+1]<<8|a.aa[b+2]<<16|a.aa[b+3]<<24}function ec(a,b){return new Yb(P(a,b),P(a,b+4))}function fc(a,b){Ub[0]=P(a,b);return Vb[0]}function gc(a,b){Ub[Xb?0:1]=P(a,b);Ub[Xb?1:0]=P(a,b+4);return Wb[0]}function Q(a,b,c){b-=P(a,b);return c<dc(a,b)<<16>>16?dc(a,b+c)<<16>>16:0}function hc(a,b,c){b.ca=c+P(a,c);b.ba=a;return b}
function ic(a,b,c){b+=P(a,b);var d=P(a,b),e="",f=0;b+=4;if(1===c)return a.aa.subarray(b,b+d);for(;f<d;){c=cc(a,b+f++);if(!(192>c)){var h=cc(a,b+f++);if(224>c)c=(c&31)<<6|h&63;else{var k=cc(a,b+f++);if(240>c)c=(c&15)<<12|(h&63)<<6|k&63;else{var l=cc(a,b+f++);c=(c&7)<<18|(h&63)<<12|(k&63)<<6|l&63}}}65536>c?e+=String.fromCharCode(c):(c-=65536,e+=String.fromCharCode((c>>10)+55296,(c&1023)+56320))}return e}function R(a,b){return b+P(a,b)}function S(a,b){return b+P(a,b)+4}
function T(a,b){return P(a,b+P(a,b))}function jc(){this.ba=null;this.ca=0}function kc(a,b,c){a.ca=b;a.ba=c;return a}function lc(){this.ba=null;this.ca=0}lc.prototype.scale=function(){return gc(this.ba,this.ca+96)};function mc(){this.ba=null;this.ca=0}function nc(a,b,c){a.ca=b;a.ba=c;return a}mc.prototype.r=function(){return fc(this.ba,this.ca)};mc.prototype.g=function(){return fc(this.ba,this.ca+4)};mc.prototype.b=function(){return fc(this.ba,this.ca+8)};
mc.prototype.a=function(){return fc(this.ba,this.ca+12)};function oc(){this.ba=null;this.ca=0}function pc(a,b,c){a.ca=b;a.ba=c;return a}oc.prototype.x=function(){return gc(this.ba,this.ca)};oc.prototype.y=function(){return gc(this.ba,this.ca+8)};oc.prototype.z=function(){return gc(this.ba,this.ca+16)};function qc(){this.ba=null;this.ca=0}function rc(a,b,c){a.ca=b;a.ba=c;return a}qc.prototype.x=function(){return gc(this.ba,this.ca)};qc.prototype.y=function(){return gc(this.ba,this.ca+8)};
function sc(){this.ba=null;this.ca=0}sc.prototype.minCorner=function(a){return pc(a||new oc,this.ca,this.ba)};sc.prototype.maxCorner=function(a){return pc(a||new oc,this.ca+24,this.ba)};function tc(){this.ba=null;this.ca=0}tc.prototype.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};tc.prototype.value=function(a){var b=Q(this.ba,this.ca,6);return b?nc(a||new mc,this.ca+b,this.ba):null};
tc.prototype.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};function uc(){this.ba=null;this.ca=0}uc.prototype.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};function vc(a){var b=Q(a.ba,a.ca,6);return b?nc(new mc,a.ca+b,a.ba):null}function wc(a){var b=Q(a.ba,a.ca,8);return b?nc(new mc,a.ca+b,a.ba):null}function xc(a){var b=Q(a.ba,a.ca,10);return b?nc(new mc,a.ca+b,a.ba):null}
uc.prototype.specular=function(a){var b=Q(this.ba,this.ca,12);return b?nc(a||new mc,this.ca+b,this.ba):null};uc.prototype.shininess=function(){var a=Q(this.ba,this.ca,14);return a?fc(this.ba,this.ca+a):1};uc.prototype.name=function(a){var b=Q(this.ba,this.ca,16);return b?ic(this.ba,this.ca+b,a):null};function yc(){this.ba=null;this.ca=0}g=yc.prototype;g.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};
g.color=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):-1};g.material=function(){var a=Q(this.ba,this.ca,8);return a?P(this.ba,this.ca+a):-1};g.textures=function(a){var b=Q(this.ba,this.ca,14);return b?P(this.ba,S(this.ba,this.ca+b)+4*a):0};function zc(a){var b=Q(a.ba,a.ca,14);return b?T(a.ba,a.ca+b):0}g.name=function(a){var b=Q(this.ba,this.ca,16);return b?ic(this.ba,this.ca+b,a):null};function Ac(){this.ba=null;this.ca=0}
Ac.prototype.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};Ac.prototype.uuid=function(a){var b=Q(this.ba,this.ca,6);return b?kc(a||new jc,this.ca+b,this.ba):null};function Bc(a){var b=Q(a.ba,a.ca,8);return b?kc(new jc,a.ca+b,a.ba):null}Ac.prototype.name=function(a){var b=Q(this.ba,this.ca,10);return b?ic(this.ba,this.ca+b,a):null};function Dc(){this.ba=null;this.ca=0}Dc.prototype.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};
Dc.prototype.name=function(a){var b=Q(this.ba,this.ca,6);return b?ic(this.ba,this.ca+b,a):null};Dc.prototype.uuid=function(a){var b=Q(this.ba,this.ca,8);return b?kc(a||new jc,this.ca+b,this.ba):null};function Ec(a){var b=Q(a.ba,a.ca,10);return b?kc(new jc,a.ca+b,a.ba):null}function Fc(){this.ba=null;this.ca=0}Fc.prototype.index=function(a){var b=Q(this.ba,this.ca,4);return b?P(this.ba,S(this.ba,this.ca+b)+4*a)>>>0:0};
Fc.prototype.normal=function(a){var b=Q(this.ba,this.ca,8);return b?fc(this.ba,S(this.ba,this.ca+b)+4*a):0};Fc.prototype.color=function(a){var b=Q(this.ba,this.ca,10);return b?fc(this.ba,S(this.ba,this.ca+b)+4*a):0};Fc.prototype.od=function(a){var b=Q(this.ba,this.ca,12);return b?fc(this.ba,S(this.ba,this.ca+b)+4*a):0};function Gc(){this.ba=null;this.ca=0}function Hc(a,b,c){a.ca=b;a.ba=c;return a}g=Gc.prototype;g.type=function(){var a=Q(this.ba,this.ca,4);return a?bc(this.ba,this.ca+a):0};
g.geometry=function(a){var b=Q(this.ba,this.ca,6);if(b){a=a||new Fc;var c=this.ba;a.ca=R(this.ba,this.ca+b);a.ba=c;b=a}else b=null;return b};g.appearance=function(){var a=Q(this.ba,this.ca,8);return a?P(this.ba,this.ca+a):-1};g.appearanceRanges=function(a){var b=Q(this.ba,this.ca,10);return b?P(this.ba,S(this.ba,this.ca+b)+4*a)>>>0:0};function Ic(a){var b=Q(a.ba,a.ca,10);return b?new Uint32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+b),T(a.ba,a.ca+b)):null}
g.appearances=function(a){var b=Q(this.ba,this.ca,12);return b?P(this.ba,S(this.ba,this.ca+b)+4*a):0};function Jc(a){var b=Q(a.ba,a.ca,12);return b?new Int32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+b),T(a.ba,a.ca+b)):null}function Kc(a){var b=Q(a.ba,a.ca,14);return b?new Uint32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+b),T(a.ba,a.ca+b)):null}g.Le=function(a){var b=Q(this.ba,this.ca,16);return b?P(this.ba,S(this.ba,this.ca+b)+4*a)>>>0:0};
function Lc(a){var b=Q(a.ba,a.ca,16);return b?new Uint32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+b),T(a.ba,a.ca+b)):null}function Mc(){this.ba=null;this.ca=0}Mc.prototype.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};Mc.prototype.name=function(a){var b=Q(this.ba,this.ca,6);return b?ic(this.ba,this.ca+b,a):null};Mc.prototype.prs=function(a){var b=Q(this.ba,this.ca,8);return b?kc(a||new jc,this.ca+b,this.ba):null};
function Nc(a){var b=Q(a.ba,a.ca,10);return b?kc(new jc,a.ca+b,a.ba):null}function Oc(){this.ba=null;this.ca=0}Oc.prototype.id=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};Oc.prototype.name=function(a){var b=Q(this.ba,this.ca,6);return b?ic(this.ba,this.ca+b,a):null};Oc.prototype.prs=function(a){var b=Q(this.ba,this.ca,8);return b?kc(a||new jc,this.ca+b,this.ba):null};function Pc(a){var b=Q(a.ba,a.ca,10);return b?kc(new jc,a.ca+b,a.ba):null}
function Qc(){this.ba=null;this.ca=0}g=Qc.prototype;g.type=function(){var a=Q(this.ba,this.ca,4);return a?bc(this.ba,this.ca+a):0};g.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):0};g.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};g.uuid=function(a){var b=Q(this.ba,this.ca,10);return b?kc(a||new jc,this.ca+b,this.ba):null};g.appearance=function(){var a=Q(this.ba,this.ca,12);return a?P(this.ba,this.ca+a):-1};
g.pmi=function(){var a=Q(this.ba,this.ca,16);return a?P(this.ba,this.ca+a):-1};g.representations=function(a){var b=Q(this.ba,this.ca,20);return b?P(this.ba,S(this.ba,this.ca+b)+4*a):0};function Rc(a){var b=Q(a.ba,a.ca,20);return b?T(a.ba,a.ca+b):0}function Sc(a){var b=Q(a.ba,a.ca,24);if(b){var c=new lc,d=a.ba;c.ca=a.ca+b;c.ba=d;a=c}else a=null;return a}g.children=function(a){var b=Q(this.ba,this.ca,26);return b?P(this.ba,S(this.ba,this.ca+b)+4*a):0};
function Tc(a){var b=Q(a.ba,a.ca,26);return b?T(a.ba,a.ca+b):0}function Uc(){this.ba=null;this.ca=0}Uc.prototype.data=function(a,b){var c=Q(this.ba,this.ca,4);if(c){b=b||new Qc;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function Vc(a){var b=Q(a.ba,a.ca,4);return b?T(a.ba,a.ca+b):0}function Wc(a,b){var c=Q(a.ba,a.ca,6);return c?P(a.ba,S(a.ba,a.ca+c)+4*b):0}function Xc(a){var b=Q(a.ba,a.ca,6);return b?T(a.ba,a.ca+b):0}
function Yc(){this.ba=null;this.ca=0}Yc.prototype.name=function(a){var b=Q(this.ba,this.ca,6);return b?ic(this.ba,this.ca+b,a):null};Yc.prototype.appearance=function(){var a=Q(this.ba,this.ca,8);return a?P(this.ba,this.ca+a):-1};Yc.prototype.pmi=function(a){var b=Q(this.ba,this.ca,12);return b?P(this.ba,S(this.ba,this.ca+b)+4*a):0};function Zc(){this.ba=null;this.ca=0}Zc.prototype.za=function(a){var b=Q(this.ba,this.ca,4);return b?Hc(a||new Gc,R(this.ba,this.ca+b),this.ba):null};
function $c(a){var b=Q(a.ba,a.ca,6);return b?Hc(new Gc,R(a.ba,a.ca+b),a.ba):null}function ad(){this.ba=null;this.ca=0}ad.prototype.type=function(){var a=Q(this.ba,this.ca,4);return a?bc(this.ba,this.ca+a):0};ad.prototype.prs=function(a,b){var c=Q(this.ba,this.ca,6);if(c){b=b||new Zc;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function bd(){this.ba=null;this.ca=0}bd.prototype.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):0};
function cd(){this.ba=null;this.ca=0}cd.prototype.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):-1};function dd(){this.ba=null;this.ca=0}dd.prototype.value=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};function ed(){this.ba=null;this.ca=0}ed.prototype.value=function(){var a=Q(this.ba,this.ca,4);return a?ec(this.ba,this.ca+a):$b};function fd(){this.ba=null;this.ca=0}
fd.prototype.value=function(){var a=Q(this.ba,this.ca,4);return a?fc(this.ba,this.ca+a):0};function gd(){this.ba=null;this.ca=0}gd.prototype.value=function(){var a=Q(this.ba,this.ca,4);return a?gc(this.ba,this.ca+a):0};function hd(){this.ba=null;this.ca=0}hd.prototype.value=function(){var a=Q(this.ba,this.ca,4);return a?ec(this.ba,this.ca+a):$b};function jd(){this.ba=null;this.ca=0}jd.prototype.value=function(a){var b=Q(this.ba,this.ca,4);return b?ic(this.ba,this.ca+b,a):null};
function kd(){this.ba=null;this.ca=0}kd.prototype.value=function(a){var b=Q(this.ba,this.ca,4);return b?pc(a||new oc,this.ca+b,this.ba):null};function ld(){this.ba=null;this.ca=0}ld.prototype.value=function(a){var b=Q(this.ba,this.ca,4);if(b){a=a||new sc;var c=this.ba;a.ca=this.ca+b;a.ba=c;b=a}else b=null;return b};function md(){this.ba=null;this.ca=0}md.prototype.name=function(a){var b=Q(this.ba,this.ca,4);return b?ic(this.ba,this.ca+b,a):null};
md.prototype.value=function(a){var b=Q(this.ba,this.ca,8);return b?hc(this.ba,a,this.ca+b):null};function nd(){this.ba=null;this.ca=0}nd.prototype.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):-1};nd.prototype.data=function(a,b){var c=Q(this.ba,this.ca,8);if(c){b=b||new md;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function od(){this.ba=null;this.ca=0}
od.prototype.name=function(a){var b=Q(this.ba,this.ca,4);return b?ic(this.ba,this.ca+b,a):null};od.prototype.location=function(a){var b=Q(this.ba,this.ca,6);return b?pc(a||new oc,this.ca+b,this.ba):null};od.prototype.target=function(a){var b=Q(this.ba,this.ca,8);return b?pc(a||new oc,this.ca+b,this.ba):null};od.prototype.up=function(a){var b=Q(this.ba,this.ca,10);return b?pc(a||new oc,this.ca+b,this.ba):null};function pd(){this.ba=null;this.ca=0}
function qd(a){var b=Q(a.ba,a.ca,4);return b?Hc(new Gc,R(a.ba,a.ca+b),a.ba):null}function rd(){this.ba=null;this.ca=0}function sd(a){var b=Q(a.ba,a.ca,6);return b?Hc(new Gc,R(a.ba,a.ca+b),a.ba):null}function td(){this.ba=null;this.ca=0}td.prototype.prs=function(a){var b=Q(this.ba,this.ca,4);return b?Hc(a||new Gc,R(this.ba,this.ca+b),this.ba):null};function ud(){this.ba=null;this.ca=0}
function vd(a){var b=Q(a.ba,a.ca,4);if(b){var c=new td,d=a.ba;c.ca=R(a.ba,a.ca+b);c.ba=d;a=c}else a=null;return a}function wd(){this.ba=null;this.ca=0}function xd(a){var b=Q(a.ba,a.ca,6);return b?Hc(new Gc,R(a.ba,a.ca+b),a.ba):null}function yd(){this.ba=null;this.ca=0}function zd(a,b){var c=Q(a.ba,a.ca,4);return c?a.ba.aa[S(a.ba,a.ca+c)+b]:0}function Ad(a){var b=Q(a.ba,a.ca,4);return b?T(a.ba,a.ca+b):0}
yd.prototype.outlines=function(a,b){var c=Q(this.ba,this.ca,6);return c?hc(this.ba,b,S(this.ba,this.ca+c)+4*a):null};function Bd(a){var b=Q(a.ba,a.ca,6);return b?T(a.ba,a.ca+b):0}function Cd(){this.ba=null;this.ca=0}function Dd(a){var b=Q(a.ba,a.ca,4);return b?a.ba.aa[a.ca+b]:0}Cd.prototype.outline=function(a){var b=Q(this.ba,this.ca,6);return b?hc(this.ba,a,this.ca+b):null};function Ed(){this.ba=null;this.ca=0}
Ed.prototype.text=function(a){var b=Q(this.ba,this.ca,4);return b?ic(this.ba,this.ca+b,a):null};Ed.prototype.origin=function(a){var b=Q(this.ba,this.ca,6);return b?rc(a||new qc,this.ca+b,this.ba):null};function Fd(a){var b=Q(a.ba,a.ca,8);return b?fc(a.ba,a.ca+b):0}function Gd(a){var b=Q(a.ba,a.ca,10);return b?a.ba.aa[a.ca+b]:0}Ed.prototype.outline=function(a){var b=Q(this.ba,this.ca,12);return b?hc(this.ba,a,this.ca+b):null};function Hd(){this.ba=null;this.ca=0}
function Id(){this.ba=null;this.ca=0}g=Id.prototype;g.version=function(){var a=Q(this.ba,this.ca,4);return a?this.ba.aa[this.ca+a]:1};g.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):0};g.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};g.type=function(){var a=Q(this.ba,this.ca,10);return a?dc(this.ba,this.ca+a):1E3};g.plane=function(){var a=Q(this.ba,this.ca,12);return a?P(this.ba,this.ca+a):-1};
g.components=function(a,b){var c=Q(this.ba,this.ca,18);return c?hc(this.ba,b,S(this.ba,this.ca+c)+4*a):null};function Jd(){this.ba=null;this.ca=0}g=Jd.prototype;g.version=function(){var a=Q(this.ba,this.ca,4);return a?this.ba.aa[this.ca+a]:1};g.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):0};g.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};g.type=function(){var a=Q(this.ba,this.ca,10);return a?dc(this.ba,this.ca+a):1E3};
g.properties=function(){var a=Q(this.ba,this.ca,12);return a?P(this.ba,this.ca+a):-1};g.graphicalElement=function(a){var b=Q(this.ba,this.ca,14);if(b){a=a||new Id;var c=this.ba;a.ca=R(this.ba,this.ca+b);a.ba=c;b=a}else b=null;return b};function Kd(){this.ba=null;this.ca=0}Kd.prototype.version=function(){var a=Q(this.ba,this.ca,4);return a?this.ba.aa[this.ca+a]:1};Kd.prototype.name=function(a){var b=Q(this.ba,this.ca,6);return b?ic(this.ba,this.ca+b,a):null};
Kd.prototype.camera=function(a){var b=Q(this.ba,this.ca,10);if(b){a=a||new od;var c=this.ba;a.ca=R(this.ba,this.ca+b);a.ba=c;b=a}else b=null;return b};function Ld(){this.ba=null;this.ca=0}Ld.prototype.version=function(){var a=Q(this.ba,this.ca,4);return a?this.ba.aa[this.ca+a]:1};Ld.prototype.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):0};Ld.prototype.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};
Ld.prototype.location=function(a){var b=Q(this.ba,this.ca,10);return b?pc(a||new oc,this.ca+b,this.ba):null};function Md(){this.ba=null;this.ca=0}Md.prototype.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):0};Md.prototype.version=function(){var a=Q(this.ba,this.ca,8);return a?this.ba.aa[this.ca+a]:1};Md.prototype.planes=function(a,b){var c=Q(this.ba,this.ca,14);if(c){b=b||new Ld;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};
Md.prototype.data=function(a,b){var c=Q(this.ba,this.ca,16);if(c){b=b||new Jd;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function Nd(){this.ba=null;this.ca=0}Nd.prototype.blendMode=function(){var a=Q(this.ba,this.ca,14);return a?bc(this.ba,this.ca+a):0};Nd.prototype.mappingMode=function(){var a=Q(this.ba,this.ca,16);return a?bc(this.ba,this.ca+a):0};Nd.prototype.rotation=function(){var a=Q(this.ba,this.ca,18);return a?fc(this.ba,this.ca+a):0};
Nd.prototype.scale=function(a){var b=Q(this.ba,this.ca,20);return b?rc(a||new qc,this.ca+b,this.ba):null};function Od(){this.ba=null;this.ca=0}Od.prototype.pixelFormat=function(){var a=Q(this.ba,this.ca,4);return a?bc(this.ba,this.ca+a):1};Od.prototype.width=function(){var a=Q(this.ba,this.ca,6);return a?dc(this.ba,this.ca+a):0};Od.prototype.height=function(){var a=Q(this.ba,this.ca,8);return a?dc(this.ba,this.ca+a):0};
Od.prototype.pixelData=function(a){var b=Q(this.ba,this.ca,10);return b?this.ba.aa[S(this.ba,this.ca+b)+a]:0};function Pd(){this.ba=null;this.ca=0}g=Pd.prototype;g.version=function(){var a=Q(this.ba,this.ca,4);return a?this.ba.aa[this.ca+a]:1};g.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):-1};g.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};g.type=function(){var a=Q(this.ba,this.ca,10);return a?bc(this.ba,this.ca+a):1};
g.parameters=function(a){var b=Q(this.ba,this.ca,12);if(b){a=a||new Nd;var c=this.ba;a.ca=R(this.ba,this.ca+b);a.ba=c;b=a}else b=null;return b};function Qd(a){var b=Q(a.ba,a.ca,14);return b?ic(a.ba,a.ca+b,void 0):null}function Rd(){this.ba=null;this.ca=0}g=Rd.prototype;g.version=function(){var a=Q(this.ba,this.ca,4);return a?this.ba.aa[this.ca+a]:1};g.id=function(){var a=Q(this.ba,this.ca,6);return a?P(this.ba,this.ca+a):-1};
g.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};g.type=function(){var a=Q(this.ba,this.ca,10);return a?bc(this.ba,this.ca+a):1};g.parameters=function(a){var b=Q(this.ba,this.ca,12);if(b){a=a||new Nd;var c=this.ba;a.ca=R(this.ba,this.ca+b);a.ba=c;b=a}else b=null;return b};g.lb=function(a){var b=Q(this.ba,this.ca,14);if(b){a=a||new Od;var c=this.ba;a.ca=R(this.ba,this.ca+b);a.ba=c;b=a}else b=null;return b};function Sd(){this.ba=null;this.ca=0}
Sd.prototype.version=function(){var a=Q(this.ba,this.ca,4);return a?P(this.ba,this.ca+a):0};Sd.prototype.name=function(a){var b=Q(this.ba,this.ca,8);return b?ic(this.ba,this.ca+b,a):null};Sd.prototype.creationTime=function(){var a=Q(this.ba,this.ca,10);if(a){var b=this.ba;a=this.ca+a;b=new Yb(P(b,a)>>>0,P(b,a+4)>>>0)}else b=$b;return b};function Td(){this.ba=null;this.ca=0}
Td.prototype.data=function(a,b){var c=Q(this.ba,this.ca,4);if(c){b=b||new Mc;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function Ud(a){var b=Q(a.ba,a.ca,4);return b?T(a.ba,a.ca+b):0}function Vd(){this.ba=null;this.ca=0}Vd.prototype.data=function(a,b){var c=Q(this.ba,this.ca,4);if(c){b=b||new Oc;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function Wd(a){var b=Q(a.ba,a.ca,4);return b?T(a.ba,a.ca+b):0}
function Xd(){this.ba=null;this.ca=0}function Yd(a){var b=new Xd,c=P(a,a.position())+a.position();b.ca=c;b.ba=a;return b}g=Xd.prototype;g.uuid=function(a){var b=Q(this.ba,this.ca,4);return b?kc(a||new jc,this.ca+b,this.ba):null};g.colors=function(a,b){var c=Q(this.ba,this.ca,8);if(c){b=b||new tc;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function Zd(a){var b=Q(a.ba,a.ca,8);return b?T(a.ba,a.ca+b):0}
function $d(a,b,c){var d=Q(a.ba,a.ca,10);if(d){c=c||new uc;var e=a.ba;c.ca=R(a.ba,S(a.ba,a.ca+d)+4*b);c.ba=e;a=c}else a=null;return a}function ae(a){var b=Q(a.ba,a.ca,10);return b?T(a.ba,a.ca+b):0}g.appearances=function(a,b){var c=Q(this.ba,this.ca,12);if(c){b=b||new yc;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function be(a){var b=Q(a.ba,a.ca,12);return b?T(a.ba,a.ca+b):0}
g.properties=function(a,b){var c=Q(this.ba,this.ca,14);if(c){b=b||new Ac;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};function ce(a){var b=Q(a.ba,a.ca,14);return b?T(a.ba,a.ca+b):0}function de(a){var b=Q(a.ba,a.ca,16);if(b){var c=new Td,d=a.ba;c.ca=R(a.ba,a.ca+b);c.ba=d;a=c}else a=null;return a}function ee(a){var b=Q(a.ba,a.ca,18);if(b){var c=new Vd,d=a.ba;c.ca=R(a.ba,a.ca+b);c.ba=d;a=c}else a=null;return a}
function fe(a){var b=Q(a.ba,a.ca,20);if(b){var c=new Uc,d=a.ba;c.ca=R(a.ba,a.ca+b);c.ba=d;a=c}else a=null;return a}function ge(a,b,c){var d=Q(a.ba,a.ca,22);if(d){c=c||new Dc;var e=a.ba;c.ca=R(a.ba,S(a.ba,a.ca+d)+4*b);c.ba=e;a=c}else a=null;return a}function he(a){var b=Q(a.ba,a.ca,22);return b?T(a.ba,a.ca+b):0}function ie(a,b){var c=Q(a.ba,a.ca,24);return c?a.ba.aa[S(a.ba,a.ca+c)+b]:0}function je(a){var b=Q(a.ba,a.ca,24);return b?T(a.ba,a.ca+b):0}
g.textures=function(a,b){var c=Q(this.ba,this.ca,26);return c?hc(this.ba,b,S(this.ba,this.ca+c)+4*a):null};function ke(){this.ba=null;this.ca=0}ke.prototype.id=function(a){var b=Q(this.ba,this.ca,4);return b?kc(a||new jc,this.ca+b,this.ba):null};ke.prototype.type=function(){var a=Q(this.ba,this.ca,6);return a?bc(this.ba,this.ca+a):1};ke.prototype.data=function(a){var b=Q(this.ba,this.ca,8);return b?this.ba.aa[S(this.ba,this.ca+b)+a]:0};function le(){this.ba=null;this.ca=0}
le.prototype.data=function(a,b){var c=Q(this.ba,this.ca,6);if(c){b=b||new ke;var d=this.ba;b.ca=R(this.ba,S(this.ba,this.ca+c)+4*a);b.ba=d;a=b}else a=null;return a};
function me(a){if(!a)return"00000000-0000-0000-0000-000000000000";var b="",c=a.ba.aa[a.ca].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+1].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+2].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+3].toString(16);1===c.length&&(c="0"+c);b=b+c+"-";c=a.ba.aa[a.ca+4].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+5].toString(16);1===c.length&&(c="0"+c);b=b+c+"-";c=a.ba.aa[a.ca+6].toString(16);1===c.length&&(c="0"+c);b+=
c;c=a.ba.aa[a.ca+7].toString(16);1===c.length&&(c="0"+c);b+=c;b+="-";c=a.ba.aa[a.ca+8].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+9].toString(16);1===c.length&&(c="0"+c);b+=c;b+="-";c=a.ba.aa[a.ca+10].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+11].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+12].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+13].toString(16);1===c.length&&(c="0"+c);b+=c;c=a.ba.aa[a.ca+14].toString(16);1===c.length&&(c="0"+c);b+=c;
a=a.ba.aa[a.ca+15].toString(16);1===a.length&&(a="0"+a);return b+=a}function ne(a){return new D(a.r(),a.g(),a.b(),a.a())}function oe(a){var b=new Uint8Array(a,0,2);66===b[0]&&49===b[1]?(a=new Uint8Array(a,2),a=pako.inflate(a)):(console.error("Unrecognized compression encountered"),a=void 0);if(a)return a=new Uint8Array(a),new ac(a)}
function pe(a){var b={};if(!a)return b;var c;if(c=(c=Q(a.ba,a.ca,4))?new Uint32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+c),T(a.ba,a.ca+c)):null)b.indexes=c;c=(c=Q(a.ba,a.ca,6))?new Float32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+c),T(a.ba,a.ca+c)):null;b.Ua=c;if(c=(c=Q(a.ba,a.ca,8))?new Float32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+c),T(a.ba,a.ca+c)):null)b.normals=c;if(c=(c=Q(a.ba,a.ca,10))?new Float32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+c),T(a.ba,
a.ca+c)):null)b.colors=c;if(a=(c=Q(a.ba,a.ca,12))?new Float32Array(a.ba.aa.buffer,a.ba.aa.byteOffset+S(a.ba,a.ca+c),T(a.ba,a.ca+c)):null)b.od=a;return b}
function qe(a,b){if(a){var c=pe(a.geometry());if(c){var d=a.appearance(),e;-1!==d&&b[d]&&(e=b[d]);switch(a.type()){case 0:return a=new O,a.coords=c.Ua,a.indexes=c.indexes,a.normals=c.normals,a.colors=c.colors,a.uvCoordinates=c.od,a.appearance=e,a;case 1:return a=new Sb,a.coords=c.Ua,a.indexes=c.indexes,a.colors=c.colors,a.ma=[c.indexes?c.indexes.length:0],a.appearance=e,a;case 2:return a=new Tb,a.coords=c.Ua,a.colors=c.colors,a.appearance=e,a}}}}
function re(a,b,c){this.fa=a;this.ea=b;this.aa=c;this.da=void 0}function se(a){return a.aa?a.aa(a.fa,a.ea).then(function(b){a.aa=void 0;return a.da=b}):Promise.resolve(a.da)}function te(a,b,c,d,e){Sb.call(this);this.aa=b;if(this.ga=a)this.ea=[a.length];this.ja=c;d instanceof Array?this.ia=d:this.appearance=d;this.na=e}q(te,Sb);y.Object.defineProperties(te.prototype,{appearances:{configurable:!0,enumerable:!0,get:function(){return this.ia}},appearanceRanges:{configurable:!0,enumerable:!0,get:function(){return this.ja}}});
function ue(a,b,c,d,e,f){O.call(this);this.aa=b;this.ea=c;this.ma=a;this.ja=d;e instanceof Array?this.ia=e:this.appearance=e;this.na=f}q(ue,O);y.Object.defineProperties(ue.prototype,{appearances:{configurable:!0,enumerable:!0,get:function(){return this.ia}},appearanceRanges:{configurable:!0,enumerable:!0,get:function(){return this.ja}}});function ve(a,b,c,d){Tb.call(this);this.aa=a;this.ja=b;c instanceof Array?this.ia=c:this.appearance=c;this.na=d}q(ve,Tb);
y.Object.defineProperties(ve.prototype,{appearances:{configurable:!0,enumerable:!0,get:function(){return this.ia}},appearanceRanges:{configurable:!0,enumerable:!0,get:function(){return this.ja}}});function we(a,b,c,d){this.da=new re(a?me(a):void 0,me(b),c);this.aa=d}q(we,Ua);
we.prototype.ta=function(a){var b=this;return a?se(this.da).then(function(c){if(c){var d=new bd,e=P(c,c.position())+c.position();d.ca=e;d.ba=c;c=0;for(e=(e=Q(d.ba,d.ca,8))?T(d.ba,d.ca+e):0;c<e;c++){var f;if(f=Q(d.ba,d.ca,8)){var h=d.ba,k=new ad;k.ca=R(d.ba,S(d.ba,d.ca+f)+4*c);k.ba=h;f=k}else f=null;h=new Sa;h.bodyType=f.type()||0;k=new Qa;var l=0,n;for(n=(n=Q(f.ba,f.ca,6))?T(f.ba,f.ca+n):0;l<n;l++){var m=f.prs(l);k.append(xe(m.za(),b.aa),xe($c(m),b.aa))}h.prs=k;a.add(h)}b.aa=void 0}}):Promise.reject(Error("Unable to feed invalid brep representation."))};
function xe(a,b){if(a){var c=pe(a.geometry());if(c){var d=Ic(a),e=Jc(a),f=a.appearance();if(e&&d){var h=Array(e.length);e.forEach(function(l,n){h[n]=-1===l?null:b[l]});e=h}else d=void 0,-1!==f&&b[f]?e=b[f]:e=void 0;f=Kc(a);var k=Lc(a);switch(a.type()){case 0:return new ue(c.indexes,c.Ua,c.normals,d,e,f,k);case 1:return new te(c.indexes,c.Ua,d,e,f,k);case 2:return new ve(c.Ua,d,e,f,k)}}}}function ye(a,b){this.da=function(c){return a(void 0,c,!0)};this.aa=b}q(ye,Wa);
ye.prototype.ta=function(a){if(!a||!a.filePath)return Promise.reject(Error("Unable to feed invalid file texture."));var b=a.filePath,c=ze(b);if(!c)return Promise.reject(Error("Unsupported texture file mime type"));if(this.aa&&this.aa[b])return this.aa[b].then(function(e){a.set(e)});var d=this.da(b).then(function(e){switch(c){case "image/x-tga":return Ae(e);default:return Be(e,c)}}).then(function(e){a.set(e);return e}).catch(function(e){console.warn("Unable to feed file texture: "+e.message)});this.aa&&
(this.aa[b]=d,this.aa=void 0);return d};function ze(a){switch(a.substr((~-a.lastIndexOf(".")>>>0)+2).toLowerCase()){case "png":return"image/png";case "jpg":case "jpeg":return"image/jpeg";case "gif":return"image/gif";case "bmp":return"image/x-ms-bmp";case "tga":return"image/x-tga"}}
function Be(a,b){return new Promise(function(c,d){function e(l){h.removeEventListener("load",f,!1);h.removeEventListener("error",e,!1);k.revokeObjectURL(h.src);d(l)}function f(){h.removeEventListener("load",f,!1);h.removeEventListener("error",e,!1);k.revokeObjectURL(h.src);c(h)}var h=document.createElementNS("http://www.w3.org/1999/xhtml","img"),k=window.URL||window.webkitURL;h.addEventListener("load",f,!1);h.addEventListener("error",e,!1);h.src=k.createObjectURL(new Blob([new Uint8Array(a)],{type:b}))})}
function Ae(a){if(19>a.byteLength)return Promise.reject(Error("Unable to load tga file: Not enough data to contain header."));var b=new Uint8Array(a),c=0,d={Yc:b[c++],Tc:b[c++],Zb:b[c++],Ke:b[c++]|b[c++]<<8,Rc:b[c++]|b[c++]<<8,Sc:b[c++],origin:[b[c++]|b[c++]<<8,b[c++]|b[c++]<<8],width:b[c++]|b[c++]<<8,height:b[c++]|b[c++]<<8,Ha:b[c++],flags:b[c++]},e=function(m){switch(m.Zb){case 1:case 9:if(256<m.Rc||24!==m.Sc||1!==m.Tc)return"Invalid type colormap data for indexed type.";break;case 2:case 3:case 10:case 11:if(m.Tc)return"Invalid type colormap data for colormap type.";
break;case 0:return"No data.";default:return'Invalid type "'+m.Zb+'".'}if(0>=m.width||0>=m.height)return"Invalid image size.";if(8!==m.Ha&&16!==m.Ha&&24!==m.Ha&&32!==m.Ha)return'Invalid pixel size "'+m.Ha+'".'}(d);if(e)return Promise.reject(Error("Unable to load tga file: "+e));if(d.Yc+c>a.byteLength)return Promise.reject(Error("Unable to load tga file: No data"));c+=d.Yc;var f=e=!1,h=!1;switch(d.Zb){case 9:f=e=!0;break;case 1:f=!0;break;case 10:e=!0;break;case 11:h=e=!0;break;case 3:h=!0}var k=(a=
"undefined"!==typeof OffscreenCanvas)?new OffscreenCanvas(d.width,d.height):document.createElement("canvas");k.width=d.width;k.height=d.height;var l=k.getContext("2d"),n=l.createImageData(d.width,d.height);b=function(m,p,r,t,v){var C;var z=r.Ha>>3;var w=r.width*r.height*z;p&&(C=v.subarray(t,t+=r.Rc*(r.Sc>>3)));if(m){m=new Uint8Array(w);r=0;for(var x=new Uint8Array(z);r<w;){var A=v[t++];p=(A&127)+1;if(A&128){for(A=0;A<z;++A)x[A]=v[t++];for(A=0;A<p;++A)m.set(x,r+A*z);r+=z*p}else{p*=z;for(A=0;A<p;++A)m[r+
A]=v[t++];r+=p}}}else m=v.subarray(t,t+(p?r.width*r.height:w));return{re:m,qe:C}}(e,f,d,c,b);if(e=function(m,p,r,t,v){switch((d.flags&48)>>4){default:case 0:var C=0;var z=1;var w=p;p=0;var x=1;var A=r;break;case 2:C=0;z=1;w=p;p=r-1;A=x=-1;break;case 3:C=p-1;w=z=-1;p=0;x=1;A=r;break;case 1:C=p-1,w=z=-1,p=r-1,A=x=-1}if(h)switch(d.Ha){case 8:v=x;r=A;A=0;x=d.width;for(var u=p;u!==r;u+=v)for(var F=C;F!==w;F+=z,A++)p=t[A],m[4*(F+x*u)]=p,m[4*(F+x*u)+1]=p,m[4*(F+x*u)+2]=p,m[4*(F+x*u)+3]=255;break;case 16:v=
x;r=A;A=0;for(x=d.width;p!==r;p+=v)for(u=C;u!==w;u+=z,A+=2)m[4*(u+x*p)]=t[A],m[4*(u+x*p)+1]=t[A],m[4*(u+x*p)+2]=t[A],m[4*(u+x*p)+3]=t[A+1];break;default:return"Format not supported."}else switch(d.Ha){case 8:r=x;x=0;u=d.width;for(F=p;F!==A;F+=r)for(var E=C;E!==w;E+=z,x++)p=t[x],m[4*(E+u*F)+3]=255,m[4*(E+u*F)+2]=v[3*p],m[4*(E+u*F)+1]=v[3*p+1],m[4*(E+u*F)]=v[3*p+2];break;case 16:v=x;r=A;A=0;x=d.width;for(u=p;u!==r;u+=v)for(F=C;F!==w;F+=z,A+=2)p=t[A]+(t[A+1]<<8),m[4*(F+x*u)]=(p&31744)>>7,m[4*(F+x*u)+
1]=(p&992)>>2,m[4*(F+x*u)+2]=(p&31)>>3,m[4*(F+x*u)+3]=p&32768?0:255;break;case 24:v=x;r=A;A=0;for(x=d.width;p!==r;p+=v)for(u=C;u!==w;u+=z,A+=3)m[4*(u+x*p)+3]=255,m[4*(u+x*p)+2]=t[A],m[4*(u+x*p)+1]=t[A+1],m[4*(u+x*p)]=t[A+2];break;case 32:v=x;r=A;A=0;for(x=d.width;p!==r;p+=v)for(u=C;u!==w;u+=z,A+=4)m[4*(u+x*p)+2]=t[A],m[4*(u+x*p)+1]=t[A+1],m[4*(u+x*p)]=t[A+2],m[4*(u+x*p)+3]=t[A+3];break;default:return"Format not supported."}}(n.data,d.width,d.height,b.re,b.qe))return Promise.reject(Error("Unable to load tga file: "+
e));l.putImageData(n,0,0);return a?k.transferToImageBitmap():k}function Ce(){this.aa=[]}q(Ce,$a);g=Ce.prototype;g.append=function(a){a instanceof $a&&this.aa.push(a)};g.isEmpty=function(){return 0===this.aa.length};g.Qd=function(){return this.aa.length};g.outline=function(a){return this.aa[a]};
g.accept=function(a){var b=this,c=Promise.resolve();a.visitCompositeOutlineEnter&&(c=c.then(a.visitCompositeOutlineEnter(this)).then(function(d){if(d)return Ea(b.aa,function(e){return e.accept(a)})}).then(function(){a.visitCompositeOutlineLeave&&a.visitCompositeOutlineLeave(b)}));return c};y.Object.defineProperties(Ce.prototype,{outlines:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});Ce.prototype.accept=Ce.prototype.accept;Ce.prototype.outline=Ce.prototype.outline;
Ce.prototype.numberOfOutlines=Ce.prototype.Qd;Ce.prototype.isEmpty=Ce.prototype.isEmpty;Ce.prototype.append=Ce.prototype.append;function De(){this.aa=this.da=void 0}q(De,$a);De.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitCurve2dOutline&&(c=c.then(function(){return a.visitCurve2dOutline(b)}));return c};
y.Object.defineProperties(De.prototype,{fa:{configurable:!0,enumerable:!0,get:function(){return this.da||null},set:function(a){this.da=a instanceof Qb?a:void 0}},lineSet3d:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a instanceof Qb?a:void 0}}});De.prototype.accept=De.prototype.accept;function Ee(){this.aa=void 0}q(Ee,$a);
Ee.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitCurveOutline&&(c=c.then(function(){return a.visitCurveOutline(b)}));return c};y.Object.defineProperties(Ee.prototype,{da:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a instanceof Rb?a:void 0}}});Ee.prototype.accept=Ee.prototype.accept;function Fe(a){this.aa=a}q(Fe,Ya);
Fe.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitOutlinedComponent&&(c=c.then(function(){return a.visitOutlinedComponent(b)}));return c};y.Object.defineProperties(Fe.prototype,{outline:{configurable:!0,enumerable:!0,get:function(){return this.aa||null},set:function(a){this.aa=a instanceof $a?a:void 0}}});Fe.prototype.accept=Fe.prototype.accept;function Ge(a){this.da=a;this.aa=void 0}q(Ge,$a);
Ge.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitPoly2dOutline&&(c=c.then(function(){return a.visitPoly2dOutline(b)}));return c};y.Object.defineProperties(Ge.prototype,{lineSet:{configurable:!0,enumerable:!0,get:function(){return this.da||null},set:function(a){this.da=a instanceof Ob?a:void 0}},lineSet3d:{configurable:!0,enumerable:!0,get:function(){return this.aa||null},set:function(a){this.aa=a instanceof Qb?a:void 0}}});Ge.prototype.accept=Ge.prototype.accept;
function He(a){this.aa=a}q(He,$a);He.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitPolyOutline&&(c=c.then(function(){return a.visitPolyOutline(b)}));return c};y.Object.defineProperties(He.prototype,{lineSet:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa=a instanceof Qb?a:void 0}}});He.prototype.accept=He.prototype.accept;function Ie(){this.text=null;this.fontSize=16;this.da=new N;this.aa=void 0}q(Ie,Ya);
Ie.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitTextComponent&&(c=c.then(function(){return a.visitTextComponent(b)}));return c};y.Object.defineProperties(Ie.prototype,{textOrigin:{configurable:!0,enumerable:!0,get:function(){return this.da},set:function(a){a instanceof N&&this.da.copy(a)}},outline:{configurable:!0,enumerable:!0,get:function(){return this.aa||null},set:function(a){a instanceof $a&&(this.aa=a)}}});Ie.prototype.accept=Ie.prototype.accept;
function Je(a){this.aa=a}q(Je,Ya);Je.prototype.accept=function(a){var b=this,c=Promise.resolve();a&&a.visitTriangulatedComponent&&(c=c.then(function(){return a.visitTriangulatedComponent(b)}));return c};y.Object.defineProperties(Je.prototype,{triangleSet:{configurable:!0,enumerable:!0,get:function(){return this.aa||null},set:function(a){a instanceof O?this.aa=a:this.aa=void 0}}});Je.prototype.accept=Je.prototype.accept;function Ke(a,b,c,d){this.da=new re(a?me(a):void 0,me(b),c);this.aa=d}q(Ke,nb);
Ke.prototype.ta=function(a){var b=this;return a?se(this.da).then(function(c){if(c){var d=new Md,e=P(c,c.position())+c.position();d.ca=e;d.ba=c;c=new Ld;e=0;var f;for(f=(f=Q(d.ba,d.ca,14))?T(d.ba,d.ca+f):0;e<f;e++)if(d.planes(e,c)){var h=Le(c.location());var k=(k=Q(c.ba,c.ca,12))?pc(new oc,c.ca+k,c.ba):null;k=Me(k);var l=(l=Q(c.ba,c.ca,14))?pc(new oc,c.ca+l,c.ba):null;l=Me(l);h=new db(h,k.Uc(l),k);h=new gb(h);h=new hb(h,c.name());k=c.id();-1!==k&&(b.aa[k]=h);a.Mc(h)}c=[];switch(d.version()){case 1:e=
new Id;f=0;for(h=(h=Q(d.ba,d.ca,10))?T(d.ba,d.ca+h):0;f<h;f++){if(k=Q(d.ba,d.ca,10)){l=e||new Id;var n=d.ba;l.ca=R(d.ba,S(d.ba,d.ca+k)+4*f);l.ba=n;k=l}else k=null;k&&(k=e.type(),"number"!==typeof k&&(k=1E3),k=new mb(k,e.name()),l=(l=Q(e.ba,e.ca,14))?P(e.ba,e.ca+l):-1,-1!==l&&k.gb(b.aa[l]),l=Ne(e),l.name=null,n=e.plane(),-1!==n&&(l.plane=b.aa[n]),k.graphicalElement=l,a.add(k),n=e.id(),-1!==n&&(b.aa[n]=k,c[n]=l))}break;case 2:for(e=new Jd,f=0,h=(h=Q(d.ba,d.ca,16))?T(d.ba,d.ca+h):0;f<h;f++)if(d.data(f,
e)){k=e.type();"number"!==typeof k&&(k=1E3);k=new mb(k,e.name());l=e.properties();-1!==l&&k.gb(b.aa[l]);if(n=e.graphicalElement()){l=Ne(n);var m=n.plane();-1!==m&&(l.plane=b.aa[m]);k.graphicalElement=l;n=n.id();-1!==n&&(b.aa[n]=l,c[n]=l)}a.add(k);l=e.id();-1!==l&&(b.aa[l]=k)}}e=new Kd;f=0;for(h=(h=Q(d.ba,d.ca,12))?T(d.ba,d.ca+h):0;f<h;f++)if((k=Q(d.ba,d.ca,12))?(l=e||new Kd,n=d.ba,l.ca=R(d.ba,S(d.ba,d.ca+k)+4*f),l.ba=n,k=l):k=null,k){k=void 0;(l=e.camera())&&(k=new bb(Le(l.location()),Le(l.target()),
Me(l.up()),l.name()));k=new jb(k,e.name());l=0;for(n=(n=Q(e.ba,e.ca,8))?T(e.ba,e.ca+n):0;l<n;l++)m=(m=Q(e.ba,e.ca,8))?P(e.ba,S(e.ba,e.ca+m)+4*l):0,-1!==m&&c[m]&&k.Lc(c[m]);a.Pc(k)}}}):Promise.reject(Error("Unable to feed invalid PMI table."))};function Le(a){if(a)return new H(a.x(),a.y(),a.z())}function Me(a){return a?new I(a.x(),a.y(),a.z()):new I}
function Oe(a,b){switch(a){case 1:a=new pd;if(b(a))return b=new He,a=qe(qd(a),[]),a instanceof Qb&&(b.lineSet=a),b;break;case 2:a=new rd;if(b(a))return b=new Ge,a=qe(sd(a),[]),a instanceof Qb&&(b.lineSet3d=a),b;break;case 3:a=new ud;if(b(a))return b=new Rb,a=vd(a),a=qe(a.prs(),[]),a instanceof Qb&&(b.aa=a),a=new Ee,a.da=b,a;break;case 4:a=new wd;if(b(a))return b=new De,b.fa=new Pb,a=qe(xd(a),[]),a instanceof Qb&&(b.lineSet3d=a),b;break;case 5:var c=new yd;if(b(c)){b=new Ce;a={Ka:0};for(var d=Math.min(Ad(c),
Bd(c));a.Ka<d;a={Ka:a.Ka},a.Ka++){var e=Oe(zd(c,a.Ka),function(f){return function(h){return c.outlines(f.Ka,h)}}(a));b.append(e)}return b}}return null}function Pe(a){var b=Oe(Dd(a),function(c){return a.outline(c)});return new Fe(b)}function Qe(a){var b=new Ie;b.fontSize=Fd(a);b.text=a.text();var c=a.origin();c&&b.textOrigin.xa(c.x(),c.y());b.outline=Oe(Gd(a),function(d){return a.outline(d)});return b}
function Re(a){var b=new Je,c=Q(a.ba,a.ca,4);if(a=c?Hc(new Gc,R(a.ba,a.ca+c),a.ba):null)a=qe(a,[]),a instanceof O&&(b.triangleSet=a);return b}function Ne(a){var b=new ib(a.name()),c=0,d=Q(a.ba,a.ca,16),e=Q(a.ba,a.ca,18);for(d=Math.min(d?T(a.ba,a.ca+d):0,e?T(a.ba,a.ca+e):0);c<d;c++)switch(e=Q(a.ba,a.ca,16),e?a.ba.aa[S(a.ba,a.ca+e)+c]:0){case 1:e=new Cd;a.components(c,e)&&b.tb(Pe(e));break;case 2:e=new Ed;a.components(c,e)&&b.tb(Qe(e));break;case 3:e=new Hd,a.components(c,e)&&b.tb(Re(e))}return b}
function Se(a,b,c,d){this.da=new re(a?me(a):void 0,me(b),c);this.aa=d}q(Se,wb);Se.prototype.ta=function(a){var b=this;return a?se(this.da).then(function(c){if(c){var d=new cd,e=P(c,c.position())+c.position();d.ca=e;d.ba=c;c=new Gc;e=0;var f;for(f=(f=Q(d.ba,d.ca,8))?T(d.ba,d.ca+f):0;e<f;e++){var h=(h=Q(d.ba,d.ca,8))?Hc(c||new Gc,R(d.ba,S(d.ba,d.ca+h)+4*e),d.ba):null;(h=qe(h,b.aa))&&a.add(h)}b.aa=void 0}}):Promise.reject(Error("Unable to feed invalid poly representation."))};
function Te(a,b,c){this.aa=new re(a?me(a):void 0,me(b),c)}q(Te,lb);
Te.prototype.ta=function(a){return a?se(this.aa).then(function(b){if(b){var c=new nd,d=P(b,b.position())+b.position();c.ca=d;c.ba=b;b=0;for(d=(d=Q(c.ba,c.ca,8))?T(c.ba,c.ca+d):0;b<d;b++){var e=c.data(b),f=e.name();if(f){f=f.toString();var h=Q(e.ba,e.ca,6);switch(h?e.ba.aa[e.ca+h]:0){case 1:h=new dd;e.value(h);a.add(f,h.value());break;case 2:h=new ed;e.value(h);a.add(f,Zb(h.value()));break;case 3:h=new fd;e.value(h);a.add(f,h.value());break;case 4:h=new gd;e.value(h);a.add(f,h.value());break;case 5:h=
new hd;e.value(h);a.add(f,new Date(Zb(h.value())));break;case 6:h=new jd;e.value(h);a.add(f,h.value().toString());break;case 7:h=new kd;e.value(h);e=h.value();a.add(f,new H(e.x(),e.y(),e.z()));break;case 8:h=new ld;e.value(h);h=h.value();e=h.minCorner();h=h.maxCorner();a.add(f,new kb(new H(e.x(),e.y(),e.z()),new H(h.x(),h.y(),h.z())));break;default:console.log("ModelData_FBPropertyTableProvider: invalid property type.")}}}}}):Promise.reject(Error("Unable to feed invalid property table"))};
function Ue(a,b,c){function d(u,F,E,V){var W=z.find(function(K){var ha;(ha=K.type===F&&K.filePath===u&&K.name===E)&&!(ha=V===K.parameters)&&(ha=!!K.parameters)&&(K=K.parameters,ha=V?K.generateMipmaps===V.generateMipmaps&&K.magnificationFilter===V.magnificationFilter&&K.minificationFilter===V.minificationFilter&&K.wrapModeU===V.wrapModeU&&K.wrapModeV===V.wrapModeV&&K.blendMode===V.blendMode&&K.mappingMode===V.mappingMode&&1E-9>Math.abs(K.rotation-V.rotation)&&1E-9>Math.abs(K.scaleU-V.scaleU)&&1E-9>
Math.abs(K.scaleV-V.scaleV)&&1E-9>Math.abs(K.translationU-V.translationU)&&1E-9>Math.abs(K.translationV-V.translationV):!1);return ha});W||(W=new Xa(u,F,V),W.name=E,C||(C=new ye(c,w)),W.provider=C,z.push(W));return W}function e(u){if(!u)return null;var F=u.pixelFormat();var E=(E=Q(u.ba,u.ca,10))?new Uint8Array(u.ba.aa.buffer,u.ba.aa.byteOffset+S(u.ba,u.ca+E),T(u.ba,u.ca+E)):null;return new qb(E,u.width(),u.height(),F)}function f(u){if(u){var F=new xa,E=Q(u.ba,u.ca,4);F.generateMipmaps=E?!!bc(u.ba,
u.ca+E):!0;E=Q(u.ba,u.ca,6);F.magnificationFilter=E?bc(u.ba,u.ca+E):0;E=Q(u.ba,u.ca,8);F.minificationFilter=E?bc(u.ba,u.ca+E):0;E=Q(u.ba,u.ca,10);F.wrapModeU=E?bc(u.ba,u.ca+E):0;E=Q(u.ba,u.ca,12);F.wrapModeV=E?bc(u.ba,u.ca+E):0;F.blendMode=u.blendMode();F.mappingMode=u.mappingMode();F.rotation=u.rotation();if(E=u.scale())F.scaleU=E.x(),F.scaleV=E.y();if(u=(E=Q(u.ba,u.ca,22))?rc(new qc,u.ca+E,u.ba):null)F.translationU=u.x(),F.translationV=u.y();return F}}function h(u,F){return c(u,F,!1)}var k={hasBRepRep:!1,
polyRepCount:0,roots:[]};b=oe(b);if(!b)return k;var l=Yd(b);b=[];for(var n=[],m=new tc,p=0,r=Zd(l);p<r;p++)if(l.colors(p,m)){var t=m.value();b[m.id()]=ne(t)}m=new uc;p=0;for(r=ae(l);p<r;p++)if($d(l,p,m)){t=new oa;var v=vc(m);v&&(t.ambientColor=ne(v));if(v=wc(m))t.diffuseColor=ne(v);if(v=xc(m))t.emissiveColor=ne(v);if(v=m.specular())t.specularColor=ne(v);t.shininess=m.shininess();b[m.id()]=t}var C,z=[],w={};m=new Pd;p=new Rd;r=0;for(t=je(l);r<t;r++)if(v=ie(l,r),1===v){if(l.textures(r,m)){v=Qd(m)?Qd(m).toString():
null;var x=f(m.parameters()),A=m.name();A&&(A=A.toString());v=d(v,m.type(),A,x);b[m.id()]=v}}else if(2===v&&l.textures(r,p)){v=p.lb()?e(p.lb()):null;x=f(p.parameters());v=new sb(v,p.type(),x);if(x=p.name())v.name=x.toString();b[p.id()]=v}m=new yc;for(p=0;p<be(l);p++)if(l.appearances(p,m)){r=new G;v=m.color();-1!==v&&(t=b[v])&&t instanceof D&&(r.genericColor=t);v=m.material();-1!==v&&(t=b[v])&&t instanceof oa&&(r.material=t);for(t=0;t<zc(m);t++)v=m.textures(t),(v=b[v])&&v instanceof za&&r.add(v);t=
m.id();b[t]=r;n[t]=r}m=new Ac;p=0;for(r=ce(l);p<r;p++)l.properties(p,m)&&(t=new J(m.name()),t.Aa(new Te(Bc(m),m.uuid(),h)),b[m.id()]=t);m=new Dc;p=0;for(r=he(l);p<r;p++)ge(l,p,m)&&(t=new L(m.name()),t.Aa(new Ke(Ec(m),m.uuid(),h,b)),b[m.id()]=t);if(m=de(l))for(p=0,r=Ud(m);p<r;p++)v=m.data(p),t=new Va,t.Aa(new we(Nc(v),v.prs(),h,n)),v=v.id(),b[v]=t;if(m=ee(l))for(p=0,r=Wd(m);p<r;p++)v=m.data(p),t=new xb,t.Aa(new Se(Pc(v),v.prs(),h,n)),v=v.id(),b[v]=t;l=fe(l);for(n=0;n<Vc(l);n++)p=l.data(n),m=Ve(p,b),
r=me(p.uuid()),m.uuid=r,b[p.id()]=m,m instanceof Kb&&(p=!!m.wb(),k.hasBRepRep=k.hasBRepRep||p,k.polyRepCount=Math.max(k.polyRepCount,m.representations.length-(p?1:0)));a.meta.Cd=a.meta.Cd||k.hasBRepRep;void 0===a.meta.bc&&(a.meta.bc=0);a.meta.bc=Math.max(a.meta.bc,k.polyRepCount);for(n=0;n<Xc(l);n++)a.Oc(b[Wc(l,n)]),k.roots.push(b[Wc(l,n)]);return k}
function Ve(a,b){switch(a.type()){case 0:var c=new Kb;for(var d=0,e=0;e<Rc(a);e++){var f=b[a.representations(e)];f instanceof Va?f.name||(f.name="CADEX_BREP_REP"):f instanceof xb&&(d++,f.name||(f.name="CADEX_POLY_REP_"+d));c.Nc(f)}break;case 1:c=Q(a.ba,a.ca,22);c=new Ib(b[c?P(a.ba,a.ca+c):-1]);Sc(a)&&(d=c,e=Sc(a),e=[gc(e.ba,e.ca),gc(e.ba,e.ca+32),gc(e.ba,e.ca+64),0,gc(e.ba,e.ca+8),gc(e.ba,e.ca+40),gc(e.ba,e.ca+72),0,gc(e.ba,e.ca+16),gc(e.ba,e.ca+48),gc(e.ba,e.ca+80),0,gc(e.ba,e.ca+24),gc(e.ba,e.ca+
56),gc(e.ba,e.ca+88),e.scale()],d.transformation=new Ia(e));break;case 2:c=new Lb;for(d=0;d<Tc(a);d++)c.ub(b[a.children(d)]);break;default:console.error("Invalid SGE type",a.type())}c&&(a.name()&&(c.name=a.name().toString()),d=a.appearance(),-1!==d&&(c.appearance=b[d]),d=(d=Q(a.ba,a.ca,14))?P(a.ba,a.ca+d):-1,-1!==d&&(c.properties=b[d]),d=a.pmi(),-1!==d&&(c.pmi=b[d]));return c}function We(a){this.fa=a;this.da={};this.aa=[];this.meta={}}function Xe(a,b,c){if(a=a.da[b])return a[c]}
function Ye(a,b,c,d){var e=a.da[b];e||(e=[],a.da[b]=e);e[c]=d}g=We.prototype;g.Oc=function(a){if(a instanceof Ib){var b=new Lb;b.ub(a);this.aa.push(b)}else a instanceof Hb&&this.aa.push(a)};g.Ud=function(){return this.aa.length};g.root=function(a){return this.aa[a]};g.Hd=function(a,b,c){var d=this;c=void 0===c?!0:c;return b(a,"scenegraph.cdxfb").then(function(e){return d.bd(a,e,b,c)})};
g.bd=function(a,b,c,d){var e=this;void 0===d||d||(this.da={},this.aa=[]);return Ue(this,b,function(f,h,k){k=void 0===k?!1:k;var l=Xe(e,a,h);void 0===l&&(f&&!k?(l=Xe(e,a,f),void 0===l&&(l=c(a,f).then(function(n){return oe(n)}).then(function(n){var m=new le,p=P(n,n.position())+n.position();m.ca=p;m.ba=n;n={};p=0;var r;for(r=(r=Q(m.ba,m.ca,6))?T(m.ba,m.ca+r):0;p<r;p++){var t=m.data(p),v=t.id();if(v){v=me(v);var C=Q(t.ba,t.ca,8);t=C?new Uint8Array(t.ba.aa.buffer,t.ba.aa.byteOffset+S(t.ba,t.ca+C),T(t.ba,
t.ca+C)):null;n[v]=new ac(t)}}return n}),Ye(e,a,f,l)),l=l.then(function(n){return n[h]})):l=c(a,h).then(function(n){return k?n:oe(n)}),Ye(e,a,h,l));return l})};g.accept=function(a){return Ea(this.aa,function(b){return b.accept(a)})};y.Object.defineProperties(We.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.fa?this.fa:null},set:function(a){this.fa=a?a:void 0}}});
y.Object.defineProperties(We,{ElementVisitor:{configurable:!0,enumerable:!0,get:function(){return Gb}},CombinedElementVisitor:{configurable:!0,enumerable:!0,get:function(){return Nb}}});We.prototype.accept=We.prototype.accept;We.prototype.loadSceneGraph=We.prototype.bd;We.prototype.loadFile=We.prototype.Hd;We.prototype.root=We.prototype.root;We.prototype.numberOfRoots=We.prototype.Ud;We.prototype.addRoot=We.prototype.Oc;function Ze(a){this.da=void 0;this.aa=a}q(Ze,Ra);
Ze.prototype.$a=function(a){return this.aa.x===a.point.x&&this.aa.y===a.point.y&&this.aa.z===a.point.z};Ze.prototype.isEqual=function(a){return a instanceof Ze&&1E-5>Math.abs(this.aa.x-a.point.x)&&1E-5>Math.abs(this.aa.y-a.point.y)&&1E-5>Math.abs(this.aa.z-a.point.z)};y.Object.defineProperties(Ze.prototype,{point:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});Ze.prototype.isEqual=Ze.prototype.isEqual;Ze.prototype.isSame=Ze.prototype.$a;
var $e={Base_AngleUnit:Bb,Base_LengthUnit:M,Base_Helper:Cb,ModelData_BaseObject:B,ModelData_Transformation:Ia,ModelData_Point:H,ModelData_Point2d:N,ModelData_Direction:I,ModelData_Axis1Placement:cb,ModelData_Axis2Placement:Mb,ModelData_Axis3Placement:db,ModelData_Box:kb,ModelData_ColorObject:D,ModelData_MaterialObject:oa,ModelData_Representation:ka,ModelData_RepresentationVisitor:la,ModelData_RepresentationSelector:yb,ModelData_RepresentationMaskSelector:zb,ModelData_RepresentationNameSelector:Ab,
ModelData_PixelFormat:pb,ModelData_TextureBlendMode:ra,ModelData_TextureMagnificationFilter:sa,ModelData_TextureMappingMode:ta,ModelData_TextureMinificationFilter:ua,ModelData_TextureType:qa,ModelData_TextureWrapMode:va,ModelData_TextureParameters:xa,ModelData_TextureVisitor:ya,ModelData_Texture:za,ModelData_PixMap:qb,ModelData_PixMapTexture:sb,ModelData_PixMapTextureProvider:rb,ModelData_FileTexture:Xa,ModelData_FileTextureProvider:Wa,ModelData_TextureSet:Ha,ModelData_PMIOutline:$a,ModelData_PMIOutlineVisitor:ab,
ModelData_PMICamera:bb,ModelData_PMIPlane:hb,ModelData_PMIData:mb,ModelData_PMIType:{Note:0,Dimension:1,Tolerance:2,CoordinateSystem:3,CenterLine:4,ReferenceGeometry:5,MeasurementPoint:6,Datum:7,FeatureControlFrame:8,Weld:9,SurfaceFinish:10,Section:11,Undefined:1E3,UserDefined:1001},ModelData_PMIGraphicalElementComponent:Ya,ModelData_PMIGraphicalElementComponentVisitor:Za,ModelData_PMIGraphicalElement:ib,ModelData_PMISavedView:jb,ModelData_PMITable:L,ModelData_PMITableProvider:nb,ModelData_Curve2dSet:Pb,
ModelData_CurveSet:Rb,ModelData_PMICompositeOutline:Ce,ModelData_PMICurve2dOutline:De,ModelData_PMICurveOutline:Ee,ModelData_PMIOutlinedComponent:Fe,ModelData_PMIPoly2dOutline:Ge,ModelData_PMIPolyOutline:He,ModelData_PMITextComponent:Ie,ModelData_PMITriangulatedComponent:Je,ModelData_Surface:eb,ModelData_ElementarySurface:fb,ModelData_Plane:gb,ModelData_Appearance:G,ModelData_PropertyTable:J,ModelData_PropertyTableProvider:lb,ModelData_SceneGraphElement:Hb,ModelData_RepresentationMask:Jb,ModelData_PolyShape:Na,
ModelData_PolyVertexSet:Oa,ModelData_PolyShapeList:tb,ModelData_PolyRepresentation:xb,ModelData_PolyRepresentationProvider:wb,ModelData_BodyType:ma,ModelData_ShapePrs:Qa,ModelData_Shape:Ra,ModelData_Vertex:Ze,ModelData_Body:Sa,ModelData_BodyList:Ta,ModelData_BRepRepresentation:Va,ModelData_BRepRepresentationProvider:Ua,ModelData_Part:Kb,ModelData_Assembly:Lb,ModelData_Instance:Ib,ModelData_IndexedTriangleSet:O,ModelData_PolyLineSet:Qb,ModelData_PolyPointSet:Tb,ModelData_IndexedPolyLineSet:Sb,ModelData_PolyLine2dSet:Ob,
ModelData_SceneGraphElementVisitor:Gb,ModelData_CombinedSceneGraphElementVisitor:Nb,ModelData_Model:We};function af(){}af.prototype.display=function(){};af.prototype.display=af.prototype.display;function bf(){}bf.prototype.ye=function(){};bf.prototype.se=function(){};bf.prototype.saveView3dObject=bf.prototype.se;bf.prototype.view3dObject=bf.prototype.ye;function cf(a,b){b.setRGB(a.r,a.g,a.b)}function df(a,b){cf(a,b.color);b.opacity=a.a;1>a.a&&(b.transparent=!0)}
function ef(a,b){df(a.diffuseColor,b);cf(a.specularColor,b.specular);b.specular.r/=10;b.specular.g/=10;b.specular.b/=10;cf(a.emissiveColor,b.emissive);b.shininess=a.shininess}function ff(a){this.da=a}q(ff,Ra);var gf=new D;gf.setHex(13953015);function hf(a,b){var c=THREE.LineBasicMaterial.call(this)||this;c.aa=a;c.da=b||gf;c.oa();return c}q(hf,THREE.LineBasicMaterial);hf.prototype.select=function(){this.oa();df(this.da,this)};
hf.prototype.oa=function(){var a;a:{if(a=this.aa){if(a.material&&a.material.diffuseColor){df(a.material.diffuseColor,this);a=!0;break a}if(a.genericColor){df(a.genericColor,this);a=!0;break a}}a=!1}a||(this.color.setHex(0),this.opacity=1)};y.Object.defineProperties(hf,{aa:{configurable:!0,enumerable:!0,get:function(){return gf}}});function jf(a,b){return THREE.LineSegments.call(this,a,b)||this}q(jf,THREE.LineSegments);
jf.prototype.select=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){a instanceof hf&&a.select()})};jf.prototype.oa=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){a instanceof hf&&a.oa()})};var kf=new THREE.Vector3,lf=new THREE.Ray,mf=new THREE.Matrix4,nf=new THREE.Vector3;function of(a,b,c){a=jf.call(this,a,b)||this;a.aa=c;return a}q(of,jf);
function pf(a,b,c){function d(l){kf.fromBufferAttribute(h,f.array[l]);var n=lf.distanceSqToPoint(kf);if(n<k){lf.closestPointToPoint(kf,nf);nf.applyMatrix4(a.matrixWorld);kf.applyMatrix4(a.matrixWorld);var m=b.ray.origin.distanceTo(nf);m<b.near||m>b.far||c.push({distance:m,distanceToRay:Math.sqrt(n),point:nf.clone(),index:l,face:null,object:a,shape:new Ze((new H).copy(kf))})}}var e=a.geometry,f=e.index,h=e.attributes.position;e=b.params.Points.threshold/((a.scale.x+a.scale.y+a.scale.z)/3);var k=e*
e;mf.getInverse(a.matrixWorld);lf.copy(b.ray).applyMatrix4(mf);d(0);f.array[f.count-1]!==f.array[0]&&d(f.count-1);for(e=1;e<f.count-2;e+=2)f.array[e]!==f.array[e+1]&&(d(e),d(e+1))}function qf(a,b,c){c=void 0===c?[]:c;a.raycast(b,c);c.forEach(function(d){d.object=a;d.shape=new ff})}
function rf(a,b,c,d){c=void 0===c?!1:c;var e=THREE.MeshPhongMaterial.call(this)||this;e.side=THREE.DoubleSide;e.fa=a;e.aa=d;b?e.da=b:(e.da=new oa,e.fa.kd(e.da),e.da.diffuseColor.setHex(2256298));e.oa();c&&a.textureSet&&a.textureSet.textures.forEach(function(f){function h(z,w,x){w.generateMipmaps=x.generateMipmaps;w.rotation=x.rotation;w.repeat.set(x.scaleU,x.scaleV);w.offset.set(x.translationV,x.translationV);switch(z){case qa.ModelData_TT_DiffuseMap:switch(x.blendMode){case ra.ModelData_TBM_Replace:e.color.r=
1,e.color.g=1,e.color.b=1,e.opacity=1}e.map=w;break;case qa.ModelData_TT_SpecularMap:e.specularMap=w;break;case qa.ModelData_TT_EmissiveMap:e.emissive.setHex(11184810);e.emissiveMap=w;break;case qa.ModelData_TT_BumpMap:e.bumpMap=w;break;case qa.ModelData_TT_NormalMap:e.normalMap=w;break;case qa.ModelData_TT_DisplacementMap:e.displacementMap=w;break;case qa.ModelData_TT_SphereEnvironmentMap:e.envMap=w}}var k=f.parameters;a:{switch(k.magnificationFilter){case sa.ModelData_TMagF_Nearest:var l=THREE.NearestFilter;
break a}l=THREE.LinearFilter}var n=l,m=sf(k.minificationFilter),p=tf(k.wrapModeU),r=tf(k.wrapModeV);a:{switch(k.mappingMode){case ta.ModelData_TMM_SphereMapping:l=THREE.SphericalReflectionMapping;break a}l=THREE.UVMapping}var t=l;if(f instanceof Xa){var v=uf(f.filePath);l=f.ga;l||(l=f.image().then(function(z){if(z){var w=new THREE.Texture(null,t,p,r,n,m);w.image=z;w.format=v?THREE.RGBAFormat:THREE.RGBFormat;w.needsUpdate=!0;return w}}),f.ga=l);l.then(function(z){v&&(e.transparent=!0);e.needsUpdate=
!0;h(f.type,z,k);e.aa&&e.aa()}).catch(function(z){console.warn("Unable to load file texture ["+f.filePath+"]",z)})}else if(f instanceof sb){var C=new THREE.DataTexture(null,0,0,THREE.RGBFormat,THREE.UnsignedByteType,t,p,r,n,m);f.lb().then(function(z){C.image={data:z.pixelData,width:z.width,height:z.height};C.format=vf(z.pixelFormat);C.needsUpdate=!0;e.needsUpdate=!0;h(f.type,C,k)}).catch(function(z){console.warn("Unable to load pixmap texture",z)})}});return e}q(rf,THREE.MeshPhongMaterial);
rf.prototype.select=function(){this.oa();ef(this.da,this)};rf.prototype.oa=function(){this.color.setHex(13487565);this.opacity=1;this.specular.setHex(657930);this.emissive.setHex(0);this.shininess=62.5;var a=this.fa;a&&(a.material?ef(a.material,this):a.genericColor&&df(a.genericColor,this))};
function sf(a){switch(a){case ua.ModelData_TMinF_Nearest:return THREE.NearestFilter;case ua.ModelData_TMinF_NearestMipMapNearest:return THREE.NearestMipMapNearestFilter;case ua.ModelData_TMinF_NearestMipMapLinear:return THREE.NearestMipMapLinearFilter;case ua.ModelData_TMinF_Linear:return THREE.LinearFilter;case ua.ModelData_TMinF_LinearMipMapNearest:return THREE.LinearMipMapNearestFilter}return THREE.LinearMipMapLinearFilter}
function tf(a){switch(a){case va.ModelData_TWM_Repeat:return THREE.RepeatWrapping;case va.ModelData_TWM_MirroredRepeat:return THREE.MirroredRepeatWrapping}return THREE.ClampToEdgeWrapping}function vf(a){switch(a){case pb.ModelData_PF_RGBA:return THREE.RGBAFormat;case pb.ModelData_PF_Alpha:return THREE.AlphaFormat;case pb.ModelData_PF_Luminance:return THREE.LuminanceFormat;case pb.ModelData_PF_LuminanceAlpha:return THREE.LuminanceAlphaFormat}return THREE.RGBFormat}
function uf(a){var b=0<a.search(/\.jpe?g($|\?)/i);a=0<a.search(/\.bmp($|\?)/i);return!b&&!a}var wf=new D;wf.setHex(13953015);function xf(a,b){var c=THREE.MeshBasicMaterial.call(this)||this;c.side=THREE.DoubleSide;c.aa=a;c.da=b||wf;c.oa();return c}q(xf,THREE.MeshBasicMaterial);xf.prototype.select=function(){this.oa();df(this.da,this)};
xf.prototype.oa=function(){this.aa.material?df(this.aa.material.diffuseColor,this):this.aa.genericColor?df(this.aa.genericColor,this):(this.color.setHex(0),this.opacity=1)};var yf=new THREE.MeshBasicMaterial({color:new THREE.Color(131586),opacity:.15,transparent:!0});
function U(a,b,c){c=void 0===c?!1:c;var d=THREE.Mesh.call(this,a,b)||this;d.closed=c;d.aa=!1;d.da=b;a.getAttribute("color")&&(d.material instanceof Array?d.material:[d.material]).forEach(function(e){e.vertexColors=THREE.VertexColors});return d}q(U,THREE.Mesh);U.prototype.wireframe=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){if(a instanceof rf||a instanceof xf)a.wireframe=!0})};
function zf(a){(a.material instanceof Array?a.material:[a.material]).forEach(function(b){if(b instanceof rf||b instanceof xf)b.wireframe=!1})}U.prototype.select=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){(a instanceof rf||a instanceof xf)&&a.select()})};U.prototype.oa=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){(a instanceof rf||a instanceof xf)&&a.oa()})};
y.Object.defineProperties(U.prototype,{Za:{configurable:!0,enumerable:!0,get:function(){return this.aa},set:function(a){this.aa!==a&&(a?this.material=yf:this.material=this.da,this.aa=a)}}});var Af=new G(new D(0,0,0,1));function Bf(a){var b=new xf(Af,hf.aa);b.wireframe=!0;var c=Cf(Af);return Df(a,b,c)}
function Df(a,b,c){var d=new THREE.Group;d.layers.mask=a.layers.mask;a.children.forEach(function(e){if(e instanceof THREE.Mesh){var f=new U(e.geometry,b);f.layers.mask=e.layers.mask;d.add(f)}else e instanceof THREE.LineSegments?(e instanceof of?f=new of(e.geometry,c,e.aa):f=new jf(e.geometry,c),f.layers.mask=e.layers.mask,d.add(f)):d.add(Df(e,b,c))});return d}
function Ef(a,b,c){function d(n){return 1<f.length&&h&&1<h.length?f.map(function(m,p){var r=0===p?0:h[p-1];e.addGroup(r,h[p]-r,p);return n(m)}):n(f[0]||b)}c=void 0===c?!1:c;var e=Ff(a);if(!e)return null;if((a instanceof ue||a instanceof te||a instanceof ve)&&a.ia){var f=a.ia;var h=a.ja}else f=[a.appearance];if((a instanceof ue||a instanceof te||a instanceof ve)&&a.na)var k=a.na;f=f.map(function(n){if(n){var m=new G;m.Ta(b);m.Ta(n);n=m}else n=b;return n});var l=null;a instanceof O?(k=d(Gf.bind(null,
!!a.ga)),l=new U(e,k,c)):a instanceof Qb?(c=d(Cf),k?l=new of(e,c,k):l=new jf(e,c)):a instanceof Tb&&(c=d(Hf),l=new THREE.Points(e,c));return l}
function Ff(a){if(!a||!a.coords||!a.coords.length)return null;var b=new THREE.BufferGeometry;b.addAttribute("position",new THREE.BufferAttribute(a.coords,3));a.colors&&b.addAttribute("color",new THREE.BufferAttribute(a.colors,3));a instanceof O&&(a.indexes&&b.setIndex(new THREE.BufferAttribute(a.indexes,1)),a.normals?b.addAttribute("normal",new THREE.BufferAttribute(a.normals,3)):b.computeVertexNormals(),a.uvCoordinates&&b.addAttribute("uv",new THREE.BufferAttribute(a.uvCoordinates,2)));a instanceof
Sb&&a.indexes&&b.setIndex(new THREE.BufferAttribute(a.indexes,1));return b}function Gf(a,b){return new rf(b,void 0,a)}function Cf(a){return new hf(a)}function Hf(a){var b=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});(a=a&&(a.material&&a.material.diffuseColor||a.genericColor))&&df(a,b);return b}function If(){var a=THREE.Group.call(this)||this;a.ja=void 0;a.va=void 0;return a}q(If,THREE.Group);
If.prototype.computeBoundingSphere=function(){function a(e){if(e instanceof THREE.Mesh){var f=e.geometry.attributes.position;if(void 0!==f)for(var h=0,k=f.count;h<k;h++)c.fromBufferAttribute(f,h),c.applyMatrix4(e.matrix),d=Math.max(d,b.distanceToSquared(c))}else if(e.isObject3D)for(f=0,h=e.children.length;f<h;f++)a(e.children[f]);else console.error("cadex.internal.threejs.ModelPrs_ThreejsThreejsBaseObject.computeBoundingSphere(): "+typeof e+" object is unsupported: ")}this.ja=new THREE.Sphere;this.boundingBox.getBoundingSphere(this.ja);
var b=this.ja.center;this.boundingBox.getCenter(b);var c=new THREE.Vector3,d=0;a(this);this.ja.radius=Math.sqrt(d);isNaN(this.ja.radius)&&console.error('cadex.internal.threejs.ModelPrs_ThreejsThreejsBaseObject.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')};
function Jf(a){function b(e){if(e instanceof THREE.Mesh){var f=e.geometry;f.boundingBox||f.computeBoundingBox();e.updateMatrix();d.copy(f.boundingBox).applyMatrix4(e.matrix);c.union(d)}else if(e.isObject3D){f=0;for(var h=e.children.length;f<h;f++)b(e.children[f])}else console.error("cadex.internal.threejs.ModelPrs_ThreejsThreejsBaseObject.computeBoundingBox(): "+typeof e+" object is unsupported: ")}var c=new THREE.Box3,d=new THREE.Box3;b(a);c.applyMatrix4(a.matrixWorld);a.va=c}
If.prototype.raycast=function(a,b){var c=[],d=new THREE.Sphere;d.copy(this.boundingSphere);if(!1!==a.ray.intersectsSphere(d)){d=0;for(var e=this.children.length;d<e;d++)this.children[d].raycast(a,c);0<c.length&&(c.sort(function(f,h){return f.distance-h.distance}),c[0].object=this,b.push(c[0]))}};
y.Object.defineProperties(If.prototype,{boundingSphere:{configurable:!0,enumerable:!0,get:function(){this.ja||this.computeBoundingSphere();return this.ja}},boundingBox:{configurable:!0,enumerable:!0,get:function(){this.va||Jf(this);return this.va}}});If.prototype.raycast=If.prototype.raycast;var Kf={Global:-1,Wireframe:0,Shaded:1,ShadedWithBoundaries:2},Lf={Global:-2,None:-1,Shape:0,Vertex:1};
function X(a,b,c){var d=If.call(this)||this;if(!a||!a.isObject3D)return console.error("cadex.internal.threejs.ModelPrs_ThreejsView3dObjectImpl.constructor: argument representation should be a valid THREE.Object3D"),d;d.ga=c;d.ra=a;d.da=null;d.add(d.ra);b&&(d.fa=b,d.add(d.fa));d.aa=void 0;d.qa=Kf.Global;Mf(d,Kf.Shaded);a=d.na=Lf.Global;d.na!==a&&(d.na=a);d.ia=!1;return d}q(X,If);X.prototype.select=function(){this.ra&&Nf(this.ra);this.fa&&Nf(this.fa);this.aa&&Nf(this.aa)};
X.prototype.Zc=function(a,b){var c=this,d=[];b===Lf.Edge?Of(this,a,d):b===Lf.Vertex&&Pf(this,a,d);d.sort(function(e,f){return e.distance-f.distance});d.forEach(function(e){e.object=c});return d};function Pf(a,b,c){(a=a.aa&&a.aa.children)&&a.forEach(function(d){d instanceof of&&pf(d,b,c)})}function Of(a,b,c){a.aa.children.forEach(function(d){d instanceof of&&qf(d,b,c)})}X.prototype.oa=function(){this.ra&&Qf(this.ra);this.fa&&Qf(this.fa);this.aa&&Qf(this.aa)};
function Mf(a,b,c){if(a.qa!==b||(void 0===c?0:c))switch(a.qa=b,a.ra&&(a.ra.visible=!1),a.aa&&(a.aa.visible=!1),a.fa&&(a.fa.visible=!1),b){case Kf.Wireframe:!a.fa&&a.ra&&(Rf(a.ra),Sf(a.ra,a.ia),a.ra.visible=!0);a.fa&&(a.fa.visible=!0,Sf(a.fa,a.ia));break;case Kf.Shaded:a.ra&&(a.fa||Tf(a.ra),Sf(a.ra,a.ia),a.ra.visible=!0);break;case Kf.ShadedWithBoundaries:a.ra&&(a.ra.visible=!0,Sf(a.ra,a.ia),a.fa||Tf(a.ra));a.aa||(a.fa?a.aa=Bf(a.fa):a.ra&&(a.aa=Bf(a.ra)),a.aa&&a.add(a.aa));a.aa&&(a.aa.visible=!a.ia);
break;default:console.error("cadex.internal.threejs.ModelPrs_ThreejsView3dObjectImpl.setDisplayMode(): "+b+" mode is unsupported")}}y.Object.defineProperties(X.prototype,{Za:{configurable:!0,enumerable:!0,get:function(){return this.ia},set:function(a){this.ia!==a&&(this.ia=a,Mf(this,this.qa,!0))}},ua:{configurable:!0,enumerable:!0,get:function(){return this.na}}});X.prototype.intersectShapes=X.prototype.Zc;
function Nf(a){if(a)if(a instanceof U)a.select();else if(a instanceof jf)a.select();else if(a.children)for(var b=0,c=a.children.length;b<c;b++)Nf(a.children[b])}function Qf(a){if(a)if(a instanceof U)a.oa();else if(a instanceof jf)a.oa();else if(a.children)for(var b=0,c=a.children.length;b<c;b++)Qf(a.children[b])}function Rf(a){if(a)if(a instanceof U)a.wireframe();else if(a.children)for(var b=0,c=a.children.length;b<c;b++)Rf(a.children[b])}
function Tf(a){if(a)if(a instanceof U)zf(a);else if(a.children)for(var b=0,c=a.children.length;b<c;b++)Tf(a.children[b])}function Sf(a,b){if(a)if(a instanceof U)a.Za=b;else if(a.children)for(var c=0,d=a.children.length;c<d;c++)Sf(a.children[c],b)}function Uf(a){this.aa=void 0===a?null:a}Uf.prototype.$a=function(a){return a===this||this.aa===a.aa};y.Object.defineProperties(Uf.prototype,{boundingBox:{configurable:!0,enumerable:!0,get:function(){return new kb}},impl:{configurable:!0,enumerable:!0,get:function(){return this.aa}}});
function Vf(a){Uf.call(this);this.aa=a;a.da=this}q(Vf,Uf);y.Object.defineProperties(Vf.prototype,{boundingBox:{configurable:!0,enumerable:!0,get:function(){var a=this.aa.boundingBox;return new kb(new H(a.min.x,a.min.y,a.min.z),new H(a.max.x,a.max.y,a.max.z))}}});
function Wf(a,b,c){c=void 0===c?!1:c;var d=new G,e=new THREE.Matrix4,f=new THREE.Matrix4;b.forEach(function(h){if(!(h instanceof Lb)){var k=h.appearance;k&&d.Ta(k)}h instanceof Ib&&h.aa&&(f.fromArray(h.aa.aa),e.multiply(f))});if(a instanceof Va)return Xf(a,e,d,c);if(a instanceof xb)return Yf(a,e,d,c);console.error("cadex.internal.threejs.ModelPrs_ThreejsView3dObjectFactory.create(): unknown representation type: "+typeof a);return Promise.resolve()}
function Xf(a,b,c,d){return a.Qc().then(function(e){for(var f=[],h=0,k=e.size();h<k;h++){var l=e.element(h),n=l.prs;if(n)for(var m=0,p=n.aa.length;m<p;m++){var r=n.aa[m],t={},v=Ef(r.aa,c,l.bodyType===ma.Solid);v&&(t.za=v);if(r=Ef(r.da,c))t.Ub=r;f.push(t)}}if(d)return f.map(function(x){if(x.za){var A=new X(x.za,x.Ub);x.za instanceof U&&x.za.material instanceof rf&&(x.za.material.aa=function(){A.ga&&A.ga()});A.applyMatrix(b);A.updateMatrixWorld(!0);return new Vf(A)}});var C=new If,z=new If,w=new X(C,
z);f.forEach(function(x){x.za&&(C.add(x.za),x.za instanceof U&&x.za.material instanceof rf&&(x.za.material.aa=function(){w.ga&&w.ga()}));x.Ub&&z.add(x.Ub)});w.applyMatrix(b);w.updateMatrixWorld(!0);return[new Vf(w)]})}
function Yf(a,b,c,d){return a.gd().then(function(e){for(var f=[],h=0,k=e.size();h<k;h++){var l=e.element(h);f.push(Ef(l,c))}if(d)return f.map(function(p){var r=new X(p,null);p instanceof U&&p.material instanceof rf&&(p.material.aa=function(){r.ga&&r.ga()});r.applyMatrix(b);r.updateMatrixWorld(!0);return new Vf(r)});var n=new If,m=new X(n,null);f.forEach(function(p){n.add(p);p instanceof U&&p.material instanceof rf&&(p.material.aa=function(){m.ga&&m.ga()})});m.applyMatrix(b);m.updateMatrixWorld(!0);
return[new Vf(m)]})}function Zf(a,b,c,d,e,f){this.displayer=a;this.displayMode=b;this.repSelector=c;this.cache=void 0===d?null:d;this.async=void 0===e?!0:e;this.perBody=void 0===f?!1:f}function $f(){}y.Object.defineProperties($f,{DisplayParams:{configurable:!0,enumerable:!0,get:function(){return Zf}}});
$f.apply=function(a,b,c){function d(l){var n=l[l.length-1];if(!(n instanceof Kb))return Promise.reject(Error("cadex.ModelPrs.DisplayApplier.apply() internal error: last element of part ancestors should be a part"));var m=n.cc(c.repSelector);return m?c.cache&&c.cache.view3dObject&&(n=c.cache.view3dObject(c.repSelector,l))?(c.displayer.display(n,m,l,c.displayMode),Promise.resolve(n)):Wf(m,l,e.perBody).catch(function(p){console.error("cadex.ModelPrs.DisplayApplier.apply() view3d object creating failed: "+
p.message)}).then(function(p){p&&c.cache&&c.cache.saveView3dObject&&c.cache.saveView3dObject(c.repSelector,l,p);c.displayer.display(p,m,l,c.displayMode);return p}):(c.displayer.display([],null,l,c.displayMode),Promise.resolve(null))}var e=this;if(!c.repSelector)return Promise.reject(Error('cadex.ModelPrs_DisplayerApplier.apply(): argument options should contain valid "repSelector" property.'));if(!c.displayer)return Promise.reject(Error('cadex.ModelPrs_DisplayerApplier.apply(): argument options should contain valid "displayer" property.'));
a instanceof Array||(a=[a]);a=a.reduce(function(l,n){n=ag(n,b);l.push.apply(l,ba(n));return l},[]);if(!0===c.async||1<c.async)return Fa(a,function(l){return d(l).catch(function(n){console.error("cadex.ModelPrs_DisplayerApplier.Apply: error occurred during displaying:",n);return null})},"number"===typeof c.async?c.async:4);var f=(new Date).getTime(),h=Promise.resolve(),k=[];a.forEach(function(l,n){h=h.then(function(){return d(l)}).then(function(m){k[n]=m;m=(new Date).getTime();if(300<m-f)return f=
m,Ga()}).catch(function(m){console.error("cadex.ModelPrs_DisplayerApplier.Apply: error occurred during displaying:",m);k[n]=null})});return h.then(function(){return k}).catch(function(){return k})};function ag(a,b){if(a instanceof Kb){var c=b.slice();c.push(a);return[c]}b.push(a);a instanceof Ib?a.reference&&(c=ag(a.reference,b)):a instanceof Lb&&(c=a.children.reduce(function(d,e){e=ag(e,b);d.push.apply(d,ba(e));return d},[]));b.pop();return c||[]}function bg(){}
bg.computeSurfaceArea=function(a){function b(c){if(!(c instanceof Vf))return 0;var d=0;c.aa.ra.children.forEach(function(e){if((e=e.geometry)&&e instanceof THREE.BufferGeometry)if(void 0===e.surfaceArea){var f=e.getAttribute("position"),h=e.index;if(f&&f.array&&h&&h.array){f=f.array;h=h.array;for(var k=0,l=0;l<h.length;l+=3){var n=[3*h[l],3*h[l+1],3*h[l+2]],m=new THREE.Vector3(f[n[0]],f[n[0]+1],f[n[0]+2]),p=new THREE.Vector3(f[n[1]],f[n[1]+1],f[n[1]+2]),r=new THREE.Vector3(f[n[2]],f[n[2]+1],f[n[2]+
2]);n=Math.sqrt((p.x-m.x)*(p.x-m.x)+(p.y-m.y)*(p.y-m.y)+(p.z-m.z)*(p.z-m.z));m=Math.sqrt((r.x-m.x)*(r.x-m.x)+(r.y-m.y)*(r.y-m.y)+(r.z-m.z)*(r.z-m.z));p=Math.sqrt((p.x-r.x)*(p.x-r.x)+(p.y-r.y)*(p.y-r.y)+(p.z-r.z)*(p.z-r.z));r=(n+m+p)/2;k+=Math.sqrt(r*(r-n)*(r-m)*(r-p))}f=k;e.surfaceArea=f;d+=f}}else d+=e.surfaceArea});return d}a=Array.isArray(a)?a:[a];return a.reduce(function(c,d){return c+b(d)},0)};var cg={Isometric:0,Perspective:1};function dg(){this.va=new Map}
dg.prototype.addEventListener=function(a,b){this.va.set(b.bind(this),{type:a,listener:b})};dg.prototype.removeEventListener=function(a,b){var c=this;this.va.forEach(function(d,e){d.type===a&&b===d.listener&&c.va.delete(e)})};dg.prototype.dispatchEvent=function(a){Object.defineProperty(a,"target",{value:this,configurable:!0});this.va.forEach(function(b,c){b.type===a.type&&c(a)})};dg.prototype.dispatchEvent=dg.prototype.dispatchEvent;dg.prototype.removeEventListener=dg.prototype.removeEventListener;
dg.prototype.addEventListener=dg.prototype.addEventListener;function eg(){}eg.prototype.aa=function(){return null};eg.prototype.Xb=function(){return null};eg.prototype.createAngleDimension=eg.prototype.Xb;var fg=new D;fg.setHex(1533591);var gg=null;
function hg(){if(!gg){var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABj1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAFBQUAAAD09PT5+fkAAAAAAAD09PQAAAAAAAAAAAAAAAAAAAAAAADq6uri4uKwsLDl5eUrKyvX19cAAAAAAAAAAAAAAAAAAAAAAAAAAAAKCgoAAABXV1f8/Pzf39/d3d3U1NT09PTOzs7m5ubu7u5kZGTf3989PT0cHBzCwsIPDw/Dw8M/Pz8AAACmpqZOTk4AAABwcHAAAAACAgIAAAAAAAADAwMAAAAAAAAAAAA/Pz/o6OjIyMju7u69vb3y8vLW1taxsbGYmJiLi4uJiYnW1tbCwsKgoKCAgIDGxsZVVVWbm5uFhYWTk5NKSkrd3d3Hx8dycnKdnZ1BQUGurq6kpKQhISE2NjZycnKhoaEPDw9ISEg7Ozt6enoQEBBdXV0oKCi3t7eUlJRiYmIAAAAZGRkcHBxiYmIAAACdnZ1XV1ePj490dHRfX19ISEgqKipoaGhsbGxubm4wMDAzMzM5OTn////9/f1W4ywZAAAAg3RSTlMABAIJDBcRIj0UODUeUBv++iol/H5gTkoxKP3z7+XIxqmjnZKGc25fRkH++/f38/Du7ODdysW7u6efi4eBenFxa2hnZFtSLiz79vX19PTy7ezq5+bj4+Ha2NbU1NLSzcTEwb+4t7WxsbCrqKimpZ6enpeNh4KAdnRuaWhbWlhQTEo3MRDaXZsAAAHWSURBVDjLfZN3U9tAFMSRr6slknuMbdzthIReA6GT3nvvvfeEDuKD8w4bCeEb9r+b/b3dm7l3HWFFpPxTm6ntSQWBizAVhBBBMQqQwMbCdhd1neuGwwgFJOwjam7++5LPZgeGv/5N6i7BULTPx2TrT77v0lHP245eyD6fSBhsNyTwG6N94EpJ5saHOHcF0vx8sp4/5e3T8czTmbpLWxERJBqjrXE/JPN6hjMsCVlw9rQ/72f0jMV1AiUygKw98toUvRez0lDSDAgKgpLL72chQgKiMewpdO5JLAm3kA2rAyogeqs071CtQ0Pmf2hQdPQUZw0BAGZnPKVOdlV1cjhQ4U1gqVflH+nsmpIJEWQuP1YBx24XppuAvfFGBZx4+D2eogBowvjVq2oYKVsulgBNr7xQBNwtTHFbPoaGbD5xp+0G10fG5xcFvIWMcKxvmQMFV4aKVW5CAwj2xah9uhmav5YrTCbkY7Y2zuRzYw+6/fGL/UPFyYUUCXaOMl77+e5+Zze456/2596WKlaKyIXyCdOwpn98fvVscDD38mMpFq874If33uELc5Xf5fFyrFpLGkwg8MM/x04bPJmwEnWeYgSD3/41hW0yxkwiAjuMAANCSNMCfweGluQcLZz7AQAAAABJRU5ErkJggg==";gg=
new THREE.Texture;gg.image=a;a.onload=function(){gg.needsUpdate=!0};gg.repeat.set(1,1);gg.wrapS=THREE.RepeatWrapping;gg.wrapT=THREE.RepeatWrapping}return gg}function ig(a,b){var c=THREE.PointsMaterial.call(this,{size:16,sizeAttenuation:!1,map:hg(),transparent:!0})||this;c.aa=a;c.da=b||fg;c.oa();return c}q(ig,THREE.PointsMaterial);ig.prototype.select=function(){this.oa();df(this.da,this)};
ig.prototype.oa=function(){this.aa.material?df(this.aa.material.diffuseColor,this):this.aa.genericColor?df(this.aa.genericColor,this):(this.color.setHex(0),this.opacity=1)};function jg(a,b){return THREE.Points.call(this,a,b)||this}q(jg,THREE.Points);jg.prototype.select=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){a instanceof ig&&a.select()})};
jg.prototype.oa=function(){(this.material instanceof Array?this.material:[this.material]).forEach(function(a){a instanceof ig&&a.oa()})};
var kg=new THREE.Font({glyphs:{0:{ha:760,x_min:146,x_max:608,o:"m 608 232 q 540 68 608 136 q 376 0 472 0 q 213 68 281 0 q 146 232 146 136 l 146 694 q 213 858 146 790 q 376 926 281 926 q 540 858 472 926 q 608 694 608 790 l 608 232 m 515 232 l 515 694 q 475 792 515 751 q 376 833 435 833 q 278 792 319 833 q 238 694 238 751 l 238 232 q 278 133 238 174 q 376 93 319 93 q 475 133 435 93 q 515 232 515 174 z "},1:{ha:760,x_min:213,x_max:490,o:"m 490 47 q 477 14 490 28 q 444 0 464 0 q 412 14 425 0 q 399 46 399 28 l 399 769 l 290 661 q 258 649 278 649 q 226 660 238 649 q 213 692 215 671 q 225 729 211 714 l 411 915 q 448 925 426 928 q 476 914 469 922 q 490 879 490 900 l 490 47 z "},
2:{ha:760,x_min:176,x_max:639,o:"m 639 46 q 625 14 639 28 q 593 0 611 0 l 222 0 q 190 15 203 1 q 176 46 176 28 q 183 74 176 61 l 526 621 q 546 694 546 653 q 511 794 546 756 q 407 833 476 832 q 322 813 353 835 q 261 739 290 790 q 222 718 250 718 q 177 751 185 721 q 183 796 169 782 q 407 926 267 931 q 574 859 507 922 q 639 694 640 796 q 606 571 638 624 l 304 93 l 593 93 q 625 79 611 93 q 639 46 639 65 z "},3:{ha:760,x_min:151,x_max:621,o:"m 621 232 q 564 74 621 136 q 390 0 501 0 l 204 0 q 172 14 186 0 q 158 46 158 28 q 172 79 158 65 q 204 93 186 93 l 390 93 q 493 135 454 93 q 529 232 529 175 l 529 324 q 485 428 529 388 q 390 463 446 463 l 296 463 q 264 476 278 463 q 250 510 250 490 q 264 542 250 528 q 296 556 278 556 l 383 556 q 478 590 439 556 q 522 693 522 631 q 488 788 515 758 q 383 831 447 831 l 199 831 q 165 844 179 831 q 151 876 151 858 q 166 909 151 894 q 199 924 181 924 l 383 924 q 557 850 493 924 q 615 692 615 783 q 591 589 615 638 q 531 510 567 540 q 596 434 571 486 q 621 324 621 382 l 621 232 z "},
4:{ha:760,x_min:111,x_max:667,o:"m 667 232 q 653 199 667 213 q 621 185 639 185 l 528 185 l 528 46 q 514 14 528 28 q 482 0 500 0 q 449 14 463 0 q 435 46 435 28 l 435 185 l 157 185 q 124 199 139 185 q 111 243 104 211 l 299 896 q 316 919 303 911 q 343 926 329 928 q 380 909 367 926 q 388 871 393 892 l 218 278 l 435 278 l 435 417 q 449 449 435 435 q 482 463 463 463 q 515 449 501 463 q 528 418 528 436 l 528 278 l 621 278 q 653 264 639 278 q 667 232 667 250 z "},5:{ha:760,x_min:154,x_max:621,o:"m 621 879 q 607 846 621 858 q 574 833 593 833 l 250 833 l 250 556 l 386 556 q 464 542 419 556 q 536 506 508 528 q 618 324 618 439 l 618 232 q 560 74 618 138 q 386 0 497 0 l 201 0 q 168 14 182 0 q 154 46 154 28 q 169 78 154 64 q 201 93 183 93 l 386 93 q 490 135 449 93 q 525 232 525 172 l 525 324 q 481 428 525 388 q 386 463 442 463 l 204 463 q 172 474 185 463 q 157 510 157 489 l 157 879 q 172 915 157 900 q 204 926 185 926 l 574 926 q 607 913 593 926 q 621 879 621 899 z "},
6:{ha:760,x_min:154,x_max:618,o:"m 618 182 q 548 49 618 100 q 386 -3 478 -3 q 224 49 294 -3 q 154 182 154 100 l 154 368 q 263 729 154 564 q 442 907 314 810 q 451 914 449 911 q 518 907 489 944 q 526 871 529 892 q 508 838 524 850 q 475 815 500 832 q 433 785 450 797 q 391 745 417 772 q 343 685 365 718 q 279 553 299 618 l 432 553 q 565 501 514 553 q 618 368 618 449 l 618 182 m 525 185 l 525 369 q 497 436 525 410 q 431 460 472 460 l 257 460 q 249 413 254 449 q 247 368 247 394 l 247 185 q 289 115 247 139 q 386 92 331 92 q 483 115 442 92 q 525 185 525 139 z "},
7:{ha:760,x_min:157,x_max:618,o:"m 618 872 l 432 35 q 389 0 425 3 q 351 18 363 -1 q 344 60 339 38 l 515 833 l 250 833 l 250 788 q 236 754 250 768 q 204 740 222 740 q 172 755 186 740 q 157 788 157 769 l 157 879 q 174 915 157 903 q 204 926 185 926 l 574 926 q 606 915 593 926 q 618 872 624 897 z "},8:{ha:760,x_min:140,x_max:604,o:"m 581 463 q 604 371 604 424 l 604 185 q 534 51 604 103 q 372 0 464 0 q 210 51 281 0 q 140 185 140 103 l 140 371 q 174 463 140 411 q 222 518 190 492 q 192 556 207 532 q 164 649 164 601 l 164 740 q 226 873 164 819 q 372 926 289 926 q 518 873 456 926 q 581 740 581 819 l 581 649 q 553 556 581 599 q 521 518 540 535 q 581 463 558 497 m 488 649 l 488 740 q 453 808 488 782 q 372 833 418 833 q 292 808 326 833 q 257 740 257 782 l 257 649 q 292 581 257 607 q 372 556 326 556 q 453 581 418 556 q 488 649 488 607 m 511 185 l 511 371 q 469 441 511 417 q 372 465 426 465 q 276 441 318 465 q 233 371 233 417 l 233 185 q 276 115 233 139 q 374 93 318 92 q 469 117 428 93 q 511 185 511 140 z "},
9:{ha:760,x_min:147,x_max:610,o:"m 610 556 q 503 194 610 358 q 478 159 492 176 q 449 126 464 142 q 420 97 433 110 q 389 70 407 85 q 362 48 371 56 q 335 26 353 40 q 314 10 318 13 q 279 -3 299 -4 q 247 17 260 -1 q 238 53 236 32 q 257 85 240 74 q 290 108 264 90 q 331 138 315 125 q 373 178 347 150 q 421 239 399 206 q 486 371 464 301 l 332 371 q 199 422 250 371 q 147 556 147 475 l 147 740 q 217 875 147 824 q 379 926 286 926 q 540 875 471 926 q 610 740 610 824 l 610 556 m 518 556 l 518 739 q 476 808 518 785 q 379 832 433 832 q 282 808 324 832 q 240 739 240 785 l 240 554 q 268 488 240 514 q 335 463 293 463 l 507 463 q 515 511 513 482 q 518 556 518 529 z "},
" ":{ha:694,x_min:0,x_max:0,o:""},"!":{ha:760,x_min:318,x_max:435,o:"m 424 324 q 410 292 424 306 q 376 278 396 278 q 344 292 358 278 q 331 324 331 306 l 331 879 q 344 913 331 899 q 376 926 358 926 q 409 912 394 926 q 424 879 424 897 l 424 324 m 435 46 q 406 -6 435 10 q 347 -6 376 -21 q 318 46 318 10 q 347 99 318 83 q 406 99 376 114 q 435 46 435 83 z "},'"':{ha:760,x_min:260,x_max:490,o:"m 490 788 q 476 754 490 768 q 444 740 463 740 q 413 754 426 740 q 399 788 399 768 l 399 879 q 413 913 399 899 q 444 926 426 926 q 476 913 463 926 q 490 879 490 899 l 490 788 m 351 788 q 338 754 351 768 q 306 740 324 740 q 274 754 288 740 q 260 788 260 768 l 260 879 q 274 913 260 899 q 306 926 288 926 q 338 913 324 926 q 351 879 351 899 l 351 788 z "},
"#":{ha:760,x_min:44,x_max:718,o:"m 703 634 q 711 627 703 634 q 718 601 718 619 q 704 569 718 583 q 671 556 690 556 l 569 556 l 535 368 l 619 368 q 652 355 639 368 q 665 322 665 342 q 652 290 665 303 q 619 276 639 276 l 518 276 l 474 35 q 453 6 469 17 q 419 -1 438 -6 q 390 16 401 0 q 382 51 379 32 l 424 276 l 271 276 l 226 36 q 208 7 224 18 q 174 -1 192 -4 q 144 17 156 1 q 136 53 133 33 l 178 276 l 90 276 q 58 290 72 276 q 44 322 44 303 q 58 355 44 342 q 90 368 72 368 l 194 368 l 229 556 l 143 556 q 110 569 124 556 q 96 601 96 583 q 110 634 96 619 q 143 649 125 649 l 247 649 l 292 889 q 311 918 294 907 q 346 926 328 929 q 375 908 364 924 q 383 872 386 892 l 342 649 l 493 649 l 538 888 q 558 917 542 907 q 592 925 574 928 q 621 906 610 922 q 629 871 632 890 l 588 649 l 671 649 q 703 634 689 649 m 474 556 l 324 556 l 289 368 l 439 368 l 474 556 z "},
$:{ha:760,x_min:96,x_max:651,o:"m 651 232 q 585 76 651 135 q 421 3 519 17 l 421 -46 q 406 -78 421 -64 q 374 -93 392 -93 q 342 -79 356 -93 q 328 -46 328 -65 l 328 1 q 121 51 267 6 q 96 93 96 60 q 115 130 96 115 q 160 135 135 144 q 328 96 275 101 l 328 435 l 188 518 q 96 694 96 586 q 160 849 96 788 q 328 924 225 911 l 328 982 q 341 1012 328 1000 q 374 1024 354 1024 q 406 1009 392 1024 q 421 976 421 994 l 421 925 q 604 874 525 918 q 628 833 628 861 q 605 793 628 804 q 564 789 582 782 q 525 806 553 793 q 476 824 497 818 q 421 832 456 829 l 421 489 l 551 411 q 651 232 651 346 m 328 543 l 328 829 q 228 783 268 818 q 188 694 188 747 q 240 596 188 638 l 328 543 m 558 232 q 504 332 558 292 l 421 381 l 421 97 q 519 144 481 108 q 558 232 558 179 z "},
"%":{ha:760,x_min:22,x_max:731,o:"m 393 740 q 354 622 393 669 q 261 563 315 574 q 152 563 207 551 q 60 623 97 575 q 22 742 22 671 q 50 844 22 801 q 119 907 78 888 q 208 926 160 926 q 297 906 256 925 q 366 843 339 886 q 393 740 393 800 m 633 860 l 194 28 q 151 0 183 0 q 108 26 119 0 q 113 74 97 53 l 550 900 q 593 926 564 926 q 635 903 625 925 q 633 860 646 881 m 710 276 q 720 256 710 276 q 731 185 731 236 q 710 94 731 133 q 656 33 689 54 q 584 3 624 13 q 505 3 544 -7 q 433 33 465 13 q 380 94 400 54 q 360 185 360 133 q 381 276 360 236 q 434 336 401 315 q 506 367 467 357 q 585 367 546 376 q 658 336 625 357 q 710 276 690 315 m 281 683 q 291 695 281 683 q 300 742 300 707 q 281 801 300 776 q 234 831 261 825 q 180 830 207 836 q 134 799 153 824 q 115 740 115 775 q 135 682 115 706 q 181 653 154 658 q 235 653 208 647 q 281 683 263 658 m 592 103 q 615 115 592 103 q 638 185 638 126 q 591 267 638 243 q 499 267 544 290 q 453 185 453 243 q 499 103 453 126 q 592 103 546 79 z "},
"&":{ha:760,x_min:121,x_max:689,o:"m 685 288 q 689 253 693 272 q 669 224 685 233 l 615 174 l 681 72 q 688 38 692 57 q 671 10 685 19 q 635 1 656 -1 q 604 19 614 4 l 547 107 l 457 24 q 375 1 429 6 q 194 69 269 -6 q 121 256 118 144 q 175 424 121 371 l 282 519 l 188 665 q 167 740 168 701 q 227 873 164 819 q 375 926 290 926 q 520 874 458 926 q 583 740 582 821 q 556 660 583 703 l 403 503 l 563 253 l 618 301 q 654 308 633 313 q 685 288 675 304 m 490 740 q 455 808 489 782 q 375 833 421 833 q 292 808 329 833 q 260 740 256 782 q 265 718 260 735 l 351 586 l 476 710 q 483 715 478 711 q 489 725 488 719 q 490 740 490 731 m 496 185 l 332 442 l 260 375 q 213 256 213 328 q 260 137 213 186 q 375 93 307 88 q 404 104 393 93 l 496 185 z "},
"'":{ha:760,x_min:332,x_max:424,o:"m 424 788 q 410 754 424 768 q 378 740 396 740 q 346 754 360 740 q 332 788 332 768 l 332 879 q 346 913 332 899 q 378 926 360 926 q 410 913 396 926 q 424 879 424 899 l 424 788 z "},"(":{ha:760,x_min:278,x_max:461,o:"m 461 867 q 390 672 410 758 q 371 463 371 585 q 390 258 371 343 q 460 65 408 174 q 450 14 472 36 q 414 0 436 -1 q 379 19 392 1 q 300 235 322 140 q 278 463 278 331 q 299 693 278 597 q 379 910 321 789 q 413 928 392 926 q 450 914 435 929 q 461 867 469 894 z "},
")":{ha:760,x_min:294,x_max:478,o:"m 478 463 q 456 235 478 331 q 376 19 433 140 q 343 1 367 3 q 306 14 319 -1 q 296 65 285 35 q 365 259 346 174 q 385 463 385 344 q 365 670 385 583 q 294 867 346 757 q 313 914 289 890 q 345 928 326 929 q 376 910 364 926 q 456 693 435 789 q 478 463 478 597 z "},"*":{ha:760,x_min:163,x_max:588,o:"m 588 774 q 582 739 592 756 q 554 715 572 722 q 451 675 451 676 l 514 588 q 522 554 525 572 q 503 525 518 536 q 469 517 488 514 q 439 535 450 519 l 374 626 l 315 538 q 285 519 304 522 q 251 526 267 517 q 231 557 235 538 q 239 592 226 576 l 296 676 l 192 717 q 165 740 174 722 q 163 775 157 757 q 187 801 169 793 q 222 803 204 810 l 328 763 l 328 879 q 342 913 328 899 q 374 926 356 926 q 406 912 392 926 q 421 879 421 897 l 421 763 l 531 806 q 565 801 547 811 q 588 774 582 790 z "},
"+":{ha:760,x_min:190,x_max:561,o:"m 561 463 q 547 431 561 444 q 515 417 533 417 l 422 417 l 422 324 q 408 292 422 306 q 376 278 394 278 q 343 292 357 278 q 329 324 329 306 l 329 417 l 238 417 q 204 431 218 417 q 190 463 190 444 q 205 495 190 481 q 238 510 219 510 l 329 510 l 329 601 q 344 634 329 619 q 376 649 358 649 q 408 635 394 649 q 422 601 422 621 l 422 510 l 515 510 q 547 496 533 510 q 561 463 561 482 z "},",":{ha:760,x_min:188,x_max:324,o:"m 324 82 l 276 -104 q 255 -132 272 -122 q 219 -136 238 -142 q 192 -114 201 -131 q 188 -79 182 -97 l 233 106 q 256 133 239 124 q 290 138 272 143 q 318 117 308 133 q 324 82 328 100 z "},
"-":{ha:760,x_min:185,x_max:556,o:"m 556 463 q 542 431 556 444 q 510 417 528 417 l 232 417 q 199 431 213 417 q 185 463 185 444 q 199 495 185 481 q 232 510 214 510 l 510 510 q 542 496 528 510 q 556 463 556 482 z "},".":{ha:760,x_min:0,x_max:121,o:"m 91 113 q 106 105 91 113 q 121 60 121 97 q 91 6 121 22 q 31 6 61 -10 q 0 60 0 22 q 31 113 0 97 q 91 113 61 129 z "},"/":{ha:760,x_min:104,x_max:654,o:"m 651 860 l 190 28 q 149 0 179 0 q 104 26 115 0 q 110 74 93 53 l 568 900 q 611 926 582 926 q 653 903 643 925 q 651 860 664 881 z "},
":":{ha:760,x_min:176,x_max:286,o:"m 178 581 q 186 596 178 581 q 232 611 194 611 q 285 581 269 611 q 283 520 300 550 q 229 490 267 490 q 176 521 192 490 q 178 581 161 551 m 285 159 q 277 144 285 159 q 232 129 269 129 q 178 159 194 129 q 178 219 163 189 q 232 250 194 250 q 285 219 269 250 q 285 159 301 189 z "},";":{ha:760,x_min:188,x_max:338,o:"m 308 283 q 323 275 308 283 q 338 229 338 267 q 308 176 338 192 q 248 176 278 160 q 218 229 218 192 q 248 283 218 267 q 308 283 278 299 m 324 82 l 276 -104 q 255 -132 272 -122 q 219 -136 238 -142 q 192 -114 201 -131 q 188 -79 182 -97 l 233 106 q 256 133 239 124 q 290 138 272 143 q 318 117 308 133 q 324 82 328 100 z "},
"<":{ha:760,x_min:260,x_max:492,o:"m 482 190 q 492 157 493 175 q 476 126 490 139 q 441 116 463 114 q 408 133 419 118 l 271 294 q 260 324 260 307 q 274 357 260 343 l 408 515 q 442 533 421 532 q 476 521 463 535 q 492 489 490 508 q 481 456 493 469 l 368 324 l 482 190 z "},"=":{ha:760,x_min:185,x_max:556,o:"m 542 588 q 549 582 542 588 q 556 556 556 575 q 542 523 556 536 q 510 510 528 510 l 232 510 q 199 524 213 510 q 185 556 185 538 q 199 588 185 574 q 232 601 213 601 l 510 601 q 542 588 528 601 m 556 371 q 542 338 556 351 q 510 324 528 324 l 232 324 q 199 338 214 324 q 185 371 185 353 q 199 403 185 389 q 232 417 213 417 l 510 417 q 542 403 528 417 q 556 371 556 389 z "},
">":{ha:760,x_min:250,x_max:482,o:"m 482 324 q 471 294 482 307 l 333 133 q 301 116 322 118 q 265 126 279 114 q 250 157 251 139 q 260 190 249 175 l 374 324 l 261 456 q 250 489 249 469 q 265 521 251 508 q 300 533 279 535 q 333 515 321 532 l 468 357 q 482 324 482 343 z "},"?":{ha:760,x_min:143,x_max:607,o:"m 607 740 q 594 647 607 678 q 546 583 582 615 l 429 447 q 424 435 425 442 q 421 417 421 428 l 421 324 q 408 292 421 306 q 375 278 394 278 q 342 292 356 278 q 329 324 329 306 l 329 417 q 340 479 328 450 q 361 513 351 501 l 476 646 q 514 740 519 683 q 469 810 508 786 q 375 833 429 833 q 208 792 318 833 q 150 808 169 779 q 144 844 139 824 q 165 874 149 865 q 275 917 232 906 q 375 926 318 928 q 543 864 472 926 q 590 803 572 839 q 607 740 607 767 m 433 46 q 404 -6 433 10 q 346 -6 375 -21 q 317 46 317 10 q 346 99 317 83 q 404 99 375 114 q 433 46 433 83 z "},
"@":{ha:760,x_min:15,x_max:747,o:"m 747 356 q 563 90 711 204 q 535 83 550 81 q 511 96 521 85 l 454 174 q 417 144 429 151 q 373 133 404 138 q 279 128 342 128 q 194 172 222 128 q 176 254 165 217 l 228 456 q 288 563 250 532 q 396 594 325 594 l 565 594 q 586 585 572 594 q 592 558 594 576 q 501 217 517 274 l 543 160 q 682 374 654 257 q 658 594 715 514 q 463 674 600 674 q 226 585 338 674 q 81 371 114 497 q 101 156 43 235 q 299 68 160 78 q 315 58 307 68 q 324 35 324 47 q 316 14 324 24 q 299 3 308 4 q 44 113 121 10 q 15 392 -32 217 q 185 639 56 536 q 460 742 315 742 q 713 640 636 742 q 747 356 790 538 m 514 528 l 396 528 q 325 510 349 528 q 297 454 308 496 l 242 251 q 248 210 236 225 q 279 194 260 194 q 325 194 308 194 q 358 197 342 194 q 379 199 374 199 q 395 206 385 200 q 408 215 406 213 q 423 228 411 217 q 440 246 435 240 l 514 528 z "},
A:{ha:760,x_min:54,x_max:701,o:"m 701 57 q 691 19 707 38 q 654 0 675 0 q 610 33 618 0 l 529 278 l 225 278 l 143 33 q 99 0 132 0 q 60 20 74 0 q 54 63 47 40 l 333 896 q 379 926 344 926 q 419 899 408 926 l 701 57 m 499 371 l 379 738 l 256 371 l 499 371 z "},B:{ha:760,x_min:139,x_max:649,o:"m 649 276 q 579 82 642 164 q 417 0 517 0 l 185 0 q 150 10 160 0 q 139 46 139 21 l 139 879 q 153 913 139 897 q 185 926 167 926 l 417 926 q 550 856 499 926 q 601 694 601 786 q 535 528 601 596 q 649 276 657 431 m 486 597 q 498 618 486 597 q 510 694 510 639 q 486 792 510 750 q 417 833 463 833 l 232 833 l 232 556 l 417 556 q 486 597 463 556 m 518 149 q 537 176 518 149 q 556 278 556 204 q 518 407 556 351 q 417 463 481 463 l 232 463 l 232 93 l 417 93 q 518 149 481 93 z "},
C:{ha:760,x_min:142,x_max:604,o:"m 604 46 q 591 14 604 28 q 558 0 578 0 l 374 0 q 199 74 263 0 q 142 232 142 139 l 142 694 q 224 876 142 811 q 374 926 288 926 l 558 926 q 590 913 576 926 q 604 879 604 899 q 591 847 604 861 q 558 833 578 833 l 374 833 q 279 799 318 833 q 235 694 235 758 l 235 232 q 269 135 235 172 q 374 93 308 93 l 558 93 q 590 79 576 93 q 604 46 604 65 z "},D:{ha:760,x_min:129,x_max:638,o:"m 638 232 q 581 74 638 136 q 407 0 518 0 l 175 0 q 140 15 151 0 q 129 46 129 28 l 129 879 q 143 914 129 900 q 175 926 160 926 l 407 926 q 557 876 493 926 q 615 799 593 847 q 638 694 638 750 l 638 232 m 546 232 l 546 694 q 501 799 546 756 q 408 835 460 835 l 221 833 l 221 93 l 407 93 q 510 135 471 93 q 546 232 546 175 z "},
E:{ha:760,x_min:157,x_max:621,o:"m 606 78 q 614 71 606 78 q 621 46 621 64 q 608 14 621 28 q 579 0 596 0 l 204 0 q 171 13 182 0 q 157 46 157 25 l 157 879 q 169 915 157 904 q 204 926 181 926 l 574 926 q 606 912 592 926 q 621 879 621 897 q 607 847 621 861 q 574 833 593 833 l 250 833 l 250 556 l 526 556 q 560 542 546 556 q 574 510 574 529 q 560 476 574 490 q 528 463 547 463 l 250 463 l 250 93 l 574 93 q 606 78 592 93 z "},F:{ha:760,x_min:157,x_max:621,o:"m 607 542 q 614 535 607 542 q 621 510 621 528 q 606 477 621 492 q 574 463 592 463 l 250 463 l 250 46 q 236 14 250 28 q 204 0 222 0 q 171 14 185 0 q 157 46 157 28 l 157 879 q 168 917 157 907 q 204 926 179 926 l 574 926 q 606 912 592 926 q 621 879 621 897 q 607 847 621 861 q 574 833 593 833 l 250 833 l 250 556 l 574 556 q 607 542 593 556 z "},
G:{ha:760,x_min:119,x_max:629,o:"m 629 46 q 619 17 629 31 q 583 0 606 0 l 351 0 q 250 22 299 0 q 175 75 201 43 q 121 232 121 138 l 119 694 q 210 882 119 814 q 351 926 272 926 l 583 926 q 615 913 601 926 q 629 879 629 899 q 616 847 629 861 q 583 833 603 833 l 351 833 q 263 804 299 833 q 213 694 213 764 l 213 232 q 249 135 213 176 q 351 93 282 93 l 538 93 l 538 463 l 435 463 q 401 477 415 463 q 389 510 388 492 q 403 542 390 529 q 435 556 417 556 l 583 556 q 617 542 603 556 q 629 510 629 529 l 629 46 z "},
H:{ha:760,x_min:121,x_max:629,o:"m 629 46 q 616 14 629 28 q 583 0 603 0 q 551 14 564 0 q 538 46 538 28 l 538 463 l 213 463 l 213 46 q 199 14 213 28 q 167 0 186 0 q 134 14 147 0 q 121 46 121 28 l 121 879 q 135 913 121 899 q 167 926 149 926 q 199 913 185 926 q 213 879 213 899 l 213 556 l 538 556 l 538 879 q 551 913 538 899 q 583 926 565 926 q 615 913 601 926 q 629 879 629 899 l 629 46 z "},I:{ha:760,x_min:332,x_max:424,o:"m 424 46 q 410 14 424 28 q 378 0 397 0 q 345 14 358 0 q 332 46 332 28 l 332 879 q 346 913 332 899 q 378 926 360 926 q 410 913 396 926 q 424 879 424 899 l 424 46 z "},
J:{ha:760,x_min:121,x_max:490,o:"m 490 278 q 467 173 488 218 q 430 110 447 128 q 376 60 413 92 q 171 0 313 3 q 133 12 146 -1 q 121 46 121 25 q 133 79 119 68 q 161 92 146 90 q 317 132 279 106 q 374 190 356 158 q 399 278 393 222 l 399 879 q 411 913 397 899 q 444 928 425 928 q 478 913 464 928 q 490 879 492 899 l 490 278 z "},K:{ha:760,x_min:121,x_max:675,o:"m 669 74 q 674 26 685 53 q 629 0 663 0 q 588 24 600 0 l 313 496 l 213 399 l 213 46 q 199 14 213 28 q 167 0 186 0 q 134 14 147 0 q 121 46 121 28 l 121 879 q 135 913 121 899 q 167 926 149 926 q 199 913 185 926 q 213 879 213 899 l 213 532 l 599 914 q 629 926 610 926 q 674 894 663 925 q 667 846 686 864 l 379 563 l 669 74 z "},
L:{ha:760,x_min:185,x_max:649,o:"m 634 78 q 641 71 634 78 q 649 46 649 64 q 635 14 649 28 q 601 0 621 0 l 232 0 q 199 14 214 0 q 185 46 185 31 l 185 879 q 199 912 185 897 q 232 926 214 926 q 264 913 250 926 q 278 879 278 899 l 278 93 l 601 93 q 634 78 619 93 z "},M:{ha:760,x_min:69,x_max:671,o:"m 671 46 q 658 14 671 28 q 625 0 644 0 q 592 14 606 0 q 579 46 579 28 l 579 729 l 411 475 q 371 453 397 453 q 331 472 344 453 l 163 726 l 163 46 q 149 15 163 28 q 115 1 135 1 q 83 15 96 1 q 69 46 69 28 l 69 879 q 83 913 69 899 q 115 926 97 926 q 154 904 139 926 l 371 582 l 588 908 q 625 926 599 926 q 658 911 644 925 q 671 879 671 897 l 671 46 z "},
N:{ha:760,x_min:101,x_max:657,o:"m 657 879 l 657 65 q 655 34 657 46 q 642 11 653 22 q 611 0 632 0 q 571 28 582 0 l 194 699 l 194 46 q 181 14 194 28 q 149 0 167 0 q 115 14 129 0 q 101 46 101 28 l 101 879 q 116 912 101 897 q 149 926 131 926 q 193 893 182 926 l 565 222 l 565 879 q 579 913 565 899 q 611 926 593 926 q 643 913 629 926 q 657 879 657 899 z "},O:{ha:760,x_min:100,x_max:656,o:"m 656 232 q 572 65 656 129 q 378 0 489 0 q 183 65 267 0 q 100 232 100 129 l 100 694 q 184 861 100 796 q 378 926 268 926 q 572 861 488 926 q 656 694 656 796 l 656 232 m 563 232 l 563 694 q 507 796 563 758 q 378 833 451 833 q 249 796 304 833 q 193 694 193 758 l 193 232 q 249 130 193 167 q 378 93 304 93 q 507 130 451 93 q 563 232 563 167 z "},
P:{ha:760,x_min:149,x_max:657,o:"m 576 845 q 616 805 576 845 q 657 649 657 764 q 576 452 657 533 q 379 371 494 371 l 240 371 l 240 46 q 227 14 240 28 q 194 0 214 0 q 162 14 175 0 q 149 46 149 28 l 149 876 q 161 913 149 900 q 194 926 175 926 l 379 926 q 576 845 494 926 m 510 517 q 538 545 510 517 q 565 649 565 572 q 510 779 565 725 q 379 833 456 833 l 240 833 l 240 463 l 379 463 q 510 517 456 463 z "},Q:{ha:760,x_min:100,x_max:750,o:"m 740 17 q 708 -2 729 1 q 672 7 688 -6 l 575 88 q 379 0 496 1 q 184 63 268 -3 q 100 232 100 129 l 100 694 q 184 861 100 796 q 378 926 268 926 q 572 861 488 926 q 656 694 656 796 l 656 232 q 650 199 656 214 q 632 163 644 179 l 731 86 q 749 53 746 75 q 740 17 753 32 m 563 232 l 563 694 q 507 796 563 758 q 378 833 451 833 q 249 796 304 833 q 193 694 193 758 l 193 232 q 249 129 193 167 q 379 94 306 92 q 499 146 449 96 l 432 196 q 415 229 417 208 q 426 265 414 250 q 460 281 439 281 q 497 269 482 282 l 557 222 q 560 226 560 224 q 563 232 563 229 z "},
R:{ha:760,x_min:149,x_max:657,o:"m 657 649 q 612 487 658 556 q 478 383 565 418 l 651 71 q 649 25 663 50 q 611 0 635 0 q 571 22 585 0 l 379 371 l 240 371 l 240 46 q 227 14 240 28 q 194 0 214 0 q 162 14 175 0 q 149 46 149 28 l 149 876 q 161 913 149 900 q 194 926 174 926 l 379 926 q 574 845 493 926 q 657 649 656 764 m 510 517 q 538 545 510 517 q 565 649 565 572 q 510 779 565 725 q 379 833 456 833 l 240 833 l 240 463 l 379 463 q 510 517 456 463 z "},S:{ha:760,x_min:100,x_max:656,o:"m 656 232 q 573 63 654 124 q 378 0 492 1 q 347 0 361 0 q 317 2 332 0 q 291 6 301 4 q 263 11 281 7 q 238 17 246 15 q 211 24 231 18 q 185 33 192 31 q 156 42 179 35 q 126 51 132 50 q 100 93 100 61 q 119 130 100 115 q 164 135 139 144 q 378 93 282 93 q 506 130 450 92 q 563 232 563 168 q 510 332 563 292 l 193 518 q 100 694 100 586 q 178 863 100 799 q 378 926 257 928 q 608 874 524 924 q 632 833 632 861 q 609 793 632 804 q 568 789 586 782 q 531 805 557 793 q 492 820 504 817 q 450 828 481 824 q 378 833 419 832 q 248 797 304 836 q 193 694 192 757 q 244 596 193 636 l 557 411 q 656 232 657 343 z "},
T:{ha:760,x_min:100,x_max:656,o:"m 656 879 q 642 847 656 861 q 610 833 628 833 l 424 833 l 424 46 q 410 14 424 28 q 378 0 397 0 q 345 14 358 0 q 332 46 332 28 l 332 833 l 146 833 q 114 847 128 833 q 100 879 100 861 q 114 913 100 899 q 146 926 128 926 l 610 926 q 642 913 628 926 q 656 879 656 899 z "},U:{ha:760,x_min:99,x_max:654,o:"m 654 278 q 573 82 654 164 q 376 0 492 0 q 180 82 261 0 q 99 278 99 164 l 99 879 q 113 913 99 899 q 144 926 126 926 q 176 913 163 926 q 190 879 190 899 l 190 278 q 245 147 190 201 q 376 93 300 93 q 507 147 453 93 q 561 278 561 201 l 561 879 q 575 913 561 899 q 607 926 589 926 q 640 912 625 926 q 654 879 654 897 l 654 278 z "},
V:{ha:760,x_min:96,x_max:649,o:"m 649 868 l 414 26 q 372 0 406 0 q 329 26 338 0 l 96 868 q 100 901 92 886 q 125 924 108 917 q 161 921 143 931 q 185 893 179 911 l 372 222 l 558 893 q 604 926 567 924 q 642 909 628 928 q 649 868 656 890 z "},W:{ha:760,x_min:83,x_max:667,o:"m 667 871 l 582 32 q 567 9 581 18 q 538 0 553 0 q 493 32 508 0 l 376 343 l 254 32 q 208 0 243 0 q 180 10 193 0 q 165 38 167 19 l 83 875 q 110 922 81 910 q 149 922 128 931 q 172 896 171 914 l 239 246 l 332 490 q 376 526 347 526 q 422 490 407 526 l 510 243 l 576 893 q 595 919 578 910 q 631 924 613 928 q 658 905 647 921 q 667 871 669 889 z "},
X:{ha:760,x_min:51,x_max:699,o:"m 689 850 l 429 463 l 688 76 q 683 13 711 40 q 644 1 668 -1 q 610 22 621 4 l 374 379 l 132 22 q 99 3 121 6 q 63 13 76 0 q 56 71 35 38 l 318 463 l 57 857 q 51 890 47 872 q 71 917 56 907 q 104 926 85 928 q 133 907 124 924 l 374 546 l 611 901 q 642 925 622 919 q 679 918 663 931 q 698 887 696 907 q 689 850 700 867 z "},Y:{ha:760,x_min:49,x_max:699,o:"m 693 856 l 421 450 l 421 46 q 407 14 421 28 q 374 0 393 0 q 342 14 356 0 q 328 46 328 28 l 328 450 l 56 857 q 49 892 44 872 q 68 921 53 911 q 103 926 85 931 q 132 906 121 922 l 374 546 l 613 906 q 644 925 624 921 q 679 918 664 929 q 699 889 694 907 q 693 856 703 871 z "},
Z:{ha:760,x_min:101,x_max:657,o:"m 657 46 q 644 14 657 28 q 611 0 631 0 l 149 0 q 113 15 128 0 q 107 71 92 39 l 532 833 l 149 833 q 115 847 129 833 q 101 879 101 861 q 116 912 101 897 q 149 926 131 926 l 611 926 q 643 917 631 926 q 657 868 672 893 l 222 93 l 611 93 q 643 79 629 93 q 657 46 657 65 z "},"[":{ha:760,x_min:250,x_max:528,o:"m 528 -10 q 514 -42 528 -28 q 482 -56 500 -56 l 296 -56 q 260 -39 275 -56 q 250 -10 250 -25 l 250 935 q 264 968 250 954 q 296 982 278 982 l 482 982 q 514 968 500 982 q 528 935 528 954 q 514 903 528 917 q 482 889 500 889 l 343 889 l 343 38 l 482 38 q 514 24 500 38 q 528 -10 528 10 z "},
"\\":{ha:760,x_min:104,x_max:654,o:"m 650 74 q 654 26 665 53 q 611 0 643 0 q 568 28 581 0 l 107 860 q 105 903 94 881 q 149 926 115 925 q 190 900 178 926 l 650 74 z "},"]":{ha:760,x_min:222,x_max:500,o:"m 500 -10 q 490 -39 500 -25 q 454 -56 475 -56 l 268 -56 q 236 -42 250 -56 q 222 -10 222 -28 q 236 24 222 10 q 268 38 250 38 l 407 38 l 407 889 l 268 889 q 236 903 250 889 q 222 935 222 917 q 236 968 222 954 q 268 982 250 982 l 454 982 q 486 968 472 982 q 500 935 500 954 l 500 -10 z "},"^":{ha:760,x_min:231,
x_max:508,o:"m 496 771 q 464 756 483 757 q 431 768 444 756 l 371 818 l 307 765 q 274 754 292 753 q 243 771 256 756 q 231 806 229 786 q 249 838 233 826 l 342 915 q 371 925 356 925 q 404 913 389 925 l 490 840 q 508 806 507 828 q 496 771 510 785 z "},_:{ha:760,x_min:-10,x_max:763,o:"m 763 -146 q 749 -179 763 -165 q 717 -193 735 -193 l 38 -193 q 5 -178 19 -193 q -10 -146 -10 -164 q 4 -114 -10 -128 q 38 -100 18 -100 l 717 -100 q 749 -114 736 -100 q 763 -146 763 -128 z "},"`":{ha:760,x_min:192,x_max:454,
o:"m 454 1004 q 428 979 449 986 q 393 979 407 972 l 218 1054 q 192 1078 200 1063 q 193 1114 185 1094 q 218 1137 200 1129 q 253 1138 236 1144 l 429 1065 q 454 1040 447 1057 q 454 1004 461 1022 z "},a:{ha:760,x_min:139,x_max:601,o:"m 601 46 q 592 15 601 29 q 556 0 578 0 l 278 0 q 176 56 214 0 q 139 185 139 111 q 176 315 139 258 q 278 371 214 371 l 510 371 l 510 463 q 482 529 510 501 q 417 556 456 556 l 232 556 q 199 569 213 556 q 185 601 185 583 q 199 634 185 619 q 232 649 214 649 l 417 649 q 549 596 496 649 q 601 463 601 543 l 601 46 m 510 93 l 510 278 l 278 278 q 232 185 232 278 q 278 93 232 93 l 510 93 z "},
b:{ha:760,x_min:167,x_max:588,o:"m 588 185 q 538 51 588 103 q 403 0 485 0 l 213 0 q 182 15 194 0 q 167 46 167 28 l 167 879 q 181 913 167 899 q 213 926 194 926 q 245 912 231 926 q 260 879 260 897 l 260 649 l 403 649 q 535 596 482 649 q 588 463 588 543 l 588 185 m 496 185 l 496 463 q 468 529 496 501 q 403 556 442 556 l 260 556 l 260 93 l 403 93 q 468 118 443 93 q 496 185 496 146 z "},c:{ha:760,x_min:190,x_max:561,o:"m 561 46 q 547 14 561 28 q 515 0 533 0 l 376 0 q 242 51 294 0 q 190 185 190 103 l 190 463 q 243 596 190 542 q 376 649 297 649 l 515 649 q 547 635 533 649 q 561 601 561 621 q 547 569 561 583 q 515 556 533 556 l 376 556 q 310 529 336 556 q 283 463 283 503 l 283 185 q 310 118 283 144 q 376 93 335 93 l 515 93 q 547 79 533 93 q 561 46 561 65 z "},
d:{ha:760,x_min:163,x_max:583,o:"m 583 46 q 568 15 583 28 q 538 0 556 0 l 347 0 q 213 51 265 0 q 163 185 163 103 l 163 463 q 215 596 163 543 q 347 649 268 649 l 490 649 l 490 879 q 505 912 490 897 q 538 926 519 926 q 569 913 556 926 q 583 879 583 899 l 583 46 m 490 93 l 490 556 l 347 556 q 282 529 308 556 q 254 463 254 501 l 254 185 q 282 118 254 146 q 347 93 307 93 l 490 93 z "},e:{ha:760,x_min:149,x_max:611,o:"m 611 46 q 597 14 611 28 q 565 0 583 0 l 333 0 q 200 54 253 0 q 149 185 149 107 l 149 371 l 150 417 q 219 580 153 513 q 379 649 285 647 q 543 581 475 649 q 611 417 611 513 l 611 371 l 611 324 q 600 293 611 304 q 565 278 586 278 l 240 278 l 240 185 q 267 119 240 146 q 333 93 293 93 l 565 93 q 597 79 583 93 q 611 46 611 65 m 518 371 l 518 417 q 478 515 518 474 q 379 556 438 556 q 281 515 322 556 q 240 417 240 474 l 240 371 l 518 371 z "},
f:{ha:760,x_min:147,x_max:582,o:"m 582 601 q 569 569 582 583 q 536 556 556 556 l 351 556 l 351 46 q 338 14 351 28 q 304 0 324 0 q 272 14 286 0 q 258 46 258 28 l 258 556 l 193 556 q 161 569 175 556 q 147 601 147 583 q 161 635 147 621 q 193 649 175 649 l 258 649 l 258 740 q 313 874 258 821 q 368 915 342 903 q 435 926 394 926 l 481 926 q 513 913 499 926 q 526 879 526 899 q 513 847 526 861 q 481 833 500 833 l 435 833 q 376 807 403 833 q 351 740 351 782 l 351 649 l 536 649 q 568 635 554 649 q 582 601 582 621 z "},
g:{ha:760,x_min:160,x_max:576,o:"m 576 -93 q 524 -225 578 -171 q 390 -278 472 -278 l 251 -278 q 219 -264 233 -278 q 206 -232 206 -250 q 219 -199 206 -212 q 251 -185 233 -185 l 390 -185 q 457 -158 431 -185 q 483 -93 483 -132 l 483 0 l 344 0 q 210 54 263 0 q 160 185 160 106 l 160 463 q 211 596 160 544 q 344 649 265 649 l 529 649 q 563 635 550 649 q 576 601 576 622 l 576 -93 m 483 93 l 483 556 l 344 556 q 278 529 306 557 q 251 463 251 503 l 251 185 q 276 121 251 146 q 344 93 303 92 l 483 93 z "},h:{ha:760,
x_min:193,x_max:610,o:"m 610 46 q 597 14 610 28 q 564 0 583 0 q 531 14 544 0 q 518 46 518 28 l 518 463 q 492 526 518 499 q 425 556 463 556 l 286 556 l 286 46 q 272 14 286 28 q 240 0 258 0 q 207 14 221 0 q 193 46 193 28 l 193 879 q 208 912 193 897 q 240 926 222 926 q 272 913 258 926 q 286 879 286 899 l 286 649 l 425 649 q 558 593 503 649 q 610 463 610 540 l 610 46 z "},i:{ha:760,x_min:138,x_max:503,o:"m 503 879 q 474 828 503 843 q 415 828 444 813 q 386 879 386 843 q 415 932 386 917 q 474 932 444 947 q 503 879 503 917 m 490 46 q 477 14 490 28 q 444 0 464 0 q 412 14 425 0 q 399 46 399 28 l 399 553 l 193 553 q 138 588 146 553 q 146 630 132 613 q 179 647 160 647 q 444 649 432 649 q 476 635 463 649 q 490 601 490 621 l 490 46 z "},
j:{ha:760,x_min:200,x_max:568,o:"m 568 879 q 539 828 568 843 q 481 828 510 813 q 451 879 451 843 q 481 932 451 917 q 539 932 510 947 q 568 879 568 917 m 556 -93 q 535 -162 550 -132 q 508 -203 519 -192 q 471 -235 496 -215 q 324 -278 421 -278 q 278 -232 278 -278 q 324 -185 278 -185 q 411 -162 383 -185 q 425 -152 417 -158 q 437 -142 433 -146 q 445 -133 440 -139 q 454 -117 450 -126 q 463 -93 458 -107 l 461 553 l 256 553 q 200 588 208 553 q 208 630 194 613 q 242 647 222 647 l 510 649 q 542 635 528 649 q 556 601 556 621 l 556 -93 z "},
k:{ha:760,x_min:167,x_max:629,o:"m 625 68 q 604 6 642 26 q 567 3 586 -4 q 540 29 549 10 l 379 392 l 260 301 l 260 46 q 246 14 260 28 q 213 0 232 0 q 181 14 194 0 q 167 46 167 28 l 167 879 q 181 913 167 899 q 213 926 194 926 q 245 912 231 926 q 260 879 260 897 l 260 418 l 557 643 q 591 651 572 654 q 621 632 610 647 q 629 596 632 617 q 611 565 626 575 l 454 447 l 625 68 z "},l:{ha:760,x_min:153,x_max:510,o:"m 510 46 q 486 6 511 15 q 444 4 461 -4 q 364 65 397 24 q 324 185 324 114 l 322 831 l 208 831 q 153 865 161 831 q 161 908 147 890 q 194 925 175 925 l 371 925 q 403 911 389 925 q 417 879 417 897 l 417 185 q 436 126 417 154 q 485 88 457 97 q 510 46 510 76 z "},
m:{ha:760,x_min:97,x_max:653,o:"m 653 46 q 639 14 653 28 q 607 0 625 0 q 574 14 588 0 q 560 46 560 28 l 560 463 q 535 529 560 504 q 468 556 508 556 l 422 556 l 421 46 q 408 14 421 28 q 375 0 394 0 q 342 14 356 0 q 329 46 329 28 l 328 556 l 190 556 l 190 46 q 176 14 190 28 q 143 0 163 0 q 111 14 125 0 q 97 46 97 28 l 97 601 q 113 638 97 624 q 143 649 126 649 l 468 649 q 601 594 547 649 q 653 463 653 542 l 653 46 z "},n:{ha:760,x_min:167,x_max:583,o:"m 583 46 q 569 14 583 28 q 538 0 556 0 q 504 14 518 0 q 490 46 490 28 l 490 463 q 464 528 490 501 q 399 556 436 556 l 260 556 l 260 46 q 246 14 260 28 q 213 0 232 0 q 181 14 194 0 q 167 46 167 28 l 167 601 q 179 633 167 619 q 213 649 194 649 l 399 649 q 531 596 476 649 q 583 463 583 543 l 583 46 z "},
o:{ha:760,x_min:146,x_max:610,o:"m 610 231 q 539 67 606 135 q 378 -1 472 0 q 214 67 282 -1 q 146 231 146 135 l 146 417 q 217 580 150 513 q 378 649 283 647 q 542 581 474 649 q 610 417 610 513 l 610 231 m 517 231 l 517 417 q 476 515 517 474 q 378 556 435 556 q 280 515 321 556 q 239 417 239 474 l 239 231 q 280 133 239 174 q 378 92 321 92 q 476 133 435 92 q 517 231 517 174 z "},p:{ha:760,x_min:185,x_max:606,o:"m 606 185 q 553 51 606 104 q 421 -1 499 -1 l 276 -1 l 276 -232 q 263 -265 276 -251 q 231 -279 249 -279 q 199 -265 213 -279 q 185 -232 185 -251 l 185 601 q 199 632 185 618 q 231 647 214 647 l 421 647 q 554 596 503 647 q 606 463 606 544 l 606 185 m 513 185 l 513 463 q 486 529 513 503 q 421 554 461 554 l 276 554 l 276 92 l 421 92 q 486 118 460 92 q 513 185 513 144 z "},
q:{ha:760,x_min:143,x_max:565,o:"m 565 -232 q 551 -265 565 -250 q 518 -279 536 -279 q 486 -265 500 -279 q 472 -232 472 -251 l 472 -1 l 329 -1 q 196 51 250 -1 q 143 185 143 106 l 143 463 q 194 596 143 544 q 329 647 247 647 l 518 647 q 550 632 535 647 q 565 601 565 619 l 565 -232 m 472 92 l 472 554 l 329 554 q 263 529 288 554 q 236 463 236 503 l 236 185 q 263 118 236 144 q 329 92 289 92 l 472 92 z "},r:{ha:760,x_min:204,x_max:571,o:"m 571 525 q 549 468 585 486 q 516 464 533 460 q 492 481 499 468 q 481 500 489 486 q 467 522 474 514 q 450 538 461 531 q 389 556 425 556 l 296 556 l 296 46 q 283 15 296 28 q 250 1 269 1 q 217 15 231 1 q 204 46 204 28 l 204 601 q 218 636 204 624 q 250 649 231 649 l 389 649 q 513 610 463 649 q 571 525 557 575 z "},
s:{ha:760,x_min:190,x_max:561,o:"m 561 163 q 508 46 565 93 q 375 0 450 -1 q 218 29 304 1 q 190 69 190 38 q 210 105 190 90 q 249 115 229 119 q 279 107 257 114 q 324 97 301 100 q 376 93 347 93 q 440 112 413 93 q 468 163 468 131 q 451 197 468 179 l 238 379 q 190 486 190 426 q 249 610 190 572 q 376 649 307 649 q 507 621 426 649 q 538 579 538 613 q 521 542 538 556 q 478 535 504 528 q 376 556 407 556 q 312 536 340 556 q 283 486 283 517 q 296 454 283 474 l 518 265 q 551 217 543 238 q 561 163 558 197 z "},
t:{ha:760,x_min:174,x_max:618,o:"m 603 634 q 611 627 603 634 q 618 601 618 619 q 604 569 618 583 q 571 556 590 556 l 396 556 l 396 46 q 382 14 396 28 q 349 0 368 0 q 317 14 331 0 q 303 46 303 28 l 303 556 l 219 556 q 187 569 200 556 q 174 601 174 583 q 188 635 174 621 q 219 649 201 649 l 303 649 l 303 879 q 317 913 303 899 q 349 926 331 926 q 381 912 367 926 q 396 879 396 897 l 396 649 l 571 649 q 603 634 589 649 z "},u:{ha:760,x_min:157,x_max:574,o:"m 574 46 q 561 13 574 26 q 528 0 549 0 l 343 0 q 207 54 260 0 q 157 185 157 104 l 157 601 q 172 634 157 619 q 204 649 186 649 q 236 635 222 649 q 250 601 250 621 l 250 185 q 276 118 250 144 q 343 93 301 93 l 482 93 l 482 601 q 496 635 482 621 q 528 649 510 649 q 560 635 546 649 q 574 601 574 621 l 574 46 z "},
v:{ha:760,x_min:143,x_max:603,o:"m 603 590 l 417 36 q 374 0 404 0 q 326 36 340 -1 l 143 585 q 149 628 136 607 q 188 649 163 649 q 232 618 224 649 l 374 192 l 514 618 q 558 649 525 649 q 598 629 586 647 q 603 590 610 611 z "},w:{ha:760,x_min:129,x_max:618,o:"m 618 592 l 579 36 q 564 10 578 19 q 536 0 550 0 q 494 24 514 0 l 375 171 l 253 22 q 213 0 235 0 q 182 10 196 0 q 167 36 168 21 l 129 594 q 140 631 128 615 q 175 649 153 647 q 207 635 192 650 q 224 606 222 619 l 253 167 l 335 268 q 375 292 351 292 q 417 268 397 292 l 493 171 l 526 610 q 542 638 528 625 q 574 649 557 650 q 618 592 625 643 z "},
x:{ha:760,x_min:169,x_max:581,o:"m 576 71 q 581 26 592 51 q 538 0 569 0 q 499 19 510 0 l 375 232 l 251 19 q 213 0 240 0 q 169 26 181 0 q 172 71 158 51 l 321 324 l 174 576 q 171 623 160 597 q 213 649 182 649 q 253 626 239 649 l 375 417 l 496 626 q 538 649 510 649 q 580 623 571 649 q 575 576 589 597 l 428 324 l 576 71 z "},y:{ha:760,x_min:185,x_max:647,o:"m 647 593 l 383 -204 q 317 -261 356 -244 q 231 -278 285 -275 q 198 -265 211 -279 q 185 -229 185 -250 q 221 -187 188 -194 q 240 -186 228 -186 q 260 -185 251 -186 q 276 -179 268 -183 q 306 -153 294 -169 l 371 46 l 186 590 q 194 630 182 611 q 233 649 207 649 q 274 624 258 649 l 415 196 l 554 614 q 601 649 565 649 q 637 634 622 649 q 647 593 651 619 z "},
z:{ha:760,x_min:149,x_max:611,o:"m 611 46 q 597 14 611 28 q 565 0 583 0 l 194 0 q 160 15 175 0 q 154 72 136 42 l 476 556 l 194 556 q 161 570 175 556 q 149 604 147 585 q 162 635 149 622 q 194 649 175 649 l 565 649 q 599 635 585 649 q 604 576 626 610 l 278 93 l 565 93 q 597 79 583 93 q 611 46 611 65 z "},"{":{ha:760,x_min:182,x_max:460,o:"m 460 -12 q 447 -44 460 -31 q 414 -58 433 -57 q 314 -19 351 -61 q 275 79 275 21 l 275 368 q 263 401 275 389 q 229 415 249 415 q 198 430 214 415 q 182 463 182 444 q 197 493 183 481 q 229 507 210 506 q 265 526 253 508 q 275 554 275 540 l 275 843 q 314 942 275 901 q 414 981 351 983 q 447 966 433 979 q 460 935 460 953 q 447 901 460 915 q 414 889 435 888 q 382 876 394 889 q 368 843 368 863 l 368 554 q 357 499 368 525 q 335 461 350 479 q 358 424 350 444 q 368 368 368 400 l 368 79 q 382 46 368 60 q 414 33 394 33 q 447 21 435 35 q 460 -12 460 7 z "},
"|":{ha:760,x_min:322,x_max:433,o:"m 433 46 q 417 7 433 24 q 378 -10 400 -10 q 339 7 356 -10 q 322 46 322 24 l 322 879 q 339 918 322 901 q 378 935 356 935 q 417 918 400 935 q 433 879 433 901 l 433 46 z "},"}":{ha:760,x_min:281,x_max:558,o:"m 544 493 q 551 487 544 493 q 558 463 557 481 q 544 430 560 444 q 513 415 528 415 q 479 401 492 415 q 465 368 465 389 l 465 79 q 426 -19 465 21 q 326 -58 389 -61 q 294 -44 307 -57 q 281 -12 281 -31 q 293 21 281 7 q 326 33 306 35 q 360 46 344 33 q 374 79 374 61 l 374 368 q 382 424 374 403 q 406 461 390 444 q 383 499 393 475 q 374 554 374 521 l 374 843 q 360 876 374 861 q 326 889 344 889 q 293 901 306 888 q 281 935 281 915 q 294 966 281 953 q 326 981 307 979 q 426 942 389 983 q 465 843 465 901 l 465 554 q 475 526 465 540 q 513 507 488 510 q 544 493 532 506 z "},
"~":{ha:760,x_min:76,x_max:676,o:"m 671 994 q 676 959 681 978 q 654 932 671 940 q 638 915 649 925 q 591 890 628 906 q 513 874 554 874 q 366 899 460 874 q 236 924 272 924 q 188 912 211 924 q 154 889 165 900 l 143 878 q 109 874 128 868 q 81 896 90 879 q 76 931 71 913 q 97 958 82 949 q 113 975 103 965 q 160 1001 124 985 q 239 1017 197 1017 q 394 991 303 1017 q 515 965 486 965 q 563 977 540 965 q 597 1000 586 989 l 608 1013 q 643 1015 624 1021 q 671 994 663 1010 z "},"\u00a1":{ha:760,x_min:318,x_max:435,
o:"m 406 931 q 420 923 406 931 q 435 878 435 915 q 406 825 435 840 q 347 825 376 810 q 318 878 318 840 q 347 931 318 915 q 406 931 376 946 m 424 44 q 410 13 424 26 q 376 -1 396 -1 q 344 12 358 -1 q 331 44 331 25 l 331 600 q 344 633 331 619 q 376 646 358 646 q 410 632 396 646 q 424 600 424 618 l 424 44 z "},"\u00a2":{ha:760,x_min:185,x_max:556,o:"m 556 46 q 542 14 556 28 q 510 0 528 0 l 424 0 l 424 -40 q 415 -60 424 -51 q 396 -68 407 -68 q 376 -60 385 -68 q 368 -40 368 -51 l 368 0 q 236 51 289 0 q 185 185 185 103 l 185 463 q 238 596 185 542 q 368 649 292 649 l 368 690 q 376 710 368 701 q 396 718 385 718 q 415 710 407 718 q 424 690 424 701 l 424 649 l 510 649 q 542 635 528 649 q 556 601 556 621 q 542 569 556 583 q 510 556 528 556 l 424 556 l 424 93 l 510 93 q 542 79 528 93 q 556 46 556 65 m 368 93 l 368 556 q 304 529 331 556 q 278 463 278 503 l 278 185 q 304 118 278 144 q 368 93 329 93 z "},
"\u00a3":{ha:760,x_min:63,x_max:638,o:"m 624 910 q 631 904 624 910 q 638 878 638 897 q 624 845 638 858 q 592 832 611 832 l 406 832 q 317 803 353 832 q 267 693 267 764 l 267 572 l 438 572 q 469 558 456 572 q 483 526 483 544 q 469 493 483 507 q 438 479 456 479 l 267 479 l 267 92 l 590 92 q 624 78 610 92 q 638 46 638 64 q 623 13 638 28 q 590 -1 608 -1 l 219 -1 q 188 13 201 -1 q 174 46 174 26 l 174 479 l 110 479 q 77 494 92 479 q 63 526 63 508 q 76 558 63 544 q 110 572 90 572 l 174 572 l 174 693 q 264 879 174 814 q 406 924 324 924 l 592 924 q 624 910 611 924 z "},
"\u00a4":{ha:760,x_min:54,x_max:701,o:"m 701 463 q 615 231 701 324 q 378 139 528 138 q 260 160 315 139 l 186 26 q 146 0 175 0 q 102 28 114 0 q 107 74 90 56 l 178 201 q 54 463 54 300 q 147 697 54 607 q 378 788 240 788 q 493 765 436 788 l 567 901 q 610 926 581 926 q 651 901 640 925 q 650 860 661 876 l 574 724 q 701 463 703 626 m 446 685 q 239 651 332 718 q 146 463 146 583 q 224 285 146 354 l 446 685 m 610 463 q 529 642 610 571 l 306 243 q 378 232 340 232 q 546 298 483 232 q 610 463 608 364 z "},"\u00a5":{ha:760,
x_min:44,x_max:696,o:"m 679 329 q 686 322 679 329 q 693 297 693 315 q 679 265 693 279 q 646 251 665 251 l 417 251 l 417 46 q 403 14 417 28 q 371 0 389 0 q 338 14 351 0 q 324 46 324 28 l 324 251 l 93 251 q 61 265 75 251 q 47 297 47 278 q 61 330 47 317 q 93 343 75 343 l 324 343 l 324 450 l 315 463 l 93 463 q 61 476 75 463 q 47 510 47 490 q 61 542 47 528 q 93 556 75 556 l 254 556 l 51 857 q 44 892 40 872 q 65 921 49 911 q 99 926 81 931 q 128 906 117 921 l 364 556 l 376 556 l 610 906 q 640 925 621 921 q 676 918 660 929 q 695 889 692 907 q 689 856 699 871 l 488 556 l 646 556 q 679 542 665 556 q 693 510 693 528 q 678 477 693 492 q 646 463 664 463 l 425 463 l 417 450 l 417 343 l 646 343 q 679 329 665 343 z "},
"\u00a7":{ha:760,x_min:146,x_max:603,o:"m 603 467 q 578 360 614 408 q 482 293 542 313 l 497 282 q 535 240 525 258 q 553 185 544 222 q 513 63 564 117 q 388 3 461 10 q 196 21 322 -4 q 163 57 167 26 q 178 94 161 78 q 215 110 194 111 q 258 102 225 108 q 313 94 290 96 q 376 94 336 92 q 438 122 413 99 q 460 174 464 144 q 438 207 458 192 l 204 363 q 146 461 151 403 q 172 576 136 532 q 265 636 208 619 l 256 642 q 196 743 203 683 q 238 874 186 829 q 360 926 290 918 q 524 922 444 935 q 560 882 556 917 q 547 844 563 860 q 504 832 532 828 q 371 833 443 842 q 309 808 335 831 q 288 754 283 786 q 306 724 289 740 l 549 563 q 587 520 576 539 q 603 467 597 501 m 513 454 q 489 488 510 472 l 393 551 q 321 554 349 557 q 259 527 285 550 q 236 474 233 504 q 254 443 239 458 l 343 383 q 363 377 349 382 q 385 372 376 372 q 428 375 394 372 q 490 402 464 381 q 513 454 515 424 z "},
"\u00a8":{ha:760,x_min:203,x_max:546,o:"m 257 1058 q 294 1042 279 1058 q 310 1004 310 1026 q 294 967 310 982 q 257 951 279 951 q 219 967 235 951 q 203 1004 203 982 q 218 1043 203 1028 q 257 1058 233 1058 m 453 1042 q 461 1050 453 1042 q 492 1058 469 1058 q 530 1042 514 1058 q 546 1004 546 1026 q 530 967 546 982 q 492 951 514 951 q 453 967 469 951 q 438 1004 438 982 q 453 1042 438 1026 z "},"\u00a9":{ha:760,x_min:11,x_max:747,o:"m 639 628 q 693 574 639 628 q 747 368 747 519 q 639 108 747 217 q 379 0 531 0 q 119 108 228 0 q 11 368 11 217 q 119 628 11 519 q 379 736 228 736 q 639 628 531 736 m 594 154 q 638 199 594 154 q 682 368 682 243 q 594 582 682 493 q 379 671 506 671 q 165 582 254 671 q 76 368 76 493 q 165 154 76 243 q 379 65 254 65 q 594 154 506 65 m 467 188 q 472 183 467 188 q 476 164 476 178 q 467 140 476 150 q 443 129 457 129 l 351 129 q 257 171 294 129 q 226 256 226 206 l 226 486 q 271 585 226 547 q 351 613 306 613 l 443 613 q 467 602 457 613 q 476 578 476 592 q 467 553 476 564 q 443 543 457 543 l 351 543 q 313 529 328 543 q 293 486 293 511 l 293 256 q 308 215 293 232 q 351 197 324 197 l 443 197 q 467 188 457 197 z "},
"\u00aa":{ha:760,x_min:190,x_max:508,o:"m 501 528 q 493 503 501 515 q 464 490 481 490 l 288 490 q 217 529 243 490 q 190 618 190 568 q 217 707 190 669 q 288 744 243 744 l 429 744 l 429 799 q 414 838 429 819 q 375 851 396 851 l 257 851 q 232 863 243 851 q 221 890 221 875 q 232 915 221 904 q 257 925 243 925 l 375 925 q 464 890 429 925 q 501 799 501 857 l 501 528 m 498 451 q 503 445 498 451 q 508 426 508 440 q 497 401 508 413 q 471 390 485 390 l 228 390 q 203 401 214 390 q 193 426 193 413 q 203 451 193 440 q 228 461 214 461 l 474 461 q 498 451 488 461 m 429 563 l 429 671 l 288 671 q 265 618 265 671 q 288 563 265 563 l 429 563 z "},
"\u00ab":{ha:760,x_min:133,x_max:589,o:"m 579 326 q 589 293 590 311 q 574 263 588 275 q 538 252 560 250 q 506 269 517 254 l 368 431 q 357 460 357 443 q 371 493 357 479 l 506 651 q 539 669 518 668 q 574 657 560 671 q 589 625 588 644 q 578 592 590 606 l 465 460 l 579 326 m 354 326 q 365 293 367 311 q 349 263 364 275 q 314 252 335 250 q 282 269 293 254 l 143 431 q 133 460 133 444 q 146 493 133 478 l 282 651 q 315 669 294 668 q 350 657 336 671 q 365 625 364 644 q 354 592 367 606 l 240 460 l 354 326 z "},
"\u00ae":{ha:760,x_min:11,x_max:749,o:"m 640 628 q 694 575 640 628 q 749 368 749 521 q 640 108 749 215 q 379 0 532 0 q 119 108 228 0 q 11 368 11 217 q 119 628 11 521 q 379 736 226 736 q 640 628 532 736 m 593 154 q 638 199 593 154 q 682 368 682 243 q 593 582 682 493 q 379 671 504 671 q 167 582 256 671 q 78 368 78 493 q 167 154 78 243 q 379 65 256 65 q 593 154 504 65 m 538 463 q 451 324 538 367 l 533 179 q 531 145 542 163 q 504 128 521 128 q 474 144 485 128 l 382 313 l 306 313 l 306 161 q 297 138 306 147 q 272 128 288 128 q 248 138 258 128 q 238 161 238 147 l 238 576 q 249 601 238 592 q 272 613 258 613 l 388 613 q 493 569 450 613 q 538 463 536 525 m 469 463 q 445 519 469 494 q 388 543 421 543 l 306 543 l 306 381 l 388 381 q 445 404 421 381 q 469 463 469 428 z "},
"\u00af":{ha:760,x_min:147,x_max:606,o:"m 592 1097 q 599 1090 592 1097 q 606 1064 606 1083 q 592 1031 606 1044 q 560 1018 578 1018 l 193 1018 q 161 1031 175 1018 q 147 1064 147 1044 q 161 1097 147 1083 q 193 1110 175 1110 l 560 1110 q 592 1097 578 1110 z "},"\u00b0":{ha:760,x_min:238,x_max:515,o:"m 472 1075 q 493 1056 472 1075 q 515 972 515 1038 q 472 869 515 907 q 376 832 428 832 q 281 869 325 832 q 238 972 238 907 q 281 1075 238 1038 q 376 1113 325 1113 q 472 1075 428 1113 m 400 931 q 412 937 400 931 q 424 972 424 943 q 400 1014 424 1001 q 353 1014 376 1026 q 329 972 329 1001 q 353 931 329 943 q 400 931 376 918 z "},
"\u00b4":{ha:760,x_min:249,x_max:508,o:"m 508 1113 q 485 1054 526 1075 l 310 979 q 275 979 296 972 q 249 1003 254 986 q 249 1039 242 1021 q 274 1065 256 1057 l 449 1138 q 483 1137 465 1144 q 508 1113 501 1129 z "},"\u00b6":{ha:760,x_min:121,x_max:606,o:"m 606 46 q 594 13 606 26 q 568 0 583 0 q 542 14 553 0 q 532 46 532 28 l 532 851 l 451 851 l 451 46 q 440 13 451 26 q 414 0 429 0 q 388 13 399 0 q 376 46 376 26 l 376 538 l 351 538 q 181 596 242 538 q 121 732 121 654 q 181 867 121 808 q 351 926 242 926 l 565 926 q 593 912 581 926 q 606 879 606 897 l 606 46 z "},
"\u00b7":{ha:760,x_min:319,x_max:425,o:"m 425 460 q 399 413 425 426 q 346 413 372 399 q 319 460 319 426 q 346 508 319 494 q 399 508 372 522 q 425 460 425 494 z "},"\u00b8":{ha:760,x_min:275,x_max:435,o:"m 435 85 q 391 10 432 29 q 312 15 350 -8 q 275 86 274 39 q 286 106 275 101 q 308 103 297 110 q 318 83 318 96 q 337 53 318 63 q 374 52 356 43 q 393 85 393 61 q 371 117 393 108 q 356 163 356 122 l 356 229 l 400 229 l 400 151 q 435 85 439 128 z "},"\u00ba":{ha:760,x_min:218,x_max:538,o:"m 535 615 q 487 522 535 558 q 376 486 439 486 q 268 522 315 486 q 221 615 221 558 l 221 799 q 268 891 221 856 q 376 926 315 926 q 487 891 439 926 q 535 799 535 856 l 535 615 m 527 449 q 532 444 527 449 q 538 425 538 439 q 526 400 538 411 q 499 389 514 389 l 254 389 q 228 400 239 389 q 218 425 218 411 q 228 449 218 439 q 254 460 239 460 l 501 460 q 527 449 517 460 m 461 615 l 461 799 q 435 838 461 825 q 376 851 410 851 q 319 838 343 851 q 294 799 294 825 l 294 615 q 319 574 294 589 q 376 560 344 560 q 435 574 410 560 q 461 615 461 589 z "},
"\u00bb":{ha:760,x_min:157,x_max:613,o:"m 613 460 q 603 431 613 444 l 465 269 q 432 252 453 254 q 397 263 411 250 q 382 293 383 275 q 392 326 381 311 l 506 460 l 393 592 q 381 625 381 606 q 396 657 382 644 q 431 669 410 671 q 465 651 453 668 l 600 493 q 613 460 613 481 m 389 460 q 379 431 389 444 l 240 269 q 208 252 229 254 q 174 263 188 250 q 157 293 158 275 q 168 326 156 311 l 282 460 l 168 592 q 157 625 156 606 q 172 657 158 644 q 207 669 186 671 q 240 651 228 668 l 376 493 q 389 460 389 478 z "},
"\u00bf":{ha:760,x_min:147,x_max:610,o:"m 438 882 q 408 831 438 846 q 350 831 379 815 q 321 882 321 846 q 350 935 321 919 q 408 935 379 950 q 438 882 438 919 m 604 121 q 609 83 614 104 q 589 56 604 63 q 479 13 522 24 q 379 1 436 1 q 210 65 276 3 q 165 126 182 90 q 147 188 147 163 q 159 281 147 250 q 207 346 171 313 l 324 482 q 331 493 328 486 q 332 513 333 503 l 332 604 q 347 637 332 622 q 379 651 361 651 q 411 638 397 651 q 425 604 425 624 l 425 513 q 413 449 426 479 q 393 415 406 433 l 278 282 q 240 188 235 246 q 285 119 244 143 q 379 96 325 96 q 411 98 394 96 q 439 102 428 100 q 467 110 450 104 q 492 118 485 115 q 520 128 500 121 q 546 138 540 135 q 604 121 583 150 z "},
"\u00c0":{ha:760,x_min:53,x_max:699,o:"m 463 994 q 433 974 456 979 q 399 976 411 968 l 232 1067 q 208 1093 214 1076 q 213 1128 203 1110 q 239 1149 221 1143 q 274 1147 257 1156 l 443 1058 q 465 1031 460 1049 q 463 994 471 1013 m 699 57 q 689 19 704 38 q 653 0 674 0 q 607 33 618 0 l 526 278 l 224 278 l 140 33 q 97 0 132 0 q 59 20 72 0 q 53 63 46 40 l 332 896 q 376 926 340 926 q 418 899 407 926 l 699 57 m 496 371 l 376 738 l 254 371 l 496 371 z "},"\u00c1":{ha:760,x_min:53,x_max:699,o:"m 538 1113 q 538 1076 546 1093 q 513 1051 531 1058 l 339 978 q 303 979 324 972 q 278 1001 283 986 q 278 1038 271 1019 q 303 1064 285 1057 l 479 1138 q 514 1137 496 1144 q 538 1113 532 1129 m 699 57 q 689 19 704 38 q 653 0 674 0 q 607 33 618 0 l 526 278 l 224 278 l 140 33 q 97 0 132 0 q 59 20 72 0 q 53 63 46 40 l 332 896 q 376 926 340 926 q 418 899 407 926 l 699 57 m 496 371 l 376 738 l 254 371 l 496 371 z "},
"\u00c2":{ha:760,x_min:53,x_max:699,o:"m 501 990 q 443 988 475 961 l 376 1047 l 303 985 q 246 990 272 961 q 235 1023 233 1004 q 251 1053 238 1042 l 350 1136 q 376 1146 360 1146 q 407 1133 393 1146 l 497 1054 q 513 1024 511 1044 q 501 990 514 1004 m 699 57 q 689 19 704 38 q 653 0 674 0 q 607 33 618 0 l 526 278 l 224 278 l 140 33 q 97 0 132 0 q 59 20 72 0 q 53 63 46 40 l 332 896 q 376 926 340 926 q 418 899 407 926 l 699 57 m 496 371 l 376 738 l 254 371 l 496 371 z "},"\u00c3":{ha:760,x_min:53,x_max:699,
o:"m 567 1090 q 548 1022 567 1050 q 502 983 529 993 q 444 977 475 972 q 392 1001 414 982 l 324 1063 q 288 1066 308 1075 q 267 1032 267 1057 l 267 1013 q 256 985 267 997 q 233 974 246 974 q 207 985 218 974 q 196 1014 196 996 l 196 1032 q 228 1118 196 1086 q 301 1148 261 1150 q 372 1121 340 1146 q 436 1063 433 1067 q 474 1057 451 1049 q 496 1090 496 1065 l 496 1107 q 506 1135 496 1124 q 532 1146 517 1146 q 556 1135 546 1146 q 567 1108 567 1124 l 567 1090 m 699 57 q 689 19 704 38 q 653 0 674 0 q 607 33 618 0 l 526 278 l 224 278 l 140 33 q 97 0 132 0 q 59 20 72 0 q 53 63 46 40 l 332 896 q 376 926 340 926 q 418 899 407 926 l 699 57 m 496 371 l 376 738 l 254 371 l 496 371 z "},
"\u00c4":{ha:760,x_min:53,x_max:699,o:"m 699 57 q 689 19 704 38 q 653 0 674 0 q 607 33 618 0 l 526 278 l 224 278 l 140 33 q 97 0 132 0 q 59 20 72 0 q 53 63 46 40 l 332 896 q 376 926 340 926 q 418 899 407 926 l 699 57 m 496 371 l 376 738 l 254 371 l 496 371 m 257 1081 q 294 1065 279 1081 q 310 1026 310 1049 q 294 989 310 1004 q 257 974 279 974 q 219 989 235 974 q 203 1026 203 1004 q 218 1065 203 1050 q 257 1081 233 1081 m 453 1065 q 461 1073 453 1065 q 492 1081 469 1081 q 530 1065 514 1081 q 546 1026 546 1049 q 530 989 546 1004 q 492 974 514 974 q 453 989 469 974 q 438 1026 438 1004 q 453 1065 438 1049 z "},
"\u00c5":{ha:760,x_min:53,x_max:699,o:"m 699 57 q 689 19 704 38 q 653 0 674 0 q 607 33 618 0 l 526 278 l 224 278 l 140 33 q 97 0 132 0 q 59 20 72 0 q 53 63 46 40 l 332 896 q 376 926 340 926 q 418 899 407 926 l 699 57 m 496 371 l 376 738 l 254 371 l 496 371 m 321 1089 q 333 1101 321 1089 q 378 1113 344 1113 q 435 1089 411 1113 q 458 1032 458 1065 q 435 975 458 999 q 378 951 411 951 q 321 975 344 951 q 297 1032 297 999 q 321 1089 297 1065 m 405 1058 q 400 1063 405 1058 q 379 1068 394 1068 q 353 1058 364 1068 q 342 1032 342 1047 q 353 1006 342 1017 q 379 996 364 996 q 405 1006 394 996 q 415 1032 415 1017 q 405 1058 415 1047 z "},
"\u00c6":{ha:760,x_min:-78,x_max:840,o:"m 826 78 q 833 71 826 78 q 840 46 840 64 q 828 14 840 28 q 799 0 815 0 l 463 0 q 429 13 440 0 q 415 46 415 25 l 415 247 l 132 247 l 6 24 q -43 -1 -10 -6 q -77 26 -67 1 q -75 69 -87 50 l 374 901 q 424 926 388 926 l 793 926 q 826 912 811 926 q 840 879 840 897 q 826 847 840 861 q 793 833 813 833 l 508 833 l 508 556 l 746 556 q 779 542 765 556 q 793 510 793 529 q 780 476 793 490 q 747 463 767 463 l 508 463 l 508 93 l 793 93 q 826 78 811 93 m 415 340 l 415 783 l 179 340 l 415 340 z "},
"\u00c7":{ha:760,x_min:149,x_max:611,o:"m 611 46 q 597 14 611 28 q 565 0 583 0 l 425 0 l 421 -18 q 483 -62 463 -22 q 482 -155 510 -115 q 405 -194 454 -194 q 331 -147 356 -193 q 332 -117 322 -129 q 358 -105 342 -104 q 382 -121 375 -106 q 407 -135 392 -135 q 433 -122 422 -136 q 433 -90 443 -107 q 406 -76 422 -72 q 371 -69 385 -79 q 363 -35 357 -60 l 369 0 q 206 74 265 4 q 149 232 149 136 l 149 694 q 171 799 149 750 q 229 876 193 847 q 379 926 293 926 l 565 926 q 597 913 583 926 q 611 879 611 899 q 597 847 611 861 q 565 833 583 833 l 379 833 q 285 799 325 833 q 240 694 240 756 l 240 232 q 276 135 240 175 q 379 93 315 93 l 565 93 q 597 79 583 93 q 611 46 611 65 z "},
"\u00c8":{ha:760,x_min:157,x_max:621,o:"m 504 1004 q 478 979 499 986 q 443 979 458 972 l 268 1054 q 243 1078 250 1063 q 244 1114 236 1094 q 269 1137 251 1129 q 304 1138 288 1144 l 479 1065 q 504 1040 497 1057 q 504 1004 511 1022 m 606 78 q 614 71 606 78 q 621 46 621 64 q 608 14 621 28 q 579 0 596 0 l 204 0 q 171 13 182 0 q 157 46 157 25 l 157 879 q 169 915 157 904 q 204 926 181 926 l 574 926 q 606 912 592 926 q 621 879 621 897 q 607 847 621 861 q 574 833 593 833 l 250 833 l 250 556 l 526 556 q 560 542 546 556 q 574 510 574 529 q 560 476 574 490 q 528 463 547 463 l 250 463 l 250 93 l 574 93 q 606 78 592 93 z "},
"\u00c9":{ha:760,x_min:157,x_max:621,o:"m 542 1113 q 518 1054 560 1075 l 343 979 q 308 979 329 972 q 282 1003 288 986 q 282 1039 275 1021 q 307 1065 289 1057 l 482 1138 q 517 1137 499 1144 q 542 1113 535 1129 m 606 78 q 614 71 606 78 q 621 46 621 64 q 608 14 621 28 q 579 0 596 0 l 204 0 q 171 13 182 0 q 157 46 157 25 l 157 879 q 169 915 157 904 q 204 926 181 926 l 574 926 q 606 912 592 926 q 621 879 621 897 q 607 847 621 861 q 574 833 593 833 l 250 833 l 250 556 l 526 556 q 560 542 546 556 q 574 510 574 529 q 560 476 574 490 q 528 463 547 463 l 250 463 l 250 93 l 574 93 q 606 78 592 93 z "},
"\u00ca":{ha:760,x_min:139,x_max:601,o:"m 499 990 q 471 976 488 976 q 440 988 454 975 l 374 1046 l 300 985 q 243 989 271 958 q 233 1022 231 1003 q 250 1051 236 1040 l 347 1135 q 374 1144 356 1144 q 404 1132 390 1144 l 494 1054 q 510 1024 508 1043 q 499 990 511 1004 m 601 46 q 590 14 601 28 q 560 0 578 0 l 185 0 q 151 13 164 0 q 139 46 139 25 l 139 879 q 151 915 139 904 q 185 926 163 926 l 556 926 q 588 913 574 926 q 601 879 601 899 q 588 847 601 861 q 556 833 575 833 l 232 833 l 232 556 l 508 556 q 542 542 528 556 q 556 510 556 529 q 542 476 556 490 q 510 463 529 463 l 232 463 l 232 93 l 556 93 q 588 79 574 93 q 601 46 601 65 z "},
"\u00cb":{ha:760,x_min:142,x_max:604,o:"m 604 46 q 592 14 604 28 q 563 0 581 0 l 188 0 q 154 13 167 0 q 142 46 142 25 l 142 879 q 154 915 142 904 q 188 926 165 926 l 558 926 q 590 913 576 926 q 604 879 604 899 q 591 847 604 861 q 558 833 578 833 l 235 833 l 235 556 l 511 556 q 544 542 531 556 q 558 510 558 529 q 545 476 558 490 q 513 463 532 463 l 235 463 l 235 93 l 558 93 q 590 79 576 93 q 604 46 604 65 m 219 1067 q 227 1074 219 1067 q 257 1082 235 1082 q 294 1067 279 1082 q 310 1029 310 1051 q 294 991 310 1007 q 257 975 279 975 q 218 990 233 975 q 203 1029 203 1006 q 219 1067 203 1051 m 453 1067 q 461 1074 453 1067 q 492 1082 469 1082 q 530 1067 514 1082 q 546 1029 546 1051 q 530 991 546 1007 q 492 975 514 975 q 453 991 469 975 q 438 1029 438 1007 q 453 1067 438 1051 z "},
"\u00cc":{ha:760,x_min:176,x_max:436,o:"m 436 1003 q 410 979 431 986 q 375 979 389 972 l 200 1054 q 176 1113 157 1074 q 201 1137 183 1129 q 235 1138 218 1144 l 411 1065 q 436 1039 429 1057 q 436 1003 443 1021 m 421 46 q 407 14 421 28 q 374 0 393 0 q 342 14 356 0 q 328 46 328 28 l 328 879 q 342 913 328 899 q 374 926 356 926 q 406 912 392 926 q 421 879 421 897 l 421 46 z "},"\u00cd":{ha:760,x_min:271,x_max:532,o:"m 531 1114 q 532 1079 539 1094 q 507 1056 525 1064 l 332 979 q 297 981 317 974 q 271 1004 276 988 q 271 1040 264 1022 q 296 1065 278 1058 l 471 1139 q 506 1138 488 1146 q 531 1114 524 1131 m 421 46 q 407 14 421 28 q 374 0 393 0 q 342 14 356 0 q 328 46 328 28 l 328 879 q 342 913 328 899 q 374 926 356 926 q 406 912 392 926 q 421 879 421 897 l 421 46 z "},
"\u00ce":{ha:760,x_min:238,x_max:514,o:"m 504 990 q 444 988 475 961 l 379 1047 l 304 985 q 276 976 292 975 q 249 990 260 978 q 238 1023 236 1004 q 254 1053 239 1042 l 351 1136 q 376 1146 363 1146 l 381 1146 q 407 1133 396 1146 l 499 1054 q 514 1024 513 1044 q 504 990 515 1004 m 422 46 q 408 14 422 28 q 376 0 394 0 q 343 14 357 0 q 329 46 329 28 l 329 879 q 344 912 329 897 q 376 926 358 926 q 408 913 394 926 q 422 879 422 899 l 422 46 z "},"\u00cf":{ha:760,x_min:201,x_max:543,o:"m 421 46 q 407 14 421 28 q 374 0 393 0 q 342 14 356 0 q 328 46 328 28 l 328 879 q 342 913 328 899 q 374 926 356 926 q 406 912 392 926 q 421 879 421 897 l 421 46 m 217 1067 q 224 1074 217 1067 q 254 1082 232 1082 q 292 1067 276 1082 q 308 1029 308 1051 q 293 990 308 1006 q 254 975 278 975 q 217 991 232 975 q 201 1029 201 1007 q 217 1067 201 1051 m 452 1067 q 460 1074 452 1067 q 490 1082 468 1082 q 528 1067 513 1082 q 543 1029 543 1051 q 528 991 543 1007 q 490 975 513 975 q 451 990 467 975 q 436 1029 436 1006 q 452 1067 436 1051 z "},
"\u00d1":{ha:760,x_min:101,x_max:658,o:"m 561 1090 q 542 1022 561 1050 q 497 983 524 993 q 439 977 469 972 q 386 1001 408 982 l 319 1063 q 283 1066 304 1075 q 261 1032 261 1057 l 261 1013 q 251 985 261 997 q 228 974 242 974 q 201 985 213 974 q 190 1014 190 997 l 190 1032 q 223 1118 190 1086 q 295 1148 256 1150 q 368 1121 335 1146 q 432 1063 429 1067 q 469 1057 447 1049 q 492 1090 492 1065 l 492 1107 q 502 1135 492 1124 q 528 1146 513 1146 q 551 1135 540 1146 q 561 1108 561 1124 l 561 1090 m 658 879 l 657 65 q 655 34 657 46 q 642 11 653 22 q 611 0 632 0 q 571 28 582 0 l 194 699 l 194 46 q 181 14 194 28 q 149 0 167 0 q 115 14 129 0 q 101 46 101 28 l 101 879 q 116 912 101 897 q 149 926 131 926 q 193 893 182 926 l 565 222 l 565 879 q 580 912 565 897 q 613 926 594 926 q 644 913 631 926 q 658 879 658 899 z "},
"\u00d2":{ha:760,x_min:97,x_max:653,o:"m 504 1004 q 478 979 499 986 q 443 979 457 972 l 268 1054 q 242 1078 250 1063 q 243 1114 235 1094 q 268 1137 250 1129 q 303 1138 286 1144 l 479 1065 q 504 1040 497 1057 q 504 1004 511 1022 m 653 232 q 569 65 653 129 q 375 0 486 0 q 181 65 264 0 q 97 232 97 129 l 97 694 q 181 861 97 796 q 375 926 265 926 q 569 861 485 926 q 653 694 653 796 l 653 232 m 560 232 l 560 694 q 504 796 560 758 q 375 833 449 833 q 246 796 301 833 q 190 694 190 758 l 190 232 q 246 130 190 167 q 375 93 301 93 q 504 130 449 93 q 560 232 560 167 z "},
"\u00d3":{ha:760,x_min:97,x_max:653,o:"m 507 1113 q 483 1054 526 1074 l 308 979 q 274 979 294 972 q 247 1003 253 986 q 247 1039 240 1021 q 272 1065 254 1057 l 449 1138 q 483 1137 465 1144 q 507 1113 500 1129 m 653 232 q 569 65 653 129 q 375 0 486 0 q 181 65 264 0 q 97 232 97 129 l 97 694 q 181 861 97 796 q 375 926 265 926 q 569 861 485 926 q 653 694 653 796 l 653 232 m 560 232 l 560 694 q 504 796 560 758 q 375 833 449 833 q 246 796 301 833 q 190 694 190 758 l 190 232 q 246 130 190 167 q 375 93 301 93 q 504 130 449 93 q 560 232 560 167 z "},
"\u00d4":{ha:760,x_min:97,x_max:653,o:"m 501 990 q 473 977 490 978 q 443 988 456 976 l 376 1047 l 303 985 q 246 990 272 961 q 235 1023 233 1004 q 251 1053 238 1042 l 349 1136 q 376 1146 360 1146 q 407 1133 393 1146 l 496 1054 q 513 1024 511 1044 q 501 990 514 1004 m 653 232 q 569 65 653 129 q 375 0 486 0 q 181 65 264 0 q 97 232 97 129 l 97 694 q 181 861 97 796 q 375 926 265 926 q 569 861 485 926 q 653 694 653 796 l 653 232 m 560 232 l 560 694 q 504 796 560 758 q 375 833 449 833 q 246 796 301 833 q 190 694 190 758 l 190 232 q 246 130 190 167 q 375 93 301 93 q 504 130 449 93 q 560 232 560 167 z "},
"\u00d5":{ha:760,x_min:97,x_max:653,o:"m 560 1090 q 528 1004 560 1036 q 457 975 496 972 q 385 1001 418 978 l 318 1063 q 281 1066 303 1075 q 260 1032 260 1057 l 260 1013 q 250 985 260 997 q 226 974 240 974 q 201 985 211 974 q 190 1014 190 996 l 190 1032 q 223 1118 190 1086 q 294 1148 256 1150 q 367 1121 333 1146 q 431 1063 428 1067 q 468 1057 446 1049 q 490 1090 490 1065 l 490 1107 q 501 1135 490 1124 q 526 1146 511 1146 q 549 1135 539 1146 q 560 1108 560 1124 l 560 1090 m 653 232 q 569 65 653 129 q 375 0 486 0 q 181 65 264 0 q 97 232 97 129 l 97 694 q 181 861 97 796 q 375 926 265 926 q 569 861 485 926 q 653 694 653 796 l 653 232 m 560 232 l 560 694 q 504 796 560 758 q 375 833 449 833 q 246 796 301 833 q 190 694 190 758 l 190 232 q 246 130 190 167 q 375 93 301 93 q 504 130 449 93 q 560 232 560 167 z "},
"\u00d6":{ha:760,x_min:99,x_max:654,o:"m 654 232 q 571 65 654 129 q 376 0 488 0 q 182 65 265 0 q 99 232 99 129 l 99 694 q 183 861 99 796 q 376 926 267 926 q 571 861 488 926 q 654 694 654 796 l 654 232 m 563 232 l 563 694 q 506 796 563 758 q 376 833 450 833 q 247 796 303 833 q 192 694 192 758 l 192 232 q 247 130 192 167 q 376 93 303 93 q 507 130 451 93 q 563 232 563 167 m 257 1081 q 296 1065 281 1081 q 311 1026 311 1050 q 295 989 311 1004 q 257 974 279 974 q 219 989 235 974 q 204 1026 204 1004 q 219 1065 204 1049 q 257 1081 235 1081 m 493 1081 q 531 1065 515 1081 q 546 1026 546 1049 q 531 989 546 1004 q 493 974 515 974 q 455 989 471 974 q 439 1026 439 1004 q 454 1065 439 1050 q 493 1081 469 1081 z "},
"\u00d8":{ha:760,x_min:69,x_max:671,o:"m 668 893 l 619 807 q 651 696 651 758 l 651 232 q 568 66 651 131 q 374 1 485 1 q 190 57 269 1 l 156 -4 q 113 -32 144 -32 q 69 -6 81 -32 q 74 40 58 21 l 124 129 q 96 232 96 181 l 96 696 q 180 862 96 797 q 374 926 264 926 q 551 874 475 926 l 585 935 q 628 960 597 960 q 670 937 660 960 q 668 893 681 914 m 506 794 q 374 835 453 835 q 244 797 300 835 q 189 696 189 760 l 189 242 l 506 794 m 560 232 l 560 696 l 560 701 l 236 138 q 374 93 292 93 q 503 131 447 93 q 560 232 560 168 z "},
"\u00d9":{ha:760,x_min:97,x_max:653,o:"m 504 1004 q 478 979 499 986 q 443 979 457 972 l 268 1054 q 242 1078 250 1063 q 243 1114 235 1094 q 268 1137 250 1129 q 303 1138 286 1144 l 479 1065 q 504 1040 497 1057 q 504 1004 511 1022 m 653 278 q 571 82 653 164 q 375 0 489 0 q 179 82 261 0 q 97 278 97 164 l 97 879 q 111 913 97 899 q 143 926 125 926 q 176 912 161 926 q 190 879 190 897 l 190 278 q 244 147 190 201 q 375 93 299 93 q 506 147 451 93 q 560 278 560 201 l 560 879 q 574 912 560 897 q 607 926 589 926 q 639 913 625 926 q 653 879 653 899 l 653 278 z "},
"\u00da":{ha:760,x_min:97,x_max:653,o:"m 514 1114 q 515 1077 522 1094 q 489 1053 507 1060 l 311 974 q 278 975 296 967 q 254 999 261 983 q 255 1034 247 1017 q 281 1060 263 1051 l 454 1138 q 489 1138 471 1146 q 514 1114 507 1131 m 653 278 q 571 82 653 164 q 375 0 489 0 q 179 82 261 0 q 97 278 97 164 l 97 879 q 111 913 97 899 q 143 926 125 926 q 176 912 161 926 q 190 879 190 897 l 190 278 q 244 147 190 201 q 375 93 299 93 q 506 147 451 93 q 560 278 560 201 l 560 879 q 574 912 560 897 q 607 926 589 926 q 639 913 625 926 q 653 879 653 899 l 653 278 z "},
"\u00db":{ha:760,x_min:97,x_max:653,o:"m 501 990 q 473 977 490 978 q 443 988 456 976 l 376 1047 l 303 985 q 246 990 272 961 q 235 1023 233 1004 q 251 1053 238 1042 l 349 1136 q 376 1146 360 1146 q 407 1133 393 1146 l 496 1054 q 513 1024 511 1044 q 501 990 514 1004 m 653 278 q 571 82 653 164 q 375 0 489 0 q 179 82 261 0 q 97 278 97 164 l 97 879 q 111 913 97 899 q 143 926 125 926 q 176 912 161 926 q 190 879 190 897 l 190 278 q 244 147 190 201 q 375 93 299 93 q 506 147 451 93 q 560 278 560 201 l 560 879 q 574 912 560 897 q 607 926 589 926 q 639 913 625 926 q 653 879 653 899 l 653 278 z "},
"\u00dc":{ha:760,x_min:97,x_max:653,o:"m 653 278 q 571 82 653 164 q 375 0 489 0 q 179 82 261 0 q 97 278 97 164 l 97 879 q 111 913 97 899 q 143 926 125 926 q 176 912 161 926 q 190 879 190 897 l 190 278 q 244 147 190 201 q 375 93 299 93 q 506 147 451 93 q 560 278 560 201 l 560 879 q 574 912 560 897 q 607 926 589 926 q 639 913 625 926 q 653 879 653 899 l 653 278 m 257 1081 q 294 1065 279 1081 q 310 1026 310 1049 q 294 989 310 1004 q 257 974 279 974 q 219 989 235 974 q 203 1026 203 1004 q 218 1065 203 1050 q 257 1081 233 1081 m 453 1065 q 461 1073 453 1065 q 492 1081 469 1081 q 530 1065 514 1081 q 546 1026 546 1049 q 530 989 546 1004 q 492 974 514 974 q 453 989 469 974 q 438 1026 438 1004 q 453 1065 438 1049 z "},
"\u00df":{ha:760,x_min:135,x_max:625,o:"m 625 185 q 617 107 625 135 q 579 51 608 79 q 527 9 549 19 q 465 -1 506 -1 l 438 -1 q 404 13 418 -1 q 390 44 390 26 q 404 76 390 63 q 438 90 418 90 l 465 90 q 477 91 472 90 q 485 92 482 92 q 492 96 489 93 q 498 100 496 99 q 505 107 500 101 q 513 115 510 113 q 532 185 532 135 l 532 463 q 519 496 532 483 q 503 510 507 508 q 488 510 501 510 q 458 510 474 510 l 442 510 q 410 524 426 510 q 396 557 394 539 q 409 588 396 575 q 442 601 422 600 q 501 603 500 601 q 532 708 532 622 q 532 717 532 714 q 533 742 532 722 q 533 768 533 761 q 527 788 532 775 q 513 813 522 801 q 497 824 506 819 q 476 831 489 829 q 456 833 463 832 q 429 833 449 833 q 404 832 410 832 l 274 833 q 242 821 256 833 q 226 783 226 806 l 226 46 q 213 14 226 28 q 181 0 200 0 q 148 14 161 0 q 135 46 135 28 l 135 788 q 178 893 135 851 q 217 914 186 901 q 274 926 247 926 l 404 925 q 582 874 539 925 q 617 809 610 843 q 624 715 624 775 q 623 659 624 676 q 610 612 622 642 q 575 565 599 582 q 585 561 581 564 q 594 556 590 558 q 600 550 597 554 q 605 544 603 546 q 609 538 607 543 q 611 532 611 533 q 613 526 611 531 q 615 519 615 521 q 625 463 625 494 l 625 185 z "},
"\u00e0":{ha:760,x_min:139,x_max:601,o:"m 513 731 q 485 710 507 715 q 450 713 463 704 l 282 803 q 260 829 265 813 q 264 864 254 846 q 290 885 272 879 q 325 883 308 892 l 493 794 q 516 767 511 785 q 513 731 521 749 m 601 46 q 592 15 601 29 q 556 0 578 0 l 278 0 q 176 56 214 0 q 139 185 139 111 q 176 315 139 258 q 278 371 214 371 l 510 371 l 510 463 q 482 529 510 501 q 417 556 456 556 l 232 556 q 199 569 213 556 q 185 601 185 583 q 199 634 185 619 q 232 649 214 649 l 417 649 q 549 596 496 649 q 601 463 601 543 l 601 46 m 510 93 l 510 278 l 278 278 q 232 185 232 278 q 278 93 232 93 l 510 93 z "},
"\u00e1":{ha:760,x_min:139,x_max:601,o:"m 513 864 q 517 829 522 846 q 493 803 511 813 l 326 713 q 292 710 314 704 q 263 731 269 715 q 260 767 254 749 q 282 794 265 785 l 451 882 q 486 885 468 892 q 513 864 504 879 m 601 46 q 592 15 601 29 q 556 0 578 0 l 278 0 q 176 56 214 0 q 139 185 139 111 q 176 315 139 258 q 278 371 214 371 l 510 371 l 510 463 q 482 529 510 501 q 417 556 456 556 l 232 556 q 199 569 213 556 q 185 601 185 583 q 199 634 185 619 q 232 649 214 649 l 417 649 q 549 596 496 649 q 601 463 601 543 l 601 46 m 510 93 l 510 278 l 278 278 q 232 185 232 278 q 278 93 232 93 l 510 93 z "},
"\u00e2":{ha:760,x_min:139,x_max:601,o:"m 496 733 q 438 729 467 703 l 371 790 l 296 726 q 267 718 283 717 q 240 732 251 719 q 229 765 228 746 q 246 794 231 783 l 343 879 q 369 888 356 888 q 400 875 388 888 l 490 796 q 507 766 506 785 q 496 733 508 747 m 601 46 q 592 15 601 29 q 556 0 578 0 l 278 0 q 176 56 214 0 q 139 185 139 111 q 176 315 139 258 q 278 371 214 371 l 510 371 l 510 463 q 482 529 510 501 q 417 556 456 556 l 232 556 q 199 569 213 556 q 185 601 185 583 q 199 634 185 619 q 232 649 214 649 l 417 649 q 549 596 496 649 q 601 463 601 543 l 601 46 m 510 93 l 510 278 l 278 278 q 232 185 232 278 q 278 93 232 93 l 510 93 z "},
"\u00e3":{ha:760,x_min:139,x_max:601,o:"m 556 832 q 537 763 556 792 q 491 724 518 735 q 433 719 464 714 q 381 743 403 724 l 314 804 q 277 809 299 818 q 256 774 256 800 l 256 754 q 246 728 256 739 q 222 717 236 717 q 196 728 207 717 q 185 756 185 739 l 185 774 q 217 860 185 828 q 290 890 250 892 q 363 863 329 888 q 426 804 424 810 q 464 799 442 790 q 486 832 486 807 l 486 849 q 497 876 486 865 q 522 888 507 888 q 545 876 535 888 q 556 850 556 865 l 556 832 m 601 46 q 592 15 601 29 q 556 0 578 0 l 278 0 q 176 56 214 0 q 139 185 139 111 q 176 315 139 258 q 278 371 214 371 l 510 371 l 510 463 q 482 529 510 501 q 417 556 456 556 l 232 556 q 199 569 213 556 q 185 601 185 583 q 199 634 185 619 q 232 649 214 649 l 417 649 q 549 596 496 649 q 601 463 601 543 l 601 46 m 510 93 l 510 278 l 278 278 q 232 185 232 278 q 278 93 232 93 l 510 93 z "},
"\u00e4":{ha:760,x_min:139,x_max:601,o:"m 601 46 q 592 15 601 29 q 556 0 578 0 l 278 0 q 176 56 214 0 q 139 185 139 111 q 176 315 139 258 q 278 371 214 371 l 510 371 l 510 463 q 482 529 510 501 q 417 556 456 556 l 232 556 q 199 569 213 556 q 185 601 185 583 q 199 634 185 619 q 232 649 214 649 l 417 649 q 549 596 496 649 q 601 463 601 543 l 601 46 m 510 93 l 510 278 l 278 278 q 232 185 232 278 q 278 93 232 93 l 510 93 m 581 749 q 565 711 581 726 q 526 696 549 696 q 489 711 504 696 q 474 749 474 726 q 489 787 474 771 q 526 803 504 803 q 565 788 550 803 q 581 749 581 772 m 314 749 q 298 711 314 726 q 260 696 282 696 q 222 711 238 696 q 207 749 207 726 q 222 787 207 771 q 260 803 238 803 q 299 788 283 803 q 314 749 314 772 z "},
"\u00e5":{ha:760,x_min:142,x_max:604,o:"m 604 46 q 594 15 604 29 q 558 0 581 0 l 281 0 q 179 56 217 0 q 142 185 142 111 q 179 315 142 258 q 281 371 217 371 l 513 371 l 513 463 q 485 529 513 501 q 419 556 458 556 l 235 556 q 201 569 215 556 q 188 601 188 583 q 202 634 188 619 q 235 649 217 649 l 419 649 q 551 596 499 649 q 604 463 604 543 l 604 46 m 513 93 l 513 278 l 281 278 q 235 185 235 278 q 281 93 235 93 l 513 93 m 317 817 q 328 828 317 817 q 374 840 340 840 q 431 817 407 840 q 454 760 454 793 q 431 703 454 726 q 374 679 407 679 q 317 703 340 679 q 293 760 293 726 q 317 817 293 793 m 401 785 q 396 791 401 785 q 375 796 390 796 q 349 785 360 796 q 338 760 338 775 q 349 734 338 744 q 375 724 360 724 q 401 734 390 724 q 413 760 413 744 q 401 785 413 775 z "},
"\u00e6":{ha:760,x_min:-37,x_max:796,o:"m 782 72 q 789 65 782 72 q 796 40 796 58 q 781 8 796 22 q 749 -7 767 -7 l 518 -7 q 418 18 461 -7 l 415 15 q 379 0 404 0 l 101 0 q 0 56 38 0 q -37 185 -37 111 q 0 315 -37 258 q 101 371 38 371 l 332 371 l 333 463 q 307 529 333 504 q 240 556 281 556 l 56 556 q 23 569 36 556 q 10 601 10 583 q 24 635 10 621 q 56 649 38 649 l 240 649 q 372 596 319 649 q 396 567 386 585 q 564 642 464 642 q 728 574 660 642 q 796 410 796 506 l 796 364 l 796 318 q 785 286 796 301 q 749 271 771 271 l 426 271 l 426 163 q 451 113 426 140 q 518 86 476 86 l 749 86 q 782 72 768 86 m 703 364 l 703 410 q 662 508 703 468 q 564 549 621 549 q 466 508 507 549 q 425 410 425 468 l 425 364 l 703 364 m 333 93 l 333 278 l 101 278 q 56 185 56 278 q 101 93 56 93 l 333 93 z "},
"\u00e7":{ha:760,x_min:185,x_max:556,o:"m 556 46 q 542 14 556 28 q 510 0 528 0 l 397 0 l 393 -21 q 454 -65 435 -26 q 453 -158 482 -118 q 376 -197 425 -197 q 301 -150 326 -196 q 315 -111 289 -122 q 354 -124 342 -100 q 379 -138 364 -137 q 404 -124 394 -139 q 404 -93 414 -110 q 376 -79 394 -75 q 342 -72 356 -82 q 333 -37 328 -62 l 342 1 q 236 51 279 8 q 185 185 185 103 l 185 463 q 238 596 185 542 q 371 649 292 649 l 510 649 q 542 635 528 649 q 556 601 556 621 q 542 569 556 583 q 510 556 528 556 l 371 556 q 304 529 331 556 q 278 463 278 503 l 278 185 q 304 118 278 144 q 371 93 329 93 l 510 93 q 542 79 528 93 q 556 46 556 65 z "},
"\u00e8":{ha:760,x_min:149,x_max:611,o:"m 522 731 q 494 710 515 715 q 460 713 472 704 l 292 803 q 269 829 275 813 q 274 864 264 846 q 300 885 282 879 q 335 883 318 892 l 503 794 q 526 767 521 785 q 522 731 531 749 m 611 46 q 597 14 611 28 q 565 0 583 0 l 333 0 q 200 54 253 0 q 149 185 149 107 l 149 371 l 150 417 q 219 580 153 513 q 379 649 285 647 q 543 581 475 649 q 611 417 611 513 l 611 371 l 611 324 q 600 293 611 304 q 565 278 586 278 l 240 278 l 240 185 q 267 119 240 146 q 333 93 293 93 l 565 93 q 597 79 583 93 q 611 46 611 65 m 518 371 l 518 417 q 478 515 518 474 q 379 556 438 556 q 281 515 322 556 q 240 417 240 474 l 240 371 l 518 371 z "},
"\u00e9":{ha:760,x_min:149,x_max:611,o:"m 521 864 q 525 829 531 846 q 503 803 519 813 l 335 713 q 301 710 322 704 q 272 731 279 715 q 269 767 264 749 q 292 794 274 785 l 460 882 q 494 885 476 892 q 521 864 513 879 m 611 46 q 597 14 611 28 q 565 0 583 0 l 333 0 q 200 54 253 0 q 149 185 149 107 l 149 371 l 150 417 q 219 580 153 513 q 379 649 285 647 q 543 581 475 649 q 611 417 611 513 l 611 371 l 611 324 q 600 293 611 304 q 565 278 586 278 l 240 278 l 240 185 q 267 119 240 146 q 333 93 293 93 l 565 93 q 597 79 583 93 q 611 46 611 65 m 518 371 l 518 417 q 478 515 518 474 q 379 556 438 556 q 281 515 322 556 q 240 417 240 474 l 240 371 l 518 371 z "},
"\u00ea":{ha:760,x_min:149,x_max:611,o:"m 504 735 q 476 720 493 721 q 446 732 460 719 l 379 790 l 306 728 q 276 718 292 717 q 249 733 260 719 q 238 766 236 747 q 254 796 240 785 l 353 879 q 379 888 361 888 q 410 876 394 888 l 500 797 q 515 767 514 786 q 504 735 517 747 m 611 46 q 597 14 611 28 q 565 0 583 0 l 333 0 q 200 54 253 0 q 149 185 149 107 l 149 371 l 150 417 q 219 580 153 513 q 379 649 285 647 q 543 581 475 649 q 611 417 611 513 l 611 371 l 611 324 q 600 293 611 304 q 565 278 586 278 l 240 278 l 240 185 q 267 119 240 146 q 333 93 293 93 l 565 93 q 597 79 583 93 q 611 46 611 65 m 518 371 l 518 417 q 478 515 518 474 q 379 556 438 556 q 281 515 322 556 q 240 417 240 474 l 240 371 l 518 371 z "},
"\u00eb":{ha:760,x_min:149,x_max:611,o:"m 611 46 q 597 14 611 28 q 565 0 583 0 l 333 0 q 200 54 253 0 q 149 185 149 107 l 149 371 l 150 417 q 219 580 153 513 q 379 649 285 647 q 543 581 475 649 q 611 417 611 513 l 611 371 l 611 324 q 600 293 611 304 q 565 278 586 278 l 240 278 l 240 185 q 267 119 240 146 q 333 93 293 93 l 565 93 q 597 79 583 93 q 611 46 611 65 m 518 371 l 518 417 q 478 515 518 474 q 379 556 438 556 q 281 515 322 556 q 240 417 240 474 l 240 371 l 518 371 m 550 787 q 558 779 550 787 q 565 749 565 771 q 550 711 565 726 q 513 696 535 696 q 474 711 490 696 q 458 749 458 726 q 474 788 458 772 q 513 803 489 803 q 550 787 535 803 m 283 787 q 291 779 283 787 q 299 749 299 771 q 283 711 299 726 q 246 696 268 696 q 208 711 224 696 q 192 749 192 726 q 207 788 192 772 q 246 803 222 803 q 283 787 268 803 z "},
"\u00ec":{ha:760,x_min:146,x_max:564,o:"m 560 726 q 532 706 554 711 q 497 707 510 700 l 329 799 q 307 824 313 807 q 311 860 301 840 q 338 881 319 875 q 372 879 356 888 l 540 790 q 563 763 558 781 q 560 726 568 744 m 500 46 q 486 14 500 28 q 454 0 472 0 q 421 14 435 0 q 407 46 407 28 l 408 553 l 201 553 q 146 588 154 553 q 155 630 140 613 q 188 647 169 647 q 454 649 440 649 q 486 635 472 649 q 500 601 500 621 l 500 46 z "},"\u00ed":{ha:760,x_min:146,x_max:592,o:"m 588 864 q 592 829 597 846 q 568 803 586 813 l 401 713 q 367 710 389 704 q 338 731 344 715 q 335 767 329 749 q 357 794 340 785 l 526 882 q 561 885 543 892 q 588 864 579 879 m 500 46 q 486 14 500 28 q 454 0 472 0 q 421 14 435 0 q 407 46 407 28 l 408 553 l 201 553 q 146 588 154 553 q 155 630 140 613 q 188 647 169 647 q 454 649 440 649 q 486 635 472 649 q 500 601 500 621 l 500 46 z "},
"\u00ee":{ha:760,x_min:146,x_max:592,o:"m 582 735 q 522 732 554 703 l 457 790 l 382 728 q 353 718 369 717 q 326 733 338 719 q 315 766 314 747 q 332 796 317 785 l 429 879 q 454 888 439 888 l 458 888 q 485 876 474 888 l 576 797 q 592 767 590 786 q 582 735 593 747 m 500 46 q 486 14 500 28 q 454 0 472 0 q 421 14 435 0 q 407 46 407 28 l 408 553 l 201 553 q 146 588 154 553 q 155 630 140 613 q 188 647 169 647 q 454 649 440 649 q 486 635 472 649 q 500 601 500 621 l 500 46 z "},"\u00ef":{ha:760,x_min:146,
x_max:636,o:"m 500 46 q 486 14 500 28 q 454 0 472 0 q 421 14 435 0 q 407 46 407 28 l 408 553 l 201 553 q 146 588 154 553 q 155 630 140 613 q 188 647 169 647 q 454 649 440 649 q 486 635 472 649 q 500 601 500 621 l 500 46 m 636 749 q 620 711 636 726 q 582 696 604 696 q 544 711 560 696 q 529 749 529 726 q 544 787 529 771 q 582 803 560 803 q 621 788 606 803 q 636 749 636 772 m 369 749 q 353 711 369 726 q 315 696 338 696 q 278 711 293 696 q 263 749 263 726 q 278 787 263 771 q 315 803 293 803 q 354 788 339 803 q 369 749 369 772 z "},
"\u00f1":{ha:760,x_min:167,x_max:583,o:"m 560 832 q 528 746 560 778 q 457 717 496 714 q 385 743 418 719 l 318 804 q 281 809 303 818 q 260 774 260 800 l 260 754 q 250 728 260 739 q 226 717 240 717 q 201 728 211 717 q 190 756 190 739 l 190 774 q 223 860 190 828 q 294 890 256 892 q 367 863 333 888 q 431 804 428 810 q 468 799 446 790 q 490 832 490 807 l 490 849 q 501 876 490 865 q 526 888 511 888 q 549 876 539 888 q 560 850 560 865 l 560 832 m 583 46 q 569 14 583 28 q 538 0 556 0 q 504 14 518 0 q 490 46 490 28 l 490 463 q 464 528 490 501 q 399 556 436 556 l 260 556 l 260 46 q 246 14 260 28 q 213 0 232 0 q 181 14 194 0 q 167 46 167 28 l 167 601 q 179 633 167 619 q 213 649 194 649 l 399 649 q 531 596 476 649 q 583 463 583 543 l 583 46 z "},
"\u00f2":{ha:760,x_min:146,x_max:610,o:"m 504 731 q 475 710 497 715 q 440 713 453 704 l 274 803 q 250 829 256 813 q 254 864 244 846 q 281 885 263 879 q 315 883 299 892 l 485 794 q 507 767 501 785 q 504 731 513 749 m 610 231 q 539 67 606 135 q 378 -1 472 0 q 214 67 282 -1 q 146 231 146 135 l 146 417 q 217 580 150 513 q 378 649 283 647 q 542 581 474 649 q 610 417 610 513 l 610 231 m 517 231 l 517 417 q 476 515 517 474 q 378 556 435 556 q 280 515 321 556 q 239 417 239 474 l 239 231 q 280 133 239 174 q 378 92 321 92 q 476 133 435 92 q 517 231 517 174 z "},
"\u00f3":{ha:760,x_min:146,x_max:610,o:"m 504 864 q 508 829 514 846 q 486 803 503 813 l 318 713 q 284 710 306 704 q 256 731 263 715 q 252 767 247 749 q 275 794 257 785 l 443 882 q 478 885 460 892 q 504 864 496 879 m 610 231 q 539 67 606 135 q 378 -1 472 0 q 214 67 282 -1 q 146 231 146 135 l 146 417 q 217 580 150 513 q 378 649 283 647 q 542 581 474 649 q 610 417 610 513 l 610 231 m 517 231 l 517 417 q 476 515 517 474 q 378 556 435 556 q 280 515 321 556 q 239 417 239 474 l 239 231 q 280 133 239 174 q 378 92 321 92 q 476 133 435 92 q 517 231 517 174 z "},
"\u00f4":{ha:760,x_min:146,x_max:610,o:"m 504 735 q 475 720 492 721 q 446 732 458 719 l 379 790 l 304 728 q 276 718 292 717 q 249 733 260 719 q 238 766 236 747 q 254 796 239 785 l 351 879 q 378 888 361 888 q 408 876 396 888 l 499 797 q 515 767 514 786 q 504 735 517 747 m 610 231 q 539 67 606 135 q 378 -1 472 0 q 214 67 282 -1 q 146 231 146 135 l 146 417 q 217 580 150 513 q 378 649 283 647 q 542 581 474 649 q 610 417 610 513 l 610 231 m 517 231 l 517 417 q 476 515 517 474 q 378 556 435 556 q 280 515 321 556 q 239 417 239 474 l 239 231 q 280 133 239 174 q 378 92 321 92 q 476 133 435 92 q 517 231 517 174 z "},
"\u00f5":{ha:760,x_min:146,x_max:610,o:"m 565 832 q 547 763 565 792 q 501 724 528 735 q 443 719 474 714 q 390 743 413 724 l 324 804 q 286 809 307 818 q 265 774 265 800 l 265 754 q 255 728 265 740 q 232 717 244 717 q 206 728 217 717 q 194 756 194 739 l 194 774 q 227 860 194 828 q 299 890 260 892 q 371 863 339 888 q 435 804 432 810 q 474 799 451 790 q 496 832 496 807 l 496 849 q 506 876 496 865 q 532 888 517 888 q 555 876 544 888 q 565 850 565 865 l 565 832 m 610 231 q 539 67 606 135 q 378 -1 472 0 q 214 67 282 -1 q 146 231 146 135 l 146 417 q 217 580 150 513 q 378 649 283 647 q 542 581 474 649 q 610 417 610 513 l 610 231 m 517 231 l 517 417 q 476 515 517 474 q 378 556 435 556 q 280 515 321 556 q 239 417 239 474 l 239 231 q 280 133 239 174 q 378 92 321 92 q 476 133 435 92 q 517 231 517 174 z "},
"\u00f6":{ha:760,x_min:146,x_max:610,o:"m 547 787 q 555 779 547 787 q 563 749 563 771 q 547 711 563 726 q 508 696 531 696 q 470 711 486 696 q 454 749 454 726 q 470 787 454 771 q 508 803 486 803 q 547 787 531 803 m 280 787 q 288 779 280 787 q 296 749 296 771 q 280 711 296 726 q 242 696 264 696 q 203 711 219 696 q 188 749 188 726 q 203 787 188 771 q 242 803 219 803 q 280 787 264 803 m 610 231 q 539 67 606 135 q 378 -1 472 0 q 214 67 282 -1 q 146 231 146 135 l 146 417 q 217 580 150 513 q 378 649 283 647 q 542 581 474 649 q 610 417 610 513 l 610 231 m 517 231 l 517 417 q 476 515 517 474 q 378 556 435 556 q 280 515 321 556 q 239 417 239 474 l 239 231 q 280 133 239 174 q 378 92 321 92 q 476 133 435 92 q 517 231 517 174 z "},
"\u00f8":{ha:760,x_min:143,x_max:606,o:"m 606 185 q 536 51 606 101 q 374 0 467 0 q 257 25 311 0 l 242 -3 q 199 -31 231 -31 q 156 -4 167 -31 q 160 43 144 22 l 182 81 q 143 185 143 124 l 143 463 q 213 597 143 546 q 374 649 282 649 q 488 625 432 649 l 504 656 q 546 682 517 682 q 590 658 579 681 q 588 615 600 636 q 563 572 576 596 q 606 463 606 525 l 606 185 m 442 544 q 374 556 408 556 q 277 532 319 556 q 235 463 235 508 l 235 185 l 235 176 l 442 544 m 513 185 l 513 463 q 511 479 513 474 l 301 104 q 374 93 331 93 q 471 117 429 93 q 513 185 513 140 z "},
"\u00f9":{ha:760,x_min:157,x_max:574,o:"m 500 733 q 472 713 493 718 q 438 715 450 707 l 269 806 q 247 832 253 815 q 251 867 242 849 q 278 888 260 882 q 313 886 296 894 l 481 797 q 503 769 499 788 q 500 733 508 751 m 574 46 q 561 13 574 26 q 528 0 549 0 l 343 0 q 207 54 260 0 q 157 185 157 104 l 157 601 q 172 634 157 619 q 204 649 186 649 q 236 635 222 649 q 250 601 250 621 l 250 185 q 276 118 250 144 q 343 93 301 93 l 482 93 l 482 601 q 496 635 482 621 q 528 649 510 649 q 560 635 546 649 q 574 601 574 621 l 574 46 z "},
"\u00fa":{ha:760,x_min:157,x_max:574,o:"m 496 864 q 500 829 506 846 q 476 803 494 813 l 310 713 q 275 710 297 704 q 246 731 253 715 q 243 767 238 749 q 265 794 249 785 l 435 882 q 469 885 451 892 q 496 864 488 879 m 574 46 q 561 13 574 26 q 528 0 549 0 l 343 0 q 207 54 260 0 q 157 185 157 104 l 157 601 q 172 634 157 619 q 204 649 186 649 q 236 635 222 649 q 250 601 250 621 l 250 185 q 276 118 250 144 q 343 93 301 93 l 482 93 l 482 601 q 496 635 482 621 q 528 649 510 649 q 560 635 546 649 q 574 601 574 621 l 574 46 z "},
"\u00fb":{ha:760,x_min:157,x_max:574,o:"m 504 735 q 475 720 492 721 q 446 732 458 719 l 379 790 l 304 728 q 276 718 292 717 q 249 733 260 719 q 238 766 236 747 q 254 796 239 785 l 351 879 q 378 888 361 888 q 408 876 396 888 l 499 797 q 515 767 514 786 q 504 735 517 747 m 574 46 q 561 13 574 26 q 528 0 549 0 l 343 0 q 207 54 260 0 q 157 185 157 104 l 157 601 q 172 634 157 619 q 204 649 186 649 q 236 635 222 649 q 250 601 250 621 l 250 185 q 276 118 250 144 q 343 93 301 93 l 482 93 l 482 601 q 496 635 482 621 q 528 649 510 649 q 560 635 546 649 q 574 601 574 621 l 574 46 z "},
"\u00fc":{ha:760,x_min:157,x_max:574,o:"m 547 787 q 555 779 547 787 q 563 749 563 771 q 547 711 563 726 q 508 696 531 696 q 470 711 486 696 q 454 749 454 726 q 470 787 454 771 q 508 803 486 803 q 547 787 531 803 m 280 787 q 288 779 280 787 q 296 749 296 771 q 280 711 296 726 q 242 696 264 696 q 203 711 219 696 q 188 749 188 726 q 203 787 188 771 q 242 803 219 803 q 280 787 264 803 m 574 46 q 561 13 574 26 q 528 0 549 0 l 343 0 q 207 54 260 0 q 157 185 157 104 l 157 601 q 172 634 157 619 q 204 649 186 649 q 236 635 222 649 q 250 601 250 621 l 250 185 q 276 118 250 144 q 343 93 301 93 l 482 93 l 482 601 q 496 635 482 621 q 528 649 510 649 q 560 635 546 649 q 574 601 574 621 l 574 46 z "},
"\u00ff":{ha:760,x_min:183,x_max:646,o:"m 646 593 l 382 -204 q 315 -261 354 -244 q 229 -278 283 -275 q 196 -264 210 -279 q 183 -229 182 -249 q 219 -187 186 -194 q 238 -186 226 -186 q 257 -185 249 -186 q 274 -179 265 -183 q 304 -153 290 -171 l 368 46 l 185 590 q 193 630 181 611 q 232 649 206 649 q 271 624 258 649 l 414 196 l 553 614 q 600 649 564 649 q 635 634 619 649 q 646 593 650 619 m 603 749 q 587 711 603 726 q 549 696 571 696 q 511 711 526 696 q 496 749 496 726 q 511 787 496 771 q 549 803 526 803 q 588 788 572 803 q 603 749 603 772 m 336 749 q 320 711 336 726 q 282 696 304 696 q 244 711 260 696 q 229 749 229 726 q 244 787 229 771 q 282 803 260 803 q 321 788 306 803 q 336 749 336 772 z "},
"\u0152":{ha:760,x_min:-28,x_max:815,o:"m 815 46 q 803 13 815 26 q 774 -1 792 -1 q 250 0 258 0 q 56 65 139 0 q -28 232 -28 129 l -28 694 q 56 861 -28 796 q 250 926 140 926 l 768 925 q 801 911 788 925 q 815 879 815 897 q 801 847 815 861 q 768 832 786 832 l 474 832 q 528 694 528 774 l 528 554 l 721 554 q 754 541 740 554 q 768 508 768 528 q 755 475 768 489 q 722 461 742 461 l 528 463 l 528 232 q 474 92 528 153 l 768 92 q 801 78 788 92 q 815 46 815 64 m 435 232 l 435 694 q 379 796 435 758 q 250 833 324 833 q 121 796 176 833 q 65 694 65 758 l 65 232 q 121 130 65 167 q 250 93 176 93 q 379 130 324 93 q 435 232 435 167 z "},
"\u0153":{ha:760,x_min:-37,x_max:796,o:"m 783 85 q 789 79 783 85 q 796 53 796 72 q 783 20 796 33 q 750 7 769 7 l 518 7 q 385 60 438 7 l 376 68 q 194 0 306 0 q 33 51 103 0 q -37 185 -37 103 l -37 463 q 33 597 -37 546 q 194 649 103 649 q 388 568 318 649 q 565 654 456 654 q 728 588 661 656 q 796 424 796 519 l 796 376 l 796 331 q 785 299 796 311 q 750 285 772 285 l 426 285 l 426 192 q 451 126 426 151 q 518 99 479 99 l 750 99 q 783 85 769 99 m 704 376 l 704 424 q 663 522 704 481 q 565 563 622 563 q 467 522 507 563 q 426 424 426 481 l 426 376 l 704 376 m 333 185 l 333 463 q 292 532 333 508 q 194 556 250 556 q 97 532 139 556 q 56 463 56 508 l 56 185 q 97 117 56 140 q 194 93 139 93 q 292 117 250 93 q 333 185 333 140 z "},
"\u0178":{ha:760,x_min:50,x_max:701,o:"m 694 856 l 422 450 l 422 46 q 408 14 422 28 q 376 0 394 0 q 343 14 357 0 q 329 46 329 28 l 329 450 l 57 857 q 50 892 46 872 q 71 921 54 911 q 104 926 86 931 q 133 906 122 921 l 376 546 l 615 906 q 646 925 626 921 q 682 918 665 929 q 701 889 697 907 q 694 856 704 871 m 257 1081 q 294 1065 279 1081 q 310 1026 310 1049 q 294 989 310 1004 q 257 974 279 974 q 219 989 235 974 q 203 1026 203 1004 q 218 1065 203 1050 q 257 1081 233 1081 m 453 1065 q 461 1073 453 1065 q 492 1081 469 1081 q 530 1065 514 1081 q 546 1026 546 1049 q 530 989 546 1004 q 492 974 514 974 q 453 989 469 974 q 438 1026 438 1004 q 453 1065 438 1049 z "},
"\u0192":{ha:760,x_min:139,x_max:601,o:"m 601 601 q 588 569 601 583 q 556 556 575 556 l 417 556 l 417 -37 q 396 -108 411 -78 q 369 -149 381 -137 q 332 -181 357 -161 q 185 -224 281 -224 q 139 -176 139 -224 q 185 -131 139 -131 q 272 -107 244 -131 q 285 -97 276 -103 q 297 -87 294 -90 q 306 -78 300 -85 q 315 -62 311 -71 q 324 -37 319 -53 l 324 556 l 278 556 q 245 569 258 556 q 232 601 232 583 q 246 635 232 621 q 278 649 260 649 l 324 649 l 324 740 q 378 874 324 821 q 510 926 431 926 l 556 926 q 588 913 574 926 q 601 879 601 899 q 588 847 601 861 q 556 833 575 833 l 510 833 q 443 807 469 833 q 417 740 417 781 l 417 649 l 556 649 q 588 635 574 649 q 601 601 601 621 z "},
"\u02c6":{ha:760,x_min:232,x_max:510,o:"m 499 990 q 440 988 472 961 l 374 1047 l 300 985 q 243 990 269 961 q 233 1023 231 1004 q 249 1053 235 1042 l 347 1136 q 374 1146 357 1146 q 404 1133 390 1146 l 494 1054 q 510 1024 508 1044 q 499 990 511 1004 z "},"\u02c7":{ha:760,x_min:207,x_max:542,o:"m 532 1151 q 542 1122 543 1139 q 526 1096 540 1106 l 401 988 q 374 976 388 976 q 350 985 361 976 l 221 1096 q 207 1122 208 1106 q 215 1150 206 1139 q 268 1154 239 1176 l 374 1063 l 479 1154 q 532 1151 507 1176 z "},
"\u02d8":{ha:760,x_min:201,x_max:554,o:"m 554 1108 q 504 1027 540 1060 q 423 986 468 994 q 333 985 378 978 q 252 1023 289 992 q 201 1100 215 1054 q 212 1153 193 1135 q 256 1165 231 1171 q 289 1135 282 1158 q 338 1079 300 1094 q 415 1080 376 1064 q 465 1135 453 1096 q 498 1165 474 1160 q 541 1152 522 1169 q 554 1108 560 1135 z "},"\u02d9":{ha:760,x_min:315,x_max:435,o:"m 405 1106 q 420 1098 405 1106 q 435 1053 435 1090 q 405 999 435 1015 q 345 999 375 983 q 315 1053 315 1015 q 345 1106 315 1090 q 405 1106 375 1122 z "},
"\u02da":{ha:760,x_min:293,x_max:453,o:"m 453 1085 q 413 1013 453 1033 q 333 1013 372 992 q 293 1085 293 1033 q 333 1155 293 1135 q 413 1155 372 1175 q 453 1085 453 1135 m 410 1085 q 374 1119 410 1119 q 338 1085 338 1119 q 356 1051 338 1061 q 392 1051 374 1042 q 410 1085 410 1061 z "},"\u02dc":{ha:760,x_min:190,x_max:560,o:"m 560 1056 q 528 969 560 1001 q 457 940 496 938 q 385 967 418 943 l 318 1026 q 281 1032 303 1040 q 260 997 260 1024 l 260 978 q 250 951 260 963 q 226 940 240 940 q 201 951 211 940 q 190 979 190 963 l 190 997 q 210 1067 190 1038 q 256 1106 229 1096 q 314 1110 283 1115 q 367 1085 344 1106 q 431 1028 428 1032 q 468 1022 446 1014 q 490 1056 490 1029 l 490 1072 q 501 1099 490 1088 q 526 1111 513 1111 q 549 1099 539 1111 q 560 1074 560 1088 l 560 1056 z "},
"\u03a9":{ha:760,x_min:139,x_max:664,o:"m 664 15 q 631 -1 651 0 q 599 10 611 -3 l 551 60 q 347 -7 481 -3 q 199 38 258 -11 q 139 171 139 86 l 139 456 q 190 596 138 543 q 322 649 243 649 l 554 649 q 588 633 572 649 q 600 601 600 619 q 600 140 601 150 l 657 81 q 664 15 689 46 m 507 143 l 507 556 l 322 556 q 257 528 285 556 q 229 463 229 500 l 229 171 q 347 85 229 85 q 507 143 463 89 z "},"\u2013":{ha:760,x_min:143,x_max:601,o:"m 587 492 q 594 485 587 492 q 601 460 601 478 q 588 428 601 442 q 554 414 574 414 l 189 414 q 156 428 169 414 q 143 460 143 442 q 157 493 143 479 q 189 507 171 507 l 554 507 q 587 492 572 507 z "},
"\u2014":{ha:760,x_min:60,x_max:707,o:"m 707 460 q 694 428 707 442 q 661 414 681 414 l 107 414 q 74 428 88 414 q 60 460 60 442 q 74 492 60 478 q 107 507 89 507 l 661 507 q 693 493 679 507 q 707 460 707 479 z "},"\u2018":{ha:760,x_min:307,x_max:443,o:"m 443 846 q 438 811 447 828 q 410 790 428 794 q 375 794 392 785 q 353 822 358 804 l 307 1007 q 311 1042 301 1025 q 339 1064 321 1058 q 374 1060 357 1069 q 396 1032 392 1050 l 443 846 z "},"\u2019":{ha:760,x_min:307,x_max:443,o:"m 443 1007 l 396 822 q 374 794 392 804 q 339 790 357 785 q 311 811 321 794 q 307 846 301 828 l 353 1032 q 375 1060 358 1050 q 410 1064 392 1069 q 438 1042 428 1058 q 443 1007 447 1026 z "},
"\u201a":{ha:760,x_min:1,x_max:138,o:"m 138 82 l 92 -104 q 69 -132 86 -122 q 35 -136 53 -142 q 7 -115 17 -131 q 1 -79 -3 -99 l 49 106 q 70 133 53 124 q 106 138 88 143 q 133 117 124 133 q 138 82 143 100 z "},"\u201c":{ha:760,x_min:239,x_max:517,o:"m 517 846 q 513 811 522 828 q 485 790 503 794 q 449 794 467 785 q 426 822 432 804 l 381 1007 q 385 1042 375 1025 q 413 1064 394 1058 q 448 1060 431 1069 q 471 1032 465 1050 l 517 846 m 375 846 q 371 811 381 828 q 343 790 361 794 q 308 794 325 785 q 285 822 290 804 l 239 1007 q 243 1042 233 1025 q 271 1064 253 1058 q 306 1060 289 1069 q 329 1032 324 1050 l 375 846 z "},
"\u201d":{ha:760,x_min:242,x_max:519,o:"m 519 1007 l 474 822 q 451 794 468 804 q 415 790 433 785 q 388 811 397 794 q 383 846 378 828 l 429 1032 q 452 1060 435 1050 q 488 1064 469 1069 q 515 1042 506 1058 q 519 1007 525 1025 m 378 1007 l 332 822 q 309 794 326 804 q 274 790 292 785 q 246 811 256 794 q 242 846 236 828 l 288 1032 q 310 1060 293 1050 q 346 1064 328 1069 q 374 1042 364 1058 q 378 1007 383 1025 z "},"\u201e":{ha:760,x_min:1,x_max:279,o:"m 279 82 l 233 -104 q 211 -132 228 -122 q 176 -136 194 -142 q 149 -115 158 -131 q 143 -79 139 -99 l 190 106 q 212 133 194 124 q 247 138 229 143 q 275 117 265 133 q 279 82 285 100 m 138 82 l 92 -104 q 69 -132 86 -122 q 35 -136 53 -142 q 7 -115 17 -131 q 1 -79 -3 -99 l 49 106 q 70 133 53 124 q 106 138 88 143 q 133 117 124 133 q 138 82 143 100 z "},
"\u2020":{ha:760,x_min:207,x_max:543,o:"m 543 660 q 529 626 543 640 q 497 613 515 613 l 422 613 l 422 -171 q 408 -204 422 -190 q 376 -218 394 -218 q 344 -203 358 -218 q 329 -171 329 -189 l 329 613 l 254 613 q 222 627 236 613 q 207 660 207 642 q 221 692 207 678 q 254 706 235 706 l 329 706 l 329 878 q 343 910 329 896 q 376 924 357 924 q 408 910 394 924 q 422 878 422 897 l 422 706 l 497 706 q 530 692 517 706 q 543 660 543 678 z "},"\u2021":{ha:760,x_min:207,x_max:543,o:"m 543 413 q 530 381 543 394 q 497 367 517 367 l 422 367 l 422 -171 q 408 -204 422 -190 q 376 -218 394 -218 q 344 -203 358 -218 q 329 -171 329 -189 l 329 367 l 254 367 q 221 381 235 367 q 207 413 207 394 q 222 445 207 431 q 254 460 236 460 l 329 460 l 329 613 l 254 613 q 221 626 235 613 q 207 658 207 640 q 221 690 207 676 q 254 704 235 704 l 329 704 l 329 876 q 344 909 329 894 q 376 924 358 924 q 408 910 394 924 q 422 876 422 896 l 422 704 l 497 704 q 530 691 517 704 q 543 658 543 678 q 530 626 543 639 q 497 613 517 613 l 422 613 l 422 460 l 497 460 q 529 446 515 460 q 543 413 543 432 z "},
"\u2022":{ha:760,x_min:256,x_max:497,o:"m 497 468 q 462 383 497 418 q 376 347 426 347 q 292 383 328 347 q 256 468 256 418 q 292 552 256 517 q 376 588 328 588 q 462 552 426 588 q 497 468 497 517 z "},"\u2026":{ha:760,x_min:74,x_max:679,o:"m 649 113 q 664 105 649 113 q 679 60 679 97 q 649 6 679 22 q 589 6 619 -10 q 558 60 558 22 q 589 113 558 97 q 649 113 619 129 m 405 113 q 420 105 405 113 q 435 60 435 97 q 405 6 435 22 q 345 6 375 -10 q 315 60 315 22 q 345 113 315 97 q 405 113 375 129 m 164 113 q 179 105 164 113 q 194 60 194 97 q 164 6 194 22 q 103 6 133 -10 q 74 60 74 22 q 103 113 74 97 q 164 113 133 129 z "},
"\u2030":{ha:760,x_min:0,x_max:736,o:"m 235 889 q 256 870 235 889 q 278 786 278 851 q 235 683 278 721 q 139 646 192 646 q 43 683 86 646 q 0 786 0 721 q 43 889 0 851 q 139 926 86 926 q 235 889 192 926 m 531 860 l 92 28 q 49 0 81 0 q 6 26 17 0 q 10 74 -6 53 l 447 900 q 490 926 461 926 q 533 903 522 925 q 531 860 543 881 m 736 139 q 693 35 736 72 q 594 -1 650 -3 q 499 38 538 1 q 404 -3 461 0 q 303 31 347 -7 q 258 136 258 68 q 301 240 258 203 q 401 276 344 278 q 496 238 457 274 q 590 278 533 275 q 692 244 647 282 q 736 139 736 207 m 169 733 q 184 741 169 733 q 199 786 199 749 q 169 840 199 824 q 108 840 139 856 q 78 786 78 824 q 108 733 78 749 q 169 733 139 717 m 627 85 q 642 93 627 85 q 657 139 657 101 q 627 192 657 176 q 567 192 597 208 q 536 139 536 176 q 567 85 536 101 q 627 85 597 69 m 427 83 q 442 91 427 83 q 457 136 457 99 q 427 190 457 174 q 367 190 397 206 q 336 136 336 174 q 367 83 336 99 q 427 83 397 67 z "},
"\u2039":{ha:760,x_min:269,x_max:440,o:"m 429 394 q 440 361 442 379 q 424 331 439 343 q 388 319 408 317 q 357 338 368 322 l 279 429 q 269 460 269 443 q 282 493 269 476 l 354 579 q 388 596 367 594 q 424 585 410 597 q 438 551 438 571 q 426 518 439 532 l 376 460 l 429 394 z "},"\u203a":{ha:760,x_min:313,x_max:482,o:"m 482 460 q 472 429 482 443 l 396 338 q 363 319 383 322 q 328 331 343 317 q 313 361 314 343 q 322 394 311 379 l 375 460 l 325 518 q 314 551 313 532 q 329 585 315 571 q 364 596 343 597 q 397 579 385 594 l 469 493 q 482 460 482 479 z "},
"\u2122":{ha:760,x_min:149,x_max:635,o:"m 365 899 q 356 879 365 888 q 336 871 347 871 l 286 871 l 286 618 q 278 599 286 607 q 257 590 269 590 q 237 599 246 590 q 228 618 228 607 l 228 871 l 176 871 q 158 880 167 871 q 149 899 149 889 q 157 919 149 911 q 176 926 165 926 l 336 926 q 357 919 349 926 q 365 899 365 911 m 635 618 q 626 599 635 607 q 607 590 618 590 q 585 599 594 590 q 576 618 576 607 l 576 804 l 535 742 q 510 729 519 729 q 488 743 496 729 l 444 806 l 444 618 q 435 599 444 607 q 415 590 426 590 q 394 599 403 590 q 386 618 386 607 l 386 899 q 415 926 386 926 q 438 917 421 926 l 510 810 l 582 915 q 606 926 588 926 q 626 921 617 929 q 635 899 635 913 l 635 618 z "},
"\u2211":{ha:760,x_min:139,x_max:664,o:"m 664 15 q 631 -1 651 0 q 599 10 611 -3 l 551 60 q 347 -7 481 -3 q 199 38 258 -11 q 139 171 139 86 l 139 456 q 190 596 138 543 q 322 649 243 649 l 554 649 q 588 633 572 649 q 600 601 600 619 q 600 140 601 150 l 657 81 q 664 15 689 46 m 507 143 l 507 556 l 322 556 q 257 528 285 556 q 229 463 229 500 l 229 171 q 347 85 229 85 q 507 143 463 89 z "},"\ufb01":{ha:760,x_min:110,x_max:619,o:"m 593 925 q 606 918 593 925 q 619 878 619 911 q 593 831 619 844 q 540 831 567 817 q 514 878 514 844 q 540 925 514 911 q 593 925 567 939 m 613 46 q 599 14 613 28 q 567 0 586 0 q 534 14 547 0 q 521 46 521 28 l 521 556 l 296 556 l 296 46 q 282 14 296 28 q 249 0 268 0 q 217 14 231 0 q 203 46 203 28 l 203 556 l 157 556 q 124 569 138 556 q 110 601 110 583 q 124 634 110 619 q 157 649 139 649 l 203 649 l 203 740 q 257 874 203 821 q 388 926 310 926 l 435 926 q 467 913 453 926 q 481 879 481 899 q 467 847 481 861 q 435 833 453 833 l 388 833 q 321 807 347 833 q 296 740 296 782 l 296 649 l 567 649 q 599 635 585 649 q 613 601 613 621 l 613 46 z "},
"\ufb02":{ha:760,x_min:68,x_max:683,o:"m 683 47 q 661 7 685 17 q 618 4 638 -3 q 538 65 574 25 q 499 186 499 115 l 499 833 l 346 833 q 279 807 306 833 q 253 740 253 781 l 253 649 l 392 649 q 424 635 410 649 q 438 601 438 621 q 424 569 438 583 q 392 556 411 556 l 253 556 l 253 46 q 239 14 253 28 q 207 0 225 0 q 174 14 188 0 q 160 46 160 28 l 160 556 l 114 556 q 81 569 94 556 q 68 601 68 583 q 82 635 68 621 q 114 649 96 649 l 160 649 l 160 740 q 214 874 160 821 q 346 926 267 926 l 544 926 q 576 913 563 926 q 590 879 590 899 l 590 186 q 610 126 590 157 q 660 88 628 100 q 683 47 683 78 z "}},
familyName:"Isonorm Monospaced",ascender:1190,descender:-279,underlinePosition:-185,underlineThickness:28,boundingBox:{yMin:-279,xMin:-78,yMax:1165,xMax:840},resolution:1E3,original_font_information:{format:0,copyright:"Copr.1993 Robert Kirchner",fontFamily:"Isonorm Monospaced",fontSubfamily:"Regular",uniqueID:"Isonorm-Monospaced:1166835802",fullName:"Isonorm-Monospaced",version:"001.000",postScriptName:"Isonorm-Monospaced"},cssFontWeight:"normal",cssFontStyle:"normal"});
function lg(a,b){var c=X.call(this,a)||this;c.ma=b;c.sa=0;c.ea=a;c.wa={font:kg,size:10,height:0,curveSegments:2};return c}q(lg,X);function mg(a){return new THREE.Vector3(a.x,a.y,a.z)}lg.prototype.jd=function(){};lg.prototype.hd=function(){};y.Object.defineProperties(lg.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.sa}}});
function ng(a){var b=new If;b=lg.call(this,b,a)||this;if(3!==a.length)throw Error("Invalid shape size: it should be a multiple of 3");b.pa=Bb.Base_AU_Radians;og(b);return b}q(ng,lg);
function og(a){function b(pa){z.applyQuaternion(pa);A.applyQuaternion(pa);u.applyQuaternion(pa);F.applyQuaternion(pa)}var c=mg(a.ma[0].point),d=mg(a.ma[1].point),e=mg(a.ma[2].point),f=!1,h=new THREE.Vector3,k=new THREE.Vector3,l=(new THREE.Vector3).subVectors(e,d),n=(new THREE.Vector3).subVectors(c,d),m=l.length(),p=n.length();m=m>p?p:m;var r=40<m?40:m;l.normalize();n.normalize();var t=l.angleTo(n),v=String(Fb(t,a.pa));a.sa=Number(v);p=new D;p.setHex(2256298);var C=new G(new D);m=new xf(C,p);p=new hf(C,
p);v=new THREE.TextBufferGeometry(v,a.wa);v.computeBoundingBox();v.center();C=new THREE.Vector3;v.boundingBox.getSize(C);var z=new U(v,m),w=l.clone().multiplyScalar(r),x=n.clone().multiplyScalar(r);(new THREE.Vector3).subVectors(x,w).length()<C.x+8&&(f=!0);var A=new THREE.Vector3(1,0,0),u=new THREE.Vector3(0,1,0),F=new THREE.Vector3(0,0,1),E=(new THREE.CircleBufferGeometry(r,64,Math.PI/2-t/2,t)).getAttribute("position").array,V=new THREE.BufferGeometry;V.addAttribute("position",new THREE.Float32BufferAttribute(E,
3));E=[];t=(C.x+10)/r/(t/64);for(var W=1;64>=W;W++)(f||!f&&(W<(64-t)/2||W>(64+t)/2))&&E.push(W,W+1);V.setIndex(E);t=new jf(V,p);x=(new THREE.Vector3).copy(d).add(w.clone()).add(x.clone());w=(new THREE.Vector3).subVectors(n,l).normalize();w=(new THREE.Quaternion).setFromUnitVectors(A,w);b(w);t.applyQuaternion(w);E=(new THREE.Vector3).copy(u);W=(new THREE.Vector3).subVectors(x,d).normalize();V=(new THREE.Vector3).subVectors(d,x).normalize();w.setFromUnitVectors(E,W);t.applyQuaternion(w);w.setFromUnitVectors(u,
V);b(w);E=d.clone().addScaledVector(l,r);W=d.clone().addScaledVector(n,r);var K=(new THREE.Vector3).subVectors(E,x).normalize();K=(new THREE.Vector3).crossVectors(l,K);K=(new THREE.Vector3).crossVectors(K,l);K.setLength(9);var ha=(new THREE.Vector3).subVectors(W,x).normalize();ha=(new THREE.Vector3).crossVectors(n,ha);ha=(new THREE.Vector3).crossVectors(ha,n);ha.setLength(9);w=[];w.push(E);w.push(E.clone().add(K).addScaledVector(l,3));w.push(E.clone().add(K).addScaledVector(l,-3));w.push(W);w.push(W.clone().add(ha).addScaledVector(n,
3));w.push(W.clone().add(ha).addScaledVector(n,-3));w=(new THREE.BufferGeometry).setFromPoints(w);w.computeVertexNormals();w=new U(w,m);h.copy(E).addScaledVector(K,1.5);k.copy(W).addScaledVector(ha,1.5);f?(null===v.boundingBox&&Jf(a),h.copy(E).addScaledVector(K,2+C.x/9),x.copy(E).addScaledVector(K,1.5+.5*C.x/9).addScaledVector(l,-10),f=(new THREE.Quaternion).setFromUnitVectors(A,K.normalize().clone().multiplyScalar(-1)),b(f)):x.copy(d).addScaledVector(V,-r);z.position.copy(x);t.position.copy(d);var ub,
vb=(new THREE.Plane).setFromCoplanarPoints(c,d,e).normal;z.onBeforeRender=function(pa,Cc,wa){pa=vb.x*(wa.position.x-wa.target.x)+vb.y*(wa.position.y-wa.target.y)+vb.z*(wa.position.z-wa.target.z);if(0>pa/ub||0>pa&&void 0===ub)ub=pa,pa=new THREE.Quaternion,pa.setFromAxisAngle(u,Math.PI),b(pa),z.updateMatrixWorld(!0);0>wa.up.dot(u)&&(wa=new THREE.Quaternion,wa.setFromAxisAngle(F,Math.PI),b(wa),z.updateMatrixWorld(!0))};f=[];f.push(c);f.push(d);f.push(e);f.push((new THREE.Vector3).copy(d).add(n.multiplyScalar(r)));
f.push(k);f.push(h);f.push((new THREE.Vector3).copy(d).add(l.multiplyScalar(r)));h=(new THREE.BufferGeometry).setFromPoints(f);h.setIndex([0,1,1,2,3,4,5,6]);h=new jf(h,p);c=(new THREE.BufferGeometry).setFromPoints([c,d,e]);d=new G(new D);d=new ig(d);d.size=8;c=new jg(c,d);m.depthTest=!1;p.depthTest=!1;d.depthTest=!1;z.renderOrder=100;t.renderOrder=100;w.renderOrder=100;h.renderOrder=100;c.renderOrder=100;a.ea.add(z);a.ea.add(t);a.ea.add(w);a.ea.add(h);a.ea.add(c)}
ng.prototype.hd=function(a){this.pa=a;a=this.ea.children;for(var b=a.length-1;0<=b;b--)this.ea.remove(a[b]);og(this)};y.Object.defineProperties(ng.prototype,{angleDisplayUnits:{configurable:!0,enumerable:!0,get:function(){return this.pa}}});function pg(a,b,c){return new THREE.Vector3(a.x+b.x*c,a.y+b.y*c,a.z+b.z*c)}function qg(a){var b=new If;a=lg.call(this,b,a)||this;a.pa=M.Base_LU_Millimeters;rg(a);return a}q(qg,lg);
function rg(a){var b=mg(a.ma[0].point),c=mg(a.ma[1].point),d=(new THREE.Vector3).subVectors(c,b),e=d.length(),f=c.clone();Math.abs(d.z)<Number.EPSILON&&!(Math.abs(d.x)<Number.EPSILON&&Math.abs(d.y)<Number.EPSILON)?f.z=c.z+20:Math.abs(d.x)<Number.EPSILON&&Math.abs(d.y)<Number.EPSILON?f.y=b.y+20:f.z=b.z;var h=Number(Eb(e,a.pa).toFixed(2));a.sa=h;var k=new THREE.TextBufferGeometry(h+Db(a.pa),a.wa),l=new G(new D),n=new D;n.setHex(2256298);h=new xf(l,n);var m=new U(k,h);d.normalize();var p=new THREE.Vector3(1,
0,0),r=(new THREE.Quaternion).setFromUnitVectors(p,d),t=new THREE.Vector3(0,0,1);m.applyQuaternion(r);p.applyQuaternion(r);m.up.applyQuaternion(r);t.applyQuaternion(r);var v=(new THREE.Plane).setFromCoplanarPoints(b,c,f).normal;r.setFromUnitVectors(t,v);t.applyQuaternion(r);m.applyQuaternion(r);m.up.applyQuaternion(r);p=(new THREE.Vector3).addScaledVector(m.up,40);m.position.addVectors(b,c).multiplyScalar(.5).add(p);f=new THREE.Vector3;k.center();k.boundingBox.getSize(f);(k=e<f.x+30)&&m.position.copy(b).addScaledVector(d,
-f.x/2-9-6).add(p);r=[];r.push(b);r.push(b.clone().add(p).addScaledVector(m.up,4));r.push(c);r.push(c.clone().add(p).addScaledVector(m.up,4));var C=0,z=0;k&&(C=-13,z=-f.x-6);r.push(pg(b,d,C+z).add(p));r.push(pg(b,d,e-C).add(p));r=(new THREE.BufferGeometry).setFromPoints(r);r.setIndex([0,1,2,3,4,5]);l=new hf(l,n);n=new jf(r,l);k=k?-9:9;r=p.clone().setLength(3);C=[];e=pg(b,d,e-k).add(p);C.push(e.clone().add(r));C.push(e.clone().sub(r));C.push(c.clone().add(p));e=pg(b,d,k).add(p);C.push(e.clone().add(r));
C.push(e.clone().sub(r));C.push(b.clone().add(p));e=(new THREE.BufferGeometry).setFromPoints(C);e.computeVertexNormals();e=new U(e,h);m.position.add(m.up.clone().setLength(f.y));var w;m.onBeforeRender=function(x,A,u){x=new THREE.Quaternion;A=v.x*(u.position.x-u.target.x)+v.y*(u.position.y-u.target.y)+v.z*(u.position.z-u.target.z);if(0>A/w||0>A&&void 0===w)w=A,x.setFromAxisAngle(d,Math.PI),m.applyQuaternion(x),m.up.applyQuaternion(x),t.applyQuaternion(x),m.updateMatrixWorld(!0);0>u.up.dot(m.up)&&(x.setFromAxisAngle(t,
Math.PI),m.applyQuaternion(x),m.up.applyQuaternion(x),t.applyQuaternion(x),m.updateMatrixWorld(!0))};b=(new THREE.BufferGeometry).setFromPoints([b,c]);c=new G(new D);c=new ig(c);c.size=8;b=new jg(b,c);h.depthTest=!1;l.depthTest=!1;c.depthTest=!1;m.renderOrder=100;n.renderOrder=100;e.renderOrder=100;b.renderOrder=100;a.ea.add(m);a.ea.add(n);a.ea.add(e);a.ea.add(b)}qg.prototype.jd=function(a){this.pa=a;a=this.ea.children;for(var b=a.length-1;0<=b;b--)this.ea.remove(a[b]);rg(this)};
y.Object.defineProperties(qg.prototype,{lengthDisplayUnits:{configurable:!0,enumerable:!0,get:function(){return this.pa}}});function sg(a){Uf.call(this,a)}q(sg,Uf);sg.prototype.ue=function(a){this.aa.jd(a)};sg.prototype.te=function(a){this.aa.hd(a)};
y.Object.defineProperties(sg.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.aa.value}},unitsDisplayed:{configurable:!0,enumerable:!0,get:function(){return!1}},lengthDisplayUnits:{configurable:!0,enumerable:!0,get:function(){return this.aa.lengthDisplayUnits}},angleDisplayUnits:{configurable:!0,enumerable:!0,get:function(){return this.aa.angleDisplayUnits}}});sg.prototype.setAngleDisplayUnits=sg.prototype.te;sg.prototype.setLengthDisplayUnits=sg.prototype.ue;
function tg(){}q(tg,eg);tg.prototype.aa=function(a,b){if(!a.$a(b))return a=new qg([a,b]),new sg(a)};tg.prototype.Xb=function(a,b,c){if(!(a.$a(b)||a.$a(c)||b.$a(c)))return a=new ng([a,b,c]),new sg(a)};var ug=new tg;function vg(){}vg.createAngleDimension=function(a,b,c){return ug.Xb(a,b,c)};vg.createDistanceDimension=function(a,b){return ug.aa(a,b)};var wg=new THREE.Vector3,xg=new THREE.Vector3,yg=new THREE.Quaternion;
function zg(a,b){var c=U.call(this,a,b)||this;a.center();a.boundingBox.getSize(xg);c.position.add(xg.divideScalar(2));c.onBeforeRender=function(d,e,f){wg.setFromMatrixColumn(c.matrixWorld,2);xg.subVectors(f.target,f.position);0<wg.dot(xg)&&(wg.set(1,0,0),xg.copy(wg).negate(),yg.setFromUnitVectors(wg,xg),c.applyQuaternion(yg),c.updateMatrixWorld(!0));wg.setFromMatrixColumn(c.matrixWorld,1);0>f.up.dot(wg)&&(wg.set(0,1,0),xg.copy(wg).negate(),yg.setFromUnitVectors(wg,xg),c.applyQuaternion(yg),c.updateMatrixWorld(!0))};
return c}q(zg,U);var Ag=new G(new D),Bg=new D;Bg.setHex(2256298);function Cg(){}function Dg(a,b){var c=new Eg(a.plane);return Ea(a.aa,function(d){return d.accept(c)}).then(function(){var d=new X(c.object);d.applyMatrix(b);return d})}
Cg.prototype.create=function(a,b){b=void 0===b?[]:b;var c=new THREE.Matrix4,d=b.reduce(function(e,f){f instanceof Ib&&f.aa&&(c.fromArray(f.aa.aa),e.multiply(c));return e},new THREE.Matrix4);return a.ed().then(function(e){return Fa(e,function(f){return f?Dg(f.graphicalElement,d):null})})};function Eg(a){this.object=new THREE.Group;this.plane=a}q(Eg,Za);Eg.prototype.rc=function(a){var b=this;if(a.aa){var c=new Fg;return a.aa.accept(c).then(function(){b.object.add(c.object)})}};
Eg.prototype.vc=function(a){var b=this;if(a.text&&0<a.text.length){var c=a.text;return Ga().then(function(){var e=new xf(Ag,Bg),f=new THREE.TextBufferGeometry(c,{font:kg,size:a.fontSize,height:0,curveSegments:2}),h=e=new zg(f,e);if(b.plane&&b.plane.plane){h=b.plane.plane;f=new THREE.Matrix4;f.makeBasis(h.position.xDirection,h.position.yDirection,h.position.direction);var k=new H;h.value(a.textOrigin.x,a.textOrigin.y,k);f.setPosition(k);h=new If;h.add(e);h.applyMatrix(f)}b.object.add(h)})}if(a.aa){var d=
new Fg;return a.aa.accept(d).then(function(){b.object.add(d.object)})}};Eg.prototype.wc=function(a){this.object.add(Ef(a.aa,Ag))};Eg.prototype.visitTriangulatedComponent=Eg.prototype.wc;Eg.prototype.visitTextComponent=Eg.prototype.vc;Eg.prototype.visitOutlinedComponent=Eg.prototype.rc;function Fg(){this.object=null}q(Fg,ab);g=Fg.prototype;g.uc=function(a){this.object=Ef(a.aa,Ag)};g.tc=function(a){this.object=Ef(a.aa,Ag)};g.oc=function(a){a.aa&&(this.object=Ef(a.aa.aa,Ag))};
g.nc=function(a){this.object=Ef(a.aa,Ag)};g.mc=function(a){var b=this,c=[];a.aa.forEach(function(d){d.accept(b);b.object&&c.push(b.object)});1<c.length?(this.object=new If,this.object.children=c):this.object=c[0];return!1};Fg.prototype.visitCompositeOutlineEnter=Fg.prototype.mc;Fg.prototype.visitCurve2dOutline=Fg.prototype.nc;Fg.prototype.visitCurveOutline=Fg.prototype.oc;Fg.prototype.visitPoly2dOutline=Fg.prototype.tc;Fg.prototype.visitPolyOutline=Fg.prototype.uc;var Gg=new Cg;function Hg(){}
Hg.create=function(a,b){b=void 0===b?[]:b;return Gg.create(a,b).then(function(c){return c.map(function(d){return new Vf(d)})})};Hg.createFromGraphicalElement=function(a,b){var c=new THREE.Matrix4;b&&c.fromArray(b.aa);return Dg(a,c).then(function(d){return new Vf(d)})};function Ig(a){switch(a){case 0:return 1;case 1:return 4;case 2:return 2;default:return 0}}
function Jg(a,b,c,d,e,f){this.type=a;this.points=b;this.normalizedPoints=c;this.ctrlKey=d;this.shiftKey=e;this.button=f;this.camera=null;this.intersection=void 0}
function Kg(a,b){var c=a.offsetX,d=a.offsetY;if(b!==(a.currentTarget||a.srcElement)){d=b.getBoundingClientRect();var e=b.ownerDocument.defaultView;c=a.pageX-(e.pageXOffset+d.left);d=a.pageY-(e.pageYOffset+d.top)}c=new N(c,d);return new Jg(a.type,[c],[new N(c.x/b.clientWidth*2-1,2*-(c.y/b.clientHeight)+1)],a.ctrlKey,a.shiftKey,Ig(a.button))}
function Lg(a,b){var c=b.getBoundingClientRect(),d=b.ownerDocument.defaultView,e=d.pageXOffset+c.left;c=d.pageYOffset+c.top;d=[];for(var f=[],h=0;h<a.touches.length;h++){var k=a.touches.item(h);k=new N(k.pageX-e,k.pageY-c);d.push(k);f.push(new N(k.x/b.clientWidth*2-1,2*-(k.y/b.clientHeight)+1))}return new Jg(a.type,d,f,a.ctrlKey,a.shiftKey,1)}
y.Object.defineProperties(Jg.prototype,{point:{configurable:!0,enumerable:!0,get:function(){if(1===this.points.length)return this.points[0]}},normalizedPoint:{configurable:!0,enumerable:!0,get:function(){if(1===this.normalizedPoints.length)return this.normalizedPoints[0]}}});function Mg(){this.va=new Map;this.ua=Kf.Shaded;this.ea=Lf.None;this.ga=!0}q(Mg,dg);g=Mg.prototype;g.display=function(){};g.zb=function(){};g.Ab=function(){};g.remove=function(){};g.Eb=function(){};g.select=function(){};
g.oa=function(){};g.kb=function(){};g.Bc=function(){};g.fb=function(){return-1};g.ib=function(){};g.mb=function(){};y.Object.defineProperties(Mg.prototype,{globalSelectionMode:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){this.ea=a}},ghostMode:{configurable:!0,enumerable:!0,get:function(){return this.ga},set:function(a){this.ga=a}},globalDisplayMode:{configurable:!0,enumerable:!0,get:function(){return this.ua},set:function(a){this.ua=a}}});
function Ng(a,b,c,d,e){var f=If.call(this)||this;f.fa=e;var h=new rf(e,null);d=new THREE.CylinderBufferGeometry(0,d,c,32,1,!1);h=new U(d,h);h.matrixAutoUpdate=!1;h.renderOrder=10;h.layers.set(5);f.add(h);f.aa=h;b=new THREE.CylinderBufferGeometry(b,b,Math.max(0,a-c),32,1,!1);e=new rf(e,null);e=new U(b,e);e.matrixAutoUpdate=!1;e.renderOrder=10;e.layers.set(5);f.add(e);f.da=e;f.setLength(a,c);return f}q(Ng,If);
Ng.prototype.setLength=function(a,b){this.da.position.y=Math.max(0,a-b)/2;this.aa.position.y=a-b/2;this.aa.updateMatrix();this.da.updateMatrix()};function Og(a,b){a=X.call(this,a,b)||this;a.ea=!1;a.object={};return a}q(Og,X);Og.prototype.select=function(){this.ea=!0;X.prototype.select.call(this)};Og.prototype.oa=function(){this.ea=!1;X.prototype.oa.call(this)};var Pg=0;
function Qg(a,b){var c=THREE.Plane.call(this)||this;c.plane=a;c.ga=Rg(a);c.setComponents(c.plane.direction.x,c.plane.direction.y,c.plane.direction.z,-c.plane.direction.x*c.plane.location.x-c.plane.direction.y*c.plane.location.y-c.plane.direction.z*c.plane.location.z);c.planeId=++Pg;var d=new THREE.PlaneBufferGeometry(1,1,3,3);a=new G(new D(.1,.9,.1,.07));var e=new rf(a,null);a=new THREE.BufferGeometry;a.addAttribute("position",new THREE.BufferAttribute(new Float32Array([-.5,.5,0,.5,.5,0,.5,-.5,0,
-.5,-.5,0,-.5,.5,0]),3));var f=new THREE.LineBasicMaterial({color:new THREE.Color(130832),side:THREE.DoubleSide,transparent:!0,opacity:.3}),h=new THREE.Vector3;b.getSize(h);h=Math.max(Math.max(h.x,h.y,h.z)/12,.001);var k=h/12,l=h/12*5,n=h/12*2;c.aa=new THREE.Mesh(d);a=new THREE.Line(a,f);d=new U(d,e);e=new G(na(1697305));h=new Ng(h,k,l,n,e);c.aa.visible=!1;c.aa.layers.set(3);a.layers.set(5);d.layers.set(5);h.layers.set(5);h.quaternion.setFromUnitVectors(new THREE.Vector3(0,1,0),new THREE.Vector3(0,
0,1));k=new If;k.add(d);k.add(h);k.layers.set(5);k=new Og(k);l=new THREE.Vector3(c.plane.location.x,c.plane.location.y,c.plane.location.z);k.position.copy(l);k.layers.set(5);c.da=k;c.ea=a;c.ia=h;c.fa=d;c.aa.matrixWorldNeedsUpdate=!0;Sg(c,c.plane,b);return c}q(Qg,THREE.Plane);
function Sg(a,b,c){var d=new THREE.Vector3;c.getSize(d);c=d.length();a.aa.scale.set(c,c,1);a.ga=Rg(b);b.direction.x?(a.fa.scale.set(1.1*d.z,1.1*d.y,1),a.ea.scale.set(1.1*d.z,1.1*d.y,1)):b.direction.y?(a.fa.scale.set(1.1*d.x,1.1*d.z,1),a.ea.scale.set(1.1*d.x,1.1*d.z,1)):b.direction.z&&(a.fa.scale.set(1.1*d.x,1.1*d.y,1),a.ea.scale.set(1.1*d.x,1.1*d.y,1));a.aa.position.copy(b.location);a.da.position.copy(b.location);d=new THREE.Vector3(-b.direction.x,-b.direction.y,b.direction.z);a.aa.quaternion.setFromUnitVectors(d,
{x:0,y:0,z:-1});a.da.quaternion.setFromUnitVectors(d,{x:0,y:0,z:-1});a.da.updateMatrixWorld(!0);Jf(a.da);a.da.computeBoundingSphere();a.setComponents(b.direction.x,b.direction.y,b.direction.z,-b.direction.x*b.location.x-b.direction.y*b.location.y-b.direction.z*b.location.z);a.plane=b}function Rg(a){var b="";a.direction.x?b="x":a.direction.y?b="x":a.direction.z&&(b="z");return b}function Tg(a){return!isNaN(a)&&isFinite(a)}
function Ug(a){a=a||{};a.la=this;this.Id=0;this.ea=-1;this.Oa=Tg(a.Oa)?a.Oa:0;this.La=Tg(a.La)?a.La:1;this.Pa=Tg(a.Pa)?a.Pa:2;this.Ma=Tg(a.Ma)?a.Ma:3;this.Qa=Tg(a.Qa)?a.Qa:4;this.Na=Tg(a.Na)?a.Na:5;this.da=[];this.da[this.Oa]={index:this.Oa,count:0,x:1,y:0,z:0};this.da[this.La]={index:this.La,count:0,x:-1,y:0,z:0};this.da[this.Pa]={index:this.Pa,count:0,x:0,y:1,z:0};this.da[this.Ma]={index:this.Ma,count:0,x:0,y:-1,z:0};this.da[this.Qa]={index:this.Qa,count:0,x:0,y:0,z:1};this.da[this.Na]={index:this.Na,
count:0,x:0,y:0,z:-1};this.pa=1<<this.Oa+1;this.ja=1<<this.La+1;this.va=1<<this.Pa+1;this.ma=1<<this.Ma+1;this.qa=1<<this.Qa+1;this.na=1<<this.Na+1;this.sa=new THREE.Vector3;this.ua=new THREE.Vector3;if(this.Fb=a.Fb)this.He=new THREE.BoxBufferGeometry(1,1,1),this.Ie=new THREE.MeshBasicMaterial({color:16711782,wireframe:!0,Ne:1});this.ga=[];this.fa={};this.ia=[];this.aa=[];this.jb=Tg(a.jb)?a.jb:Infinity;this.Ja=Tg(a.Ja)?a.Ja:8;this.Ga=Tg(a.Ga)?a.Ga:.15;this.hc=a.hc||!1;this.root=a.root instanceof Vg?
a.root:new Vg(a)}Ug.prototype.update=function(){if(0<this.aa.length){for(var a=0,b=this.aa.length;a<b;a++){var c=this.aa[a];Wg(this,c.object,c.options)}this.aa.length=0}};Ug.prototype.add=function(a,b){if(this.hc){var c,d=[a],e,f;for(e=a.parent;e;)d.push(e),e=e.parent;var h=0;for(c=d.length;h<c;h++)e=d[h],!0===e.matrixWorldNeedsUpdate&&(f=e);"undefined"!==typeof f&&f.updateMatrixWorld();Wg(this,a,b)}else this.aa.push({object:a,options:b})};
function Wg(a,b,c){b instanceof Xg&&(b=b.object);b.uuid||(b.uuid=THREE.Math.generateUUID());if(!a.fa[b.uuid]){a.ga.push(b);a.fa[b.uuid]=b;if(c){var d=c.nd;var e=c.Me}if(!0===e)for(c=b.geometry,e=c.vertices,c=0,d=e.length;c<d;c++)Yg(a,b,e[c]);else if(!0===d)for(c=b.geometry,e=c.Fa,c=0,d=e.length;c<d;c++)Yg(a,b,e[c]);else Yg(a,b)}}function Yg(a,b,c){b=new Xg(b,c);a.ia.push(b);Zg(a.root,b)}
Ug.prototype.remove=function(a){var b=a;a instanceof Xg&&(a=a.object);if(this.fa[a.uuid]){this.fa[a.uuid]=void 0;var c=this.ga.indexOf(a);if(-1!==c){this.ga.splice(c,1);c=$g(this.root,b,{Gb:!1,dd:[],ac:[]});var d=c.dd;if(0<d.length)for(b=0,a=d.length;b<a;b++){var e=d[b];ah(e);bh(e.la.root)}e=c.ac;a=0;for(d=e.length;a<d;a++)b=e[a],c=this.ia.indexOf(b),-1!==c&&this.ia.splice(c,1)}}else if(0<this.aa.length){a:{b=this.aa;d=0;for(c=b.length;d<c;d++)if(b[d].object===a){c=d;break a}c=-1}-1!==c&&this.aa.splice(c,
1)}};
Ug.prototype.search=function(a,b,c,d){var e;var f=[].concat(this.root.da);0<b||(b=Number.MAX_VALUE);if(d instanceof THREE.Vector3){d=this.sa.copy(d).normalize();var h=this.ua.set(1,1,1).divide(d)}var k=0;for(e=this.root.aa.length;k<e;k++){var l=this.root.fa[this.root.aa[k]];f=l.search(a,b,f,d,h)}if(!0===c)for(c=[],d=[],k=0,e=f.length;k<e;k++)a=f[k],b=a.object,l=d.indexOf(b),-1===l?(l={object:b,Fa:[],vertices:[]},c.push(l),d.push(b)):l=c[l],a.Fa?l.Fa.push(a.Fa):a.vertices&&l.vertices.push(a.vertices);else c=
f;return c};function ch(a,b){b instanceof Vg&&(a.root=b,dh(a.root))}function Xg(a,b){this.object=a;b instanceof THREE.Face3?(this.Fa=b,this.aa=!0,this.fa=new THREE.Vector3):b instanceof THREE.Vector3&&(this.vertices=b);this.radius=0;this.node=void 0;this.position=new THREE.Vector3;this.object.isObject3D&&this.update();this.da=this.position.clone();this.ya=-1}
Xg.prototype.update=function(){if(this.aa){var a=this.object,b=this.Fa;void 0===b.Vb&&(b.Vb=new THREE.Vector3);var c=(a.geometry||a).vertices;a=b.Vb;var d=this.fa,e=c[b.a],f=c[b.b];b=c[b.Je];a.addVectors(e,f).add(b).divideScalar(3);this.radius=Math.max(d.subVectors(a,e).length(),d.subVectors(a,f).length(),d.subVectors(a,b).length());this.position.copy(this.Fa.Vb).applyMatrix4(this.object.matrixWorld)}else this.vertices?(this.radius=this.object.material.size||1,this.position.copy(this.vertices).applyMatrix4(this.object.matrixWorld)):
this.object.geometry?(null===this.object.geometry.boundingSphere&&this.object.geometry.computeBoundingSphere(),this.radius=this.object.geometry.boundingSphere.radius,this.position.copy(this.object.geometry.boundingSphere.center).applyMatrix4(this.object.matrixWorld)):this.object.boundingSphere&&(this.radius=this.object.boundingSphere.radius,this.position.copy(this.object.boundingSphere.center).applyMatrix4(this.object.matrixWorld));this.radius=this.radius*Math.max(this.object.scale.x,this.object.scale.y,
this.object.scale.z);this.radius=0<this.radius?this.radius:1};
function Vg(a){this.pa=new THREE.Vector3;this.va=new THREE.Vector3;this.qa=new THREE.Vector3;a=a||{};a.la instanceof Ug?this.la=a.la:!0!==a.parent instanceof Vg&&(a.root=this,this.la=new Ug(a));this.id=this.la.Id++;this.position=a.position instanceof THREE.Vector3?a.position:new THREE.Vector3;this.radius=0<a.radius?a.radius:1;this.ya=a.ya;this.ia=0;this.reset();this.parent=null;eh(this,a.parent);this.da=[];this.aa=[];this.fa={};this.na=this.radius*this.la.Ga;this.ea=this.radius+this.na;this.left=
this.position.x-this.ea;this.right=this.position.x+this.ea;this.bottom=this.position.y-this.ea;this.top=this.position.y+this.ea;this.ja=this.position.z-this.ea;this.ma=this.position.z+this.ea;this.la.Fb&&(this.ga=new THREE.Mesh(this.la.He,this.la.Ie),this.ga.scale.set(2*this.ea,2*this.ea,2*this.ea),this.ga.position.copy(this.position),this.la.Fb.add(this.ga))}function eh(a,b){b!==a&&a.parent!==b&&(a.parent=b,dh(a))}
function dh(a){var b;a.parent instanceof Vg?(a.la=a.parent.la,a.ia=a.parent.ia+1):a.ia=0;var c=0;for(b=a.aa.length;c<b;c++)dh(a.fa[a.aa[c]])}Vg.prototype.reset=function(a,b){var c,d=this.aa||[],e=this.fa;this.da=[];this.aa=[];this.fa={};var f=0;for(c=d.length;f<c;f++){var h=e[d[f]];eh(h,void 0);!0===a&&h.reset(a,b)}!0===b&&this.ga&&this.ga.parent&&this.ga.parent.remove(this.ga)};function fh(a,b,c){b.ya=c;-1===a.aa.indexOf(c)&&a.aa.push(c);a.fa[c]=b;b.parent!==a&&eh(b,a)}
function Zg(a,b){var c=gh(a,b);if(-1<c&&0<a.aa.length)a=hh(a,c),Zg(a,b);else if(-1>c&&a.parent instanceof Vg)Zg(a.parent,b);else if(c=a.da.indexOf(b),-1===c&&a.da.push(b),b.node=a,a.da.length>a.la.Ja&&0<a.la.Ja){var d=[],e=[],f=[],h=[],k=[],l;var n=0;for(l=a.da.length;n<l;n++)c=a.da[n],b=gh(a,c),-1<b?(f.push(c),h.push(b)):-1>b?(d.push(c),e.push(b)):k.push(c);0<f.length&&(k=k.concat(ih(a,f,h)));0<d.length&&(k=k.concat(jh(a,d,e)));a.da=k;ah(a)}}
function kh(a,b){var c;var d=0;for(c=b.length;d<c;d++){var e=b[d];a.da.push(e);e.node=a}}function $g(a,b,c){if(b instanceof Xg){var d=a.da.indexOf(b);if(-1!==d){a.da.splice(d,1);b.node=void 0;c.ac.push(b);var e=c.Gb=!0}}else for(d=a.da.length-1;0<=d;d--){var f=a.da[d];if(f.object===b&&(a.da.splice(d,1),f.node=void 0,c.ac.push(f),e=!0,!f.Fa&&!f.vertices)){c.Gb=!0;break}}!0===e&&c.dd.push(a);if(!0!==c.Gb)for(d=0,e=a.aa.length;d<e&&(f=a.fa[a.aa[d]],c=$g(f,b,c),!0!==c.Gb);d++);return c}
function ih(a,b,c){var d;if(a.ia<a.la.jb){b=b||a.da;c=c||[];var e=[];var f=0;for(d=b.length;f<d;f++){var h=b[f];var k=c[f];-1<k?(k=hh(a,k),Zg(k,h)):e.push(h)}b===a.da&&(a.da=e)}else e=a.da;return e}function hh(a,b){if(a.fa[b]instanceof Vg)var c=a.fa[b];else{c=.5*a.ea;var d=c*a.la.Ga;d=c-d;d=a.pa.set(b&1?d:-d,b&2?d:-d,b&4?d:-d);d=(new THREE.Vector3).addVectors(a.position,d);c=new Vg({la:a.la,parent:a,position:d,radius:c,ya:b});fh(a,c,b)}return c}
function jh(a,b,c){var d,e=a.la.da,f=a.va;if(lh(a.la.root)<a.la.jb){b=b||a.da;c=c||[];var h=[];var k=[];var l=0;for(d=e.length;l<d;l++)e[l].count=0;l=0;for(d=b.length;l<d;l++){var n=b[l];var m=c[l];-1>m?(m=-m-2,m&a.la.pa?e[a.la.Oa].count++:m&a.la.ja&&e[a.la.La].count++,m&a.la.va?e[a.la.Pa].count++:m&a.la.ma&&e[a.la.Ma].count++,m&a.la.qa?e[a.la.Qa].count++:m&a.la.na&&e[a.la.Na].count++,k.push(n)):h.push(n)}if(0<k.length){var p=e.slice(0);p.sort(function(v,C){return C.count-v.count});m=p[0];l=m.index|
1;n=p[1];e=p[2];c=(n.index|1)!==l?n:e;d=c.index|1;n=p[2];e=p[3];p=p[4];var r=n.index|1;var t=e.index|1;n=r!==l&&r!==d?n:t!==l&&t!==d?e:p;l=m.x+c.x+n.x;d=m.y+c.y+n.y;c=m.z+c.z+n.z;m=mh(l,d,c);c=mh(-l,-d,-c);d=a.na;n=a.radius;l=0<a.la.Ga?d/(.5*a.la.Ga*(1+a.la.Ga)):2*n;e=l*a.la.Ga;d=l+e-(n+d);f.set(m&1?d:-d,m&2?d:-d,m&4?d:-d);f=(new THREE.Vector3).addVectors(a.position,f);f=new Vg({la:a.la,position:f,radius:l});fh(f,a,c);ch(a.la,f);l=0;for(d=k.length;l<d;l++)Zg(a.la.root,k[l])}b===a.da&&(a.da=h)}else h=
b;return h}function ah(a){for(var b=a,c;b.parent instanceof Vg&&nh(b)<a.la.Ja;)c=b,b=b.parent;if(b!==a){a=b;var d;c=c?!0===Array.isArray(c)?c:[c]:[];b=0;for(d=c.length;b<d;b++){var e=c[b];kh(a,oh(e));e.reset(!0,!0);var f=a,h=e.ya;f.aa.splice(f.aa.indexOf(h),1);e=e||f.fa[h];delete f.fa[h];e.parent===f&&eh(e,void 0)}ah(a)}}
function bh(a){var b;if(0<a.aa.length){var c=0;var d=a.da.length;var e=0;for(b=a.aa.length;e<b;e++){var f=a.fa[a.aa[e]];var h=nh(f);d+=h;if(!k||h>c){var k=f;c=h}}if(d-c<a.la.Ja&&k instanceof Vg){e=k;b=0;for(f=a.aa.length;b<f;b++)h=a.fa[a.aa[b]],h!==e&&(kh(e,oh(h)),h.reset(!0,!0));kh(e,a.da);a.reset(!1,!0);ch(a.la,e);bh(e)}}}
function gh(a,b){var c=a.position,d=a.ea,e=a.na,f=0;if(b instanceof Xg){var h=b.radius;var k=b.position;b.da.copy(k)}else b instanceof Vg&&(k=b.position,h=0);var l=k.x-c.x;var n=k.y-c.y;k=k.z-c.z;c=Math.abs(l);var m=Math.abs(n);var p=Math.abs(k);if(Math.max(c,m,p)+h>d)return c+h>d&&(f^=0<l?a.la.pa:a.la.ja),m+h>d&&(f^=0<n?a.la.va:a.la.ma),p+h>d&&(f^=0<k?a.la.qa:a.la.na),b.ya=-f-2,b.ya;if(l-h>-e)f|=1;else if(!(l+h<e))return b.ya=a.la.ea,b.ya;if(n-h>-e)f|=2;else if(!(n+h<e))return b.ya=a.la.ea,b.ya;
if(k-h>-e)f|=4;else if(!(k+h<e))return b.ya=a.la.ea,b.ya;b.ya=f;return b.ya}function mh(a,b,c){var d=0;0<a&&(d|=1);0<b&&(d|=2);0<c&&(d|=4);return d}
Vg.prototype.search=function(a,b,c,d,e){if(d){var f=e;"undefined"===typeof f&&(f=this.qa.set(1,1,1).divide(d));e=(this.left-a.x)*f.x;var h=(this.right-a.x)*f.x;var k=(this.bottom-a.y)*f.y;var l=(this.top-a.y)*f.y,n=(this.ja-a.z)*f.z,m=(this.ma-a.z)*f.z;f=Math.min(Math.min(Math.max(e,h),Math.max(k,l)),Math.max(n,m));0>f?e=!1:(e=Math.max(Math.max(Math.min(e,h),Math.min(k,l)),Math.min(n,m)),e=e>f||e>b?!1:!0)}else e=b*b,h=a.x,k=a.y,l=a.z,h<this.left?e-=Math.pow(h-this.left,2):h>this.right&&(e-=Math.pow(h-
this.right,2)),k<this.bottom?e-=Math.pow(k-this.bottom,2):k>this.top&&(e-=Math.pow(k-this.top,2)),l<this.ja?e-=Math.pow(l-this.ja,2):l>this.ma&&(e-=Math.pow(l-this.ma,2)),e=0<=e;if(!0===e)for(c=c.concat(this.da),e=0,h=this.aa.length;e<h;e++)k=this.fa[this.aa[e]],c=k.search(a,b,c,d);return c};function lh(a,b){var c;if(0<a.aa.length){var d=0;for(c=a.aa.length;d<c;d++){var e=a.fa[a.aa[d]];b=lh(e,b)}}else b=!b||a.ia>b?a.ia:b;return b}
function oh(a,b){var c;b=(b||[]).concat(a.da);var d=0;for(c=a.aa.length;d<c;d++){var e=a.fa[a.aa[d]];b=oh(e,b)}return b}function nh(a){var b,c=a.da.length;var d=0;for(b=a.aa.length;d<b;d++)c+=nh(a.fa[a.aa[d]]);return c}
function ph(a,b){var c=[];if(b.object instanceof THREE.Object3D){var d=b.object,e=b.Fa;if(0<e.length){var f=b.geometry.faces;d.geometry.faces=e}c=a.intersectObject(d,void 0);0<e.length&&(d.geometry.faces=f)}else console.error("Incorrect intersectOctreeObject implementation");return c}function qh(a,b){var c,d=[];var e=0;for(c=b.length;e<c;e++)d=d.concat(ph(a,b[e]));d.sort(rh);return d}function rh(a,b){return a.distance-b.distance}
function sh(a){this.ka=a;if(a instanceof Ze){var b=new THREE.BufferGeometry;b.addAttribute("position",new THREE.BufferAttribute(new Float32Array([a.point.x,a.point.y,a.point.z]),3));a=new G(na(3582536));a=new ig(a);b=new jg(b,a);b.renderOrder=1E3;b.material.depthTest=!1}else b=null;this.aa=b}sh.prototype.isEqual=function(a){return this===a||this.ka.isEqual(a.ka)};sh.prototype.select=function(){(this.aa instanceof jg||this.aa instanceof jf||this.aa instanceof U)&&this.aa.select()};
sh.prototype.oa=function(){this.aa&&(this.aa instanceof jg||this.aa instanceof jf||this.aa instanceof U)&&this.aa.oa()};function th(a,b){this.ka=a;this.aa=void 0===b?null:b}g=th.prototype;g.isEqual=function(a){var b=this;return!!(this.ka===a.ka&&this.aa&&a.aa&&this.aa.length===a.aa.length&&this.aa.every(function(c){return-1!==a.aa.findIndex(function(d){return c.isEqual(d)})})&&a.aa.every(function(c){return-1!==b.aa.findIndex(function(d){return c.isEqual(d)})}))};
function uh(a,b){return a.ka!==b.ka?null:a.aa&&0<a.aa.length?b.aa&&0<b.aa.length?{Ea:b.aa.filter(function(c){return-1===a.aa.findIndex(function(d){return c.isEqual(d)})}),ab:a.aa.filter(function(c){return-1===b.aa.findIndex(function(d){return c.isEqual(d)})})}:{Ea:null,ab:a.aa}:b.aa&&0<b.aa.length?{Ea:b.aa,ab:null}:{Ea:null,ab:null}}
g.intersection=function(a){var b=this;return this.ka!==a.ka?null:this.aa&&0<this.aa.length&&a.aa&&0<a.aa.length?a.aa.filter(function(c){return-1!==b.aa.findIndex(function(d){return c.isEqual(d)})}):null};g.select=function(a){this.aa&&0<this.aa.length?this.aa.forEach(function(b){vh(a,b.aa,!0);b.select()}):this.ka&&this.ka.select()};g.oa=function(a){this.aa&&0<this.aa.length?this.aa.forEach(function(b){wh(a,b.aa,!0);b.oa()}):this.ka&&this.ka.oa()};
g.add=function(a){var b=this;Array.isArray(a)||(a=[a]);this.aa||(this.aa=[]);a=a.filter(function(c){return-1===b.aa.findIndex(function(d){return c.ka.isEqual(d.ka)})});this.aa.push.apply(this.aa,ba(a));return a};g.remove=function(a){var b=this;Array.isArray(a)||(a=[a]);var c=[];a.forEach(function(d){var e=b.aa.findIndex(function(f){return d.ka.isEqual(f.ka)});-1!==e&&(c.push(b.aa[e]),b.aa.splice(e,1))});return c};var xh={type:"redraw"};
function yh(){Mg.call(this);this.ja=new THREE.Scene;this.sa=[];this.qa=new Ug({hc:!0,jb:Infinity,Ja:8,Ga:.15});this.da=new THREE.Box3;this.na=new THREE.Raycaster;this.ga=!1;this.ia=[];this.ma=[];this.Ca=new Map;this.aa=[];this.fa=new th(null);this.Ba=new H;this.pa={};this.wa=[]}q(yh,Mg);
function zh(a){for(var b in a.pa){var c=a.pa[b],d=new THREE.Vector3(c.plane.location.x,c.plane.location.y,c.plane.location.z),e=new THREE.Vector3;a.da.getCenter(e);var f=c.ga;e[f]=d[f]>a.da.max[f]?a.da.max[f]+.01:d[f]<a.da.min[f]?a.da.min[f]-.01:d[f];c.plane.location.xa(e.x,e.y,e.z);Sg(c,c.plane,a.da)}}
function Ah(a,b){if(-1===a.sa.findIndex(function(f){return f.viewport===b})){a.ja.add(b.aa);var c=function(f){return Bh(a,f)},d=function(f){return Ch(a,f)},e=function(f){Dh(a,f);a.fa.ka&&(f.intersection={object:a.fa.ka.da,point:a.Ba.clone()});a.dispatchEvent(f)};b.addEventListener("selected",c);b.addEventListener("contextMenu",e);b.addEventListener("hoverChanged",d);a.sa.push({viewport:b,wd:function(){b.removeEventListener("selected",c);b.removeEventListener("contextMenu",e);b.removeEventListener("hoverChanged",
d)}})}}function Eh(a,b){var c=a.sa.findIndex(function(d){return d.viewport===b});-1!==c&&(a.sa[c].wd(),a.sa.splice(c,1),a.ja.remove(b.aa))}
function Bh(a,b){var c=a.fa.aa;c&&0<c.length&&a.fa.aa.forEach(function(k){return wh(a,k.aa,!0)});Dh(a,b);if(!(a.ea<=Lf.None)){c=a.fa.ka;var d=a.fa.aa,e=c&&c instanceof lg,f=c&&c.ua!==Lf.Global?c.ua:a.ea,h=f>Lf.Shape?d&&0<d.length:!0;!c||e||f<=Lf.None||!h?a.kb(!0,!0):(e=[],f===Lf.Shape?e.push(c.da):e.push({object:c.da,shapes:d?d.map(function(k){return k.ka}):null}),b.ctrlKey?a.Bc(e,!0,!0):a.select(e,!0,!0,!0))}}
function Ch(a,b){if(a.ea>Lf.Shape){var c=a.fa.aa;c&&0<c.length&&a.fa.aa.forEach(function(d){return wh(a,d.aa,!1)})}Dh(a,b);a.ea>Lf.Shape&&(b=a.fa.aa)&&0<b.length&&b.forEach(function(d){return vh(a,d.aa,!1)})}
function Dh(a,b){if(!(a.ea<=Lf.None)){a.na.setFromCamera(b.normalizedPoint,b.camera);a.na.aa=6/b.camera.zoom;a.na.params.Points.threshold=a.na.aa;b=Fh(a);var c=Gh(a,b);a.fa.ka=c[0]&&c[0].object;a.fa.aa=null;c[0]&&a.Ba.copy(c[0].point);if(a.ea>Lf.Shape){var d=[];b.forEach(function(e){e.object instanceof X&&(e=e.object.Zc(a.na,a.ea))&&d.push.apply(d,ba(e))});d.sort(function(e,f){return e.distance-f.distance});0<d.length&&(!a.fa.ka||d[0].distance<c[0].distance+a.na.aa)&&(a.fa.ka=d[0].object,a.fa.aa=
Hh(a,d[0].object,d[0].shape),a.Ba.copy(d[0].point))}}}function Fh(a){return a.qa.search(a.na.ray.origin,a.na.far,!0,a.na.ray.direction).filter(function(b){b=b.object;return b.ua!==Lf.None&&!b.Za})}function Gh(a,b){return qh(a.na,b).filter(function(c){var d=!0;if(!(c.object instanceof Og))for(var e in a.pa){var f=a.pa[e],h=(new THREE.Vector3).copy(f.plane.direction);f=(new THREE.Vector3).subVectors(c.point,f.plane.location);0>=h.dot(f)&&(d=!1)}return d})}
function vh(a,b,c){c=void 0===c?!1:c;Array.isArray(b)||(b=[b]);b.forEach(function(d){a.ja.add(d);c&&-1===a.wa.indexOf(d)&&a.wa.push(d)});a.dispatchEvent(xh)}function wh(a,b,c){Array.isArray(b)||(b=[b]);b.forEach(function(d){var e=a.wa.indexOf(d);-1!==e?c&&(a.ja.remove(d),a.wa.splice(e,1)):a.ja.remove(d)});a.dispatchEvent(xh)}g=yh.prototype;
g.display=function(a,b,c,d){var e=this,f=[];this.ia.length||this.ga&&0!==this.ma.length||this.da.makeEmpty();a.forEach(function(h){var k=h.aa;k instanceof X&&(k.ga=function(){e.dispatchEvent(xh)},-1===e.ia.findIndex(function(l){return l.aa===k})&&(e.ia.push(h),f.push(h)),h=e.ma.indexOf(h),-1!==h&&e.ma.splice(h,1),k.visible=!0,k.Za=!1,b===Kf.Global?Mf(k,e.ua):Mf(k,b),k.na!==c&&(k.na=c),e.ja.add(k),e.qa.add(k,{nd:!1}),h=k.boundingBox,h instanceof THREE.Box3&&!h.isEmpty()&&e.da.union(h),e.da.isEmpty()&&
(e.da.min.set(-1,-1,-1),e.da.max.set(1,1,1)))});zh(this);this.dispatchEvent({type:"displayed",objects:f,redraw:d})};g.zb=function(a,b){var c=this,d=[];a.forEach(function(e){if(e instanceof Uf){-1===c.ma.indexOf(e)&&(e.aa.visible=c.ga,e.aa.Za=c.ga,c.ma.push(e),d.push(e));var f=c.ia.indexOf(e);-1!==f&&c.ia.splice(f,1);c.oa([e],!0,!0)}});this.ga||Ih(this);zh(this);this.dispatchEvent({type:"erased",objects:d,redraw:b})};
g.Ab=function(a){var b=this,c=this.ia;c.forEach(function(d){d.aa.visible=b.ga;d.aa.ghostMode=b.ga});this.ia=[];this.ga||Ih(this);zh(this);this.dispatchEvent({type:"erased",objects:c,redraw:a})};
g.remove=function(a,b){var c=this,d=[];a.forEach(function(e){if(e instanceof Uf){-1!==c.aa.findIndex(function(h){return h.ka===e.aa})&&c.oa([e],!0,!0);var f=c.ia.indexOf(e);-1!==f?c.ia.splice(f,1):(f=c.ma.indexOf(e),-1!==f&&c.ma.splice(f,1));-1!==f&&(d.push(e),e.aa instanceof X&&c.Ca.delete(e.aa),c.ja.remove(e.aa),c.qa.remove(e.aa))}});Ih(this);zh(this);this.dispatchEvent({type:"removed",objects:d,redraw:b})};
g.Eb=function(a){var b=this,c=this.ia;c.push.apply(c,ba(this.ma));this.ia=[];this.ma=[];c.forEach(function(d){b.ja.remove(d.aa);b.qa.remove(d.aa)});this.aa.forEach(function(d){return d.oa(b)});this.aa.length=0;Ih(this);zh(this);this.dispatchEvent({type:"removed",objects:c,redraw:a})};
g.select=function(a,b,c,d){var e=this;a=a.slice();var f=[];a.forEach(function(n){n instanceof Uf?f.push(new th(n.impl)):n.object&&n.object.impl&&n.object.impl instanceof X&&n.shapes&&0<n.shapes.length&&f.push(new th(n.object.impl,Hh(e,n.object.impl,n.shapes)))});if(c){var h=[],k=[];if(b){this.aa.forEach(function(n){return n.oa(e)});var l=this.aa;this.aa=f;this.aa.forEach(function(n){var m=l.find(function(p){return p.ka===n.ka});m?(m=uh(m,n),m.Ea&&0<m.Ea.length&&k.push({object:n.ka.da,shapes:m.Ea.map(function(p){return p.ka})}),
m.ab&&0<m.ab.length&&h.push({object:n.ka.da,shapes:m.ab.map(function(p){return p.ka})})):k.push({object:n.ka.da,shapes:n.aa&&n.aa.map(function(p){return p.ka})});n.select(e)});l.forEach(function(n){-1===e.aa.findIndex(function(m){return m.ka===n.ka})&&h.push({object:n.ka.da,shapes:n.aa&&n.aa.map(function(m){return m.ka})})})}else f.forEach(function(n){var m=e.aa.find(function(p){return p.ka===n.ka});m?n.aa&&(m=m.add(n.aa),0<m.length&&(n.select(e),k.push({object:n.ka.da,shapes:m.map(function(p){return p.ka})}))):
(e.aa.push(n),n.select(e),k.push({object:n.ka.da,shapes:n.aa&&n.aa.map(function(p){return p.ka})}))});(0<k.length||0<h.length)&&this.dispatchEvent({type:"selectionChanged",removed:h,added:k})}else b?(this.aa.forEach(function(n){return n.oa(e)}),this.aa=f,this.aa.forEach(function(n){return n.select(e)})):f.forEach(function(n){var m=e.aa.find(function(p){return p.ka===n.ka});m?(n.aa&&m.add(n.aa),n=m):e.aa.push(n);n.select(e)});d&&this.dispatchEvent(xh)};
g.oa=function(a,b,c){var d=this,e=[],f=[];this.aa.forEach(function(h){a.find(function(k){return k.impl===h.ka})?(e.push({object:h.ka.da,shapes:h.aa&&h.aa.map(function(k){return k.ka})}),h.oa(d)):f.push(h)});this.aa=f;b&&0<e.length&&this.dispatchEvent({type:"selectionChanged",removed:e,added:[]});c&&this.dispatchEvent(xh)};
g.kb=function(a,b){var c=this;this.aa.forEach(function(d){return d.oa(c)});a&&0<this.aa.length&&(a={type:"selectionChanged",removed:this.aa.map(function(d){return{object:d.ka.da,shapes:d.aa&&d.aa.map(function(e){return e.ka})}}),added:[]},this.dispatchEvent(a));this.aa.splice(0,this.aa.length);b&&this.dispatchEvent(xh)};
g.Bc=function(a,b,c){var d=this;a=a.slice();var e=[];a.forEach(function(k){k instanceof Uf?e.push(new th(k.impl)):k.object&&k.object.impl&&k.object.impl instanceof X&&k.shapes&&0<k.shapes.length&&e.push(new th(k.object.impl,Hh(d,k.object.impl,k.shapes)))});var f=[],h=[];e.forEach(function(k){var l=d.aa.findIndex(function(r){return r.ka===k.ka});if(-1!==l){var n=d.aa[l];n.oa(d);var m=n.intersection(k),p=uh(n,k);m&&0<m.length&&h.push({object:n.ka.da,shapes:n.remove(m).map(function(r){return r.ka})});
p&&p.Ea&&0<p.Ea.length&&f.push({object:n.ka.da,shapes:n.add(p.Ea).map(function(r){return r.ka})});n.aa&&0<n.aa.length?n.select(d):(m&&0!==m.length||h.push({object:n.ka.da,shapes:null}),d.aa.splice(l,1))}else d.aa.push(k),f.push({object:k.ka.da,shapes:k.aa&&k.aa.map(function(r){return r.ka})}),k.select(d)});b&&(0<f.length||0<h.length)&&this.dispatchEvent({type:"selectionChanged",removed:h,added:f});c&&this.dispatchEvent(xh)};
g.fb=function(a,b){a=new Qg(a,this.da);this.pa[a.planeId]=a;this.ja.add(a.aa);this.ja.add(a.da);this.qa.add(a.da,{nd:!1});this.dispatchEvent({type:"addedGlobalClippingPlane",plane:a,redraw:b});return a.planeId};g.ib=function(a,b,c){if(a=this.pa[a])Sg(a,b,this.da),this.dispatchEvent({type:"changedGlobalClippingPlane",plane:a,redraw:c})};
g.mb=function(a,b){var c=this.pa[a];c&&(delete this.pa[a],this.ja.remove(c.aa),this.ja.remove(c.da),this.qa.remove(c.da),this.dispatchEvent({type:"removedGlobalClippingPlane",plane:c,redraw:b}))};function Hh(a,b,c){Array.isArray(c)||(c=[c]);var d=a.Ca.get(b);d||(d=[],a.Ca.set(b,d));return c.map(function(e){var f=d.find(function(h){return h.ka.isEqual(e)});f||(f=new sh(e),d.push(f));return f})}
function Ih(a){function b(c){c.aa instanceof X&&c.aa.boundingBox&&!c.aa.boundingBox.isEmpty()&&a.da.union(c.aa.boundingBox)}a.da.makeEmpty();a.ia.forEach(b);a.ghostMode&&a.ma.forEach(b);a.da.isEmpty()&&(a.da.min.set(-1,-1,-1),a.da.max.set(1,1,1));a.dispatchEvent({type:"sceneBBoxChanged"})}
y.Object.defineProperties(yh.prototype,{globalSelectionMode:{configurable:!0,enumerable:!0,set:function(a){this.ea=a;this.dispatchEvent(xh)},get:function(){return this.ea}},ghostMode:{configurable:!0,enumerable:!0,set:function(a){this.ga!==a&&(this.ga=a,this.ma.forEach(function(b){b.aa instanceof X&&(b.aa.Za=a,b.aa.visible=a)}),Ih(this),zh(this),this.dispatchEvent(xh))},get:function(){return this.ga}},globalDisplayMode:{configurable:!0,enumerable:!0,set:function(a){this.ua=a;this.ia.forEach(function(b){b.impl instanceof
X&&Mf(b.impl,a)});this.dispatchEvent(xh)}}});yh.prototype.removeGlobalClippingPlane=yh.prototype.mb;yh.prototype.changeGlobalClippingPlane=yh.prototype.ib;yh.prototype.addGlobalClippingPlane=yh.prototype.fb;function Y(){this.aa=new yh}g=Y.prototype;g.display=function(a,b,c,d){b=void 0===b?Kf.Global:b;c=void 0===c?Lf.Global:c;a instanceof Array||(a=[a]);this.aa.display(a,b,c,void 0===d?!0:d)};g.zb=function(a,b){a instanceof Array||(a=[a]);this.aa.zb(a,void 0===b?!0:b)};
g.Ab=function(a){this.aa.Ab(void 0===a?!0:a)};g.remove=function(a,b){a instanceof Array||(a=[a]);this.aa.remove(a,void 0===b?!0:b)};g.Eb=function(a){this.aa.Eb(void 0===a?!0:a)};g.select=function(a,b,c,d){a instanceof Array||(a=[a]);this.aa.select(a,void 0===b?!0:b,void 0===c?!0:c,void 0===d?!0:d)};g.oa=function(a,b){a instanceof Array||(a=[a]);this.aa.oa(a,!0,void 0===b?!0:b)};g.kb=function(a){this.aa.kb(!0,void 0===a?!0:a)};g.fb=function(a,b){return this.aa.fb(a,void 0===b?!0:b)};
g.ib=function(a,b,c){this.aa.ib(a,b,void 0===c?!0:c)};g.mb=function(a,b){this.aa.mb(a,void 0===b?!0:b)};g.addEventListener=function(a,b){this.aa.addEventListener(a,b)};g.removeEventListener=function(a,b){this.aa.removeEventListener(a,b)};
y.Object.defineProperties(Y.prototype,{impl:{configurable:!0,enumerable:!0,get:function(){return this.aa}},BBox:{configurable:!0,enumerable:!0,get:function(){return this.aa.da}},ghostMode:{configurable:!0,enumerable:!0,get:function(){return this.aa.ghostMode},set:function(a){this.aa.ghostMode=a}},globalDisplayMode:{configurable:!0,enumerable:!0,get:function(){return this.aa.globalDisplayMode},set:function(a){this.aa.globalDisplayMode=a}},globalSelectionMode:{configurable:!0,enumerable:!0,set:function(a){this.aa.globalSelectionMode=
a},get:function(){return this.aa.globalSelectionMode}}});Y.prototype.removeEventListener=Y.prototype.removeEventListener;Y.prototype.addEventListener=Y.prototype.addEventListener;Y.prototype.removeGlobalClippingPlane=Y.prototype.mb;Y.prototype.changeGlobalClippingPlane=Y.prototype.ib;Y.prototype.addGlobalClippingPlane=Y.prototype.fb;Y.prototype.deselectAll=Y.prototype.kb;Y.prototype.deselect=Y.prototype.oa;Y.prototype.select=Y.prototype.select;Y.prototype.removeAll=Y.prototype.Eb;
Y.prototype.remove=Y.prototype.remove;Y.prototype.hideAll=Y.prototype.Ab;Y.prototype.hide=Y.prototype.zb;Y.prototype.display=Y.prototype.display;function Jh(a){if(!(a instanceof Y))throw Error("TypeError: invalid argument (it should be instance of cadex.ModelPrs_Scene)");this.aa=a}q(Jh,af);Jh.prototype.display=function(a,b,c,d){a&&this.aa.display(a,d)};Jh.prototype.display=Jh.prototype.display;
function Kh(a,b){var c=new THREE.Box3;a instanceof kb?(c.min.set(a.minCorner.x,a.minCorner.y,a.minCorner.z),c.max.set(a.maxCorner.x,a.maxCorner.y,a.maxCorner.z)):(Array.isArray(a)?a:[a]).forEach(function(d){d instanceof Vf&&c.union(d.aa.boundingBox)});a=new THREE.Color;cf(b,a);b=X.call(this,new THREE.Box3Helper(c,a))||this;b.ea=c;return b}q(Kh,X);function Lh(a,b){Uf.call(this);this.aa=new Kh(a,b)}q(Lh,Uf);function Mh(){dg.apply(this,arguments)}q(Mh,dg);g=Mh.prototype;g.Bb=function(){return!1};
g.Cb=function(){};g.$b=function(){};g.Wc=function(){return!1};g.Xc=function(){};g.Vc=function(){};g.cd=function(){};g.ld=function(){return!1};g.md=function(){};g.dc=function(){};g.$c=function(){};g.ad=function(){};
y.Object.defineProperties(Mh.prototype,{Jb:{configurable:!0,enumerable:!0,get:function(){return!1}},ua:{configurable:!0,enumerable:!0,get:function(){return 0}},zc:{configurable:!0,enumerable:!0,get:function(){return!1}},Kb:{configurable:!0,enumerable:!0,get:function(){return!1}},Ob:{configurable:!0,enumerable:!0,get:function(){return!0}}});
function Nh(a,b){b=void 0===b?0:b;this.va=new Map;this.fa=[];this.da=void 0;this.aa=a;this.ea=!1;this.ia=this.ce.bind(this);this.ja=this.ee.bind(this);this.ga=this.de.bind(this);this.pa=this.rd.bind(this);this.qa=this.je.bind(this);this.na=this.oe.bind(this);this.ma=this.ne.bind(this);this.aa.addEventListener("mousedown",this.he.bind(this));this.aa.addEventListener("touchstart",this.pe.bind(this));this.aa.addEventListener("wheel",this.ke.bind(this));this.aa.addEventListener("contextmenu",this.pd.bind(this));
this.aa.tabIndex=b;this.aa.style.outline="none";this.aa.addEventListener("keydown",this.qd.bind(this));this.aa.addEventListener("keyup",this.fe.bind(this))}q(Nh,dg);function Oh(a,b){b&&a.fa.unshift(b)}g=Nh.prototype;g.ce=function(a){var b=this,c;this.fa.reduce(function(d,e){return e.Jb?(c||(c=Kg(a,b.aa),c.button=0),e.Wc(c)||d):d},!1)&&(this.aa.addEventListener("mousemove",this.ja),this.aa.addEventListener("mouseleave",this.ga))};
g.ee=function(a){var b=this,c;this.fa.forEach(function(d){d.Jb&&(c||(c=Kg(a,b.aa),c.button=0),d.Xc(c))})};g.de=function(a){var b=this,c;this.fa.forEach(function(d){d.Jb&&(c||(c=Kg(a,b.aa),c.button=0),d.Vc(c))})};
g.he=function(a){var b=this;a.preventDefault();this.ea&&this.aa.removeEventListener("mouseleave",this.ga);var c=Ig(a.button),d=Kg(a,this.aa);this.fa.some(function(e){return e.ua&c&&e.Bb(d)?(b.da=e,!0):!1})&&(this.aa.focus(),this.aa.addEventListener("mousemove",this.pa),window.addEventListener("mouseup",this.qa))};g.rd=function(a){a.preventDefault();this.da&&(a=Kg(a,this.aa),this.da.Cb(a))};g.je=function(a){a.preventDefault();this.da&&(a=Kg(a,this.aa),this.da.$b(a),this.da=void 0)};
g.ke=function(a){a.preventDefault();this.fa.some(function(b){return b.zc?(b.cd(a),!0):!1})};g.pe=function(a){var b=this;a.preventDefault();var c=Lg(a,this.aa);this.fa.some(function(d){if(d.Kb){if(d.ld(c))return b.da=d,!0}else if(1===c.points.length&&d.ua&c.button&&d.Bb(c))return b.da=d,!0;return!1})&&(this.aa.addEventListener("touchmove",this.na),window.addEventListener("touchend",this.ma))};
g.oe=function(a){a.preventDefault();this.da&&(a=Lg(a,this.aa),this.da.Kb&&this.da.md(a),1===a.points.length&&this.da.ua&a.button&&this.da.Cb(a))};g.ne=function(a){a.preventDefault();this.da&&(a=Lg(a,this.aa),this.da.Kb&&this.da.dc(a),1===a.points.length&&this.da.ua&a.button&&this.da.dc(a),this.da=void 0,this.aa.removeEventListener("touchmove",this.na),window.removeEventListener("touchend",this.ma))};g.qd=function(a){this.fa.some(function(b){return b.Ob&&b.$c(a)})};
g.fe=function(){this.fa.some(function(a){return a.Ob&&a.ad()})};g.pd=function(a){a.preventDefault()};y.Object.defineProperties(Nh.prototype,{hoverEnabled:{configurable:!0,enumerable:!0,get:function(){return this.ea},set:function(a){this.ea!==a&&((this.ea=a)?this.aa.addEventListener("mouseenter",this.ia):(this.aa.removeEventListener("mouseenter",this.ia),this.aa.removeEventListener("mousemove",this.ja),this.aa.removeEventListener("mouseleave",this.ga)))}}});
function Ph(a,b,c,d,e){var f=THREE.Camera.call(this)||this;f.ga=c;f.ea=Math.tan(THREE.Math.DEG2RAD*c/2);f.near=d;f.far=e;f.ia=d;f.ja=e;f.da=1;f.left=-50;f.right=50;f.top=50;f.bottom=-50;Qh(f,a,b);f.zoom=1;f.view=null;f.target=new THREE.Vector3;f.aa=new THREE.OrthographicCamera(f.left,f.right,f.top,f.bottom,d,e);f.fa=new THREE.PerspectiveCamera(c,f.da,d,e);f.fitBoxMargins={top:0,bottom:0,right:0,left:0};f.isPerspectiveCamera=!1;f.isOrthographicCamera=!1;Rh(f);return f}q(Ph,THREE.Camera);
function Rh(a){a.fa.near=a.near;a.fa.far=a.far;a.fa.view=a.view;a.fa.fov=a.ga;a.fa.aspect=a.da;a.fa.updateProjectionMatrix();a.projectionMatrix=a.fa.projectionMatrix;a.projectionMatrixInverse=a.fa.projectionMatrixInverse;a.isPerspectiveCamera=!0;a.isOrthographicCamera=!1}
function Sh(a){a.aa.near=-a.far;a.aa.far=a.far;a.aa.view=a.view;a.aa.zoom=a.zoom;a.aa.left=a.left;a.aa.right=a.right;a.aa.top=a.top;a.aa.bottom=a.bottom;a.aa.updateProjectionMatrix();a.projectionMatrix=a.aa.projectionMatrix;a.projectionMatrixInverse=a.aa.projectionMatrixInverse;a.isPerspectiveCamera=!1;a.isOrthographicCamera=!0}
Ph.prototype.copy=function(a){THREE.Camera.prototype.copy.call(this,a);a instanceof Ph&&(this.ga=a.ga,this.far=a.far,this.near=a.near,this.left=a.left,this.right=a.right,this.top=a.top,this.bottom=a.bottom,this.zoom=a.zoom,this.view=null===a.view?null:Object.assign({},a.view),this.da=a.da,this.aa.copy(a.aa),this.fa.copy(a.fa),this.isOrthographicCamera=a.isOrthographicCamera,this.isPerspectiveCamera=a.isPerspectiveCamera);return this};
function Qh(a,b,c){a.da=b/c;a.left=-b/2;a.right=b/2;a.top=c/2;a.bottom=-c/2}function Th(a,b){a.zoom=b;a.isPerspectiveCamera?Rh(a):Sh(a)}function Uh(a,b){b=a.position.distanceTo(b);a.updateMatrixWorld(!0);b*=a.ea;a.zoom=Math.max(2*a.right/(b*a.da),2*a.top/b);a.isPerspectiveCamera?Rh(a):Sh(a)}Ph.prototype.lookAt=function(a){this.target=a;THREE.Camera.prototype.lookAt.call(this,a)};
Ph.prototype.Da=function(a){a.empty()?(this.near=this.ia,this.far=this.ja):(this.near=Math.max(a.distanceToPoint(this.position),this.ia),this.far=this.near+2*a.radius+.001,this.isOrthographicCamera&&Sh(this),this.isPerspectiveCamera&&Rh(this))};
var Vh=new THREE.Vector3,Wh=new THREE.Vector3,Xh=new THREE.Vector3,Yh=new THREE.Vector3,Zh=new THREE.Vector3,$h=new THREE.Quaternion,ai=new THREE.Quaternion,bi=new THREE.Quaternion,ci=new THREE.Vector2,di=new THREE.Vector3,ei=new THREE.Vector3,fi=new THREE.Spherical,gi=new THREE.Quaternion;
function hi(a,b){Mh.call(this);this.aa={NONE:0,Ia:1,Sa:4,Ra:2,Ic:8,Tb:16};this.object=a;this.domElement=void 0!==b?b:document;this.ea={left:0,top:0,width:0,height:0};this.radius=10;this.Rb=1;this.rb=1.3;this.Qb=4.5;this.keys=[65,83,68];this.target=new THREE.Vector3;this.ma=new THREE.Vector3;this.ga=!0;this.ud=new THREE.Vector3;this.Lb=this.da=this.aa.NONE;this.na=new THREE.Vector3;this.ja=new THREE.Vector3;this.fa=new THREE.Vector3;this.sa=new THREE.Vector2;this.qa=new THREE.Vector2;this.wa=new THREE.Vector3;
this.Ib=new THREE.Vector2;this.Hb=new THREE.Vector2;this.Nb=this.xc=this.yc=0;this.nb=new THREE.Vector2;this.Ca=new THREE.Vector2;this.Mb=0;this.Ba=new THREE.Vector2;this.Sb=new THREE.Vector2;this.Gc=new THREE.Vector2;this.Fc=new THREE.Vector2;this.ia=!1;this.qb=void 0;this.sb=0;this.Hc=this.target.clone();this.Dc=this.object.position.clone();this.Kc=this.object.up.clone();a=this.Hc.clone().sub(this.Dc);b=a.clone().cross(this.Kc);this.object.up.crossVectors(b,a).normalize();this.Cc=this.object.left;
this.Ec=this.object.right;this.Jc=this.object.top;this.Ac=this.object.bottom;this.scale=1;this.Pb=new THREE.Vector3;this.pa=!1;this.pb={type:"change",zFitAllNeeded:!1};ii(this);this.update()}q(hi,Mh);
function ii(a){if(a.domElement===document)a.ea.left=0,a.ea.top=0,a.ea.width=window.innerWidth,a.ea.height=window.innerHeight;else{var b=a.domElement.getBoundingClientRect(),c=a.domElement.ownerDocument.documentElement;a.ea.left=b.left+window.pageXOffset-c.clientLeft;a.ea.top=b.top+window.pageYOffset-c.clientTop;a.ea.width=b.width;a.ea.height=b.height}a.radius=.5*Math.min(a.ea.width,a.ea.height);a.Cc=a.object.left;a.Ec=a.object.right;a.Jc=a.object.top;a.Ac=a.object.bottom}
function ji(a,b,c,d){a.fa.copy(a.ja);a.object.up.copy(a.wa);a.target.copy(a.na);Xh.copy(a.fa).normalize();Wh.copy(a.object.up).normalize();Vh.crossVectors(Wh,Xh);ai.setFromAxisAngle(Wh,-b);bi.setFromAxisAngle(Vh,c);$h.setFromAxisAngle(Xh,d);ai.multiply(bi);ai.multiply($h);a.object.up.applyQuaternion(ai);Yh.addVectors(a.target,a.fa).sub(a.ma);Zh.subVectors(a.target,a.ma);Yh.applyQuaternion(ai);Zh.applyQuaternion(ai);a.target.addVectors(a.ma,Zh);a.fa.subVectors(Yh.add(a.ma),a.target).setLength(a.ja.length());
a.pa=!0;a.ga=!0}function ki(a,b,c,d){a.ja.copy(a.fa);a.wa.copy(a.object.up);a.na.copy(a.target);ji(a,b,c,d);a.object.position.addVectors(a.target,a.fa);a.update()}g=hi.prototype;
g.update=function(){this.fa.subVectors(this.object.position,this.target);this.da!==this.aa.Ia&&this.da!==this.aa.Ic||ji(this,(this.qa.x-this.sa.x)*Math.PI*this.Rb/this.ea.width,(this.sa.y-this.qa.y)*Math.PI*this.Rb/this.ea.height,0);if(this.da===this.aa.Sa){if(this.da===this.aa.Tb){var a=this.xc/this.yc;this.yc=this.xc;Th(this.object,this.object.zoom*a);this.ga=this.pa=!0}else ci.subVectors(this.Hb,this.Ib),a=1+ci.length()*this.rb/100,a=0<ci.x-ci.y?a:1/a,1E-6<Math.abs(a-1)&&0<a&&(Th(this.object,this.object.zoom*
a),this.fa.multiplyScalar(a),this.pa=this.ga=!0),this.Ib.copy(this.Hb);this.ga&&(a=this.object,a.isPerspectiveCamera?Rh(a):Sh(a))}if(this.da===this.aa.Ra||this.da===this.aa.Tb){a=(this.Ca.x-this.nb.x)/this.ea.width;var b=(this.Ca.y-this.nb.y)/this.ea.height,c=new THREE.Vector3,d=new THREE.Vector3;0<a*a+b*b&&(a*=(this.object.right-this.object.left)/this.object.zoom*this.Qb,b*=(this.object.top-this.object.bottom)/this.object.zoom*this.Qb,this.target.copy(this.na),d.copy(this.fa).cross(this.object.up).setLength(a),
d.add(c.copy(this.object.up).setLength(b)),this.target.add(d),this.pa=this.ga=!0)}this.target.add(this.Pb);this.Pb.set(0,0,0);this.object.position.addVectors(this.target,this.fa);this.object.lookAt(this.target);this.object.updateMatrix();this.ga&&(this.pb.zFitAllNeeded=this.pa,this.pa=!1,this.dispatchEvent(this.pb),this.ga=!1)};
g.reset=function(){this.Lb=this.da=this.aa.NONE;this.target.copy(this.Hc);this.object.position.copy(this.Dc);this.object.up.copy(this.Kc);this.fa.subVectors(this.object.position,this.target);this.object.left=this.Cc;this.object.right=this.Ec;this.object.top=this.Jc;this.object.bottom=this.Ac;this.object.lookAt(this.target);this.dispatchEvent(this.pb);this.ga=!1;this.ud.copy(this.object.position)};
function li(a,b){a.ia&&(a.Gc.set(b.points[0].x,b.points[0].y),a.Fc.subVectors(a.Gc,a.Sb),a.ia=64>a.Fc.lengthSq(),1<b.points.length&&(a.ia=!1),a.da===a.aa.NONE&&a.dispatchEvent(b))}function mi(a,b){a=180*(Math.atan2(b.y,b.x)-Math.atan2(a.y,a.x))/Math.PI;a=0>a?a+360:a;return a<2*Math.PI+.001&&a>2*Math.PI-.001?0:a}g.Wc=function(a){a.type="hoverChanged";this.sb=(new Date).getTime();this.dispatchEvent(a);return!0};
g.Xc=function(a){var b=(new Date).getTime();100<b-this.sb&&(a.type="hoverChanged",this.sb=b,this.dispatchEvent(a))};g.Vc=function(a){a.type="hoverChanged";this.sb=0;this.dispatchEvent(a)};
g.Bb=function(a){this.da===this.aa.NONE&&(this.da=a.button,this.da===this.aa.Ia&&a.ctrlKey&&(this.da=this.aa.Ra),this.da===this.aa.Ia&&a.shiftKey&&(this.da=this.aa.Sa));this.da===this.aa.Ia?(this.sa.set(a.points[0].x,a.points[0].y),this.qa.copy(this.sa),this.ja.copy(this.fa),this.wa.copy(this.object.up),this.na.copy(this.target)):this.da===this.aa.Sa?(this.Ib.set(a.points[0].x,a.points[0].y),this.ja.copy(this.fa),this.Hb.copy(this.Ib)):this.da===this.aa.Ra&&(this.nb.set(a.points[0].x,a.points[0].y),
this.Ca.copy(this.nb),this.ja.copy(this.fa),this.na.copy(this.target));this.Sb.set(a.points[0].x,a.points[0].y);return this.ia=!0};g.Cb=function(a){this.da===this.aa.Ia?this.qa.set(a.points[0].x,a.points[0].y):this.da===this.aa.Sa?this.Hb.set(a.points[0].x,a.points[0].y):this.da===this.aa.Ra&&this.Ca.set(a.points[0].x,a.points[0].y);li(this,a);this.update()};
g.$b=function(a){!0===this.ia&&1===a.button&&(a.type="tap",this.dispatchEvent(a));!0===this.ia&&2===a.button&&(a.type="contextMenu",this.dispatchEvent(a));this.da=this.aa.NONE;this.ia=!1};g.cd=function(a){a.preventDefault();var b=Math.pow(.95,this.rb);b=0<a.deltaY?b:1/b;Th(this.object,this.object.zoom*b);this.fa.multiplyScalar(1/b);this.object.position.addVectors(this.target,this.fa);this.pa=this.ga=!0;this.update()};
g.ld=function(a){this.qb=a;switch(a.points.length){case 1:this.da=this.aa.Ic;this.sa.set(a.points[0].x,a.points[0].y);this.qa.copy(this.sa);this.ja.copy(this.fa);this.wa.copy(this.object.up);this.na.copy(this.target);break;case 2:var b=new THREE.Vector2(a.points[0].x-a.points[1].x,a.points[0].y-a.points[1].y);this.Nb=Math.sqrt(b.x*b.x+b.y*b.y);this.da=this.aa.Tb;b=new THREE.Vector2(b.x,b.y);var c=new THREE.Vector2(1,0);b=mi(b,c);180<b&&(b-=360);this.Ba.x=(a.points[0].x+a.points[1].x)/2;this.Ba.y=
(a.points[0].y+a.points[1].y)/2;this.Mb=b;break;default:this.da=this.aa.NONE}this.Sb.set(a.points[0].x,a.points[0].y);return this.ia=!0};
g.md=function(a){li(this,a);this.qb=a;switch(a.points.length){case 1:this.qa.set(a.points[0].x,a.points[0].y);break;case 2:var b=new THREE.Vector2(a.points[0].x-a.points[1].x,a.points[0].y-a.points[1].y),c=Math.sqrt(b.x*b.x+b.y*b.y);a=new THREE.Vector2((a.points[0].x+a.points[1].x)/2,(a.points[0].y+a.points[1].y)/2);var d=c-this.Nb;if(1>Math.abs(d))this.nb.set(this.Ba.x,this.Ba.y),this.Ca.copy(a);else if(1<d){d=Math.pow(.95,2*this.rb);var e=this.object;this.scale*=d;Th(e,Math.max(0,Math.min(Infinity,
e.zoom/d)))}else-1>d&&(d=Math.pow(.95,2*this.rb),e=this.object,this.scale/=d,Th(e,Math.max(0,Math.min(Infinity,e.zoom*d))));this.Nb=c;b=mi(b,new THREE.Vector2(1,0));180<b&&(b-=360);c=b-this.Mb;this.Mb=b;this.ga=!0;ki(this,0,0,-((180<c?c-360:c+360)*Math.PI/180));this.Ba.copy(a);break;default:this.da=this.aa.NONE}this.update()};g.dc=function(a){!0===this.ia&&(a.type="tap",a.points=this.qb.points,a.normalizedPoints=this.qb.normalizedPoints,this.qb=void 0,this.dispatchEvent(a));this.da=this.aa.NONE};
g.$c=function(a){this.Lb=this.da;this.da===this.aa.NONE&&(a.keyCode===this.keys[this.aa.Ia]?this.da=this.aa.Ia:a.keyCode===this.keys[this.aa.Sa]?this.da=this.aa.Sa:a.keyCode===this.keys[this.aa.Ra]&&(this.da=this.aa.Ra),this.dispatchEvent({type:"keyDown",keyCode:a.keyCode}))};g.ad=function(){this.da=this.Lb};
y.Object.defineProperties(hi.prototype,{Jb:{configurable:!0,enumerable:!0,get:function(){return!0}},ua:{configurable:!0,enumerable:!0,get:function(){return 7}},zc:{configurable:!0,enumerable:!0,get:function(){return!0}},Kb:{configurable:!0,enumerable:!0,get:function(){return!0}},Ob:{configurable:!0,enumerable:!0,get:function(){return!0}}});
function ni(a){a=THREE.MeshBasicMaterial.call(this,a)||this;var b=new Image;b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QwbDxkMys79FgAADmlJREFUeNrt3LFtBEAMA0He99/zOzVgV6AdRQImYwH7tn23vf2976+fc84554f8PzAO55xzftyNwznnnAf9GYdzzjnv+TMO55xz3vNnHM4557znzzicc855zz/G4Zxzznv+MQ7nnHPecx0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPO+XQAjMc555xfdB0AzjnnPOjG4ZxzzoOuA8A555zrABiHc845L7gOAOeccx50HQDOOedcB8A4nHPOecF/ADKPCr+38RZlAAAAAElFTkSuQmCC";var c=
new THREE.Texture;c.image=b;b.onload=function(){c.needsUpdate=!0};c.repeat.set(1,1);c.wrapS=THREE.RepeatWrapping;c.wrapT=THREE.RepeatWrapping;a.map=c;a.blending=THREE.MultiplyBlending;a.alphaTest=.5;return a}q(ni,THREE.MeshBasicMaterial);function oi(a,b){Mh.call(this);this.da=b;this.ea=[];this.aa=void 0;this.ja=this.ia=0;this.fa=a;new THREE.Vector2;new THREE.Vector2;this.ma=new THREE.Vector3;this.ga=new THREE.Raycaster;this.ga.aa=.5;this.ga.params.Points.threshold=1}q(oi,Mh);
function pi(a,b){a.ea.forEach(function(c,d){c===b&&a.ea.splice(d,1)})}oi.prototype.Bb=function(a){var b=this;if(!this.ea.length)return!1;var c=this.da.ea;this.da.ea=Lf.Shape;a.camera=this.fa;Dh(this.da,a);this.da.ea=c;var d=this.da.fa.ka;return d?this.ea.some(function(e){return d===e.da?(b.aa=e,b.aa.da.select(),b.ia=a.points[0].x,b.ja=a.points[0].y,b.ma.copy(e.plane.location),b.da.dispatchEvent({type:"redraw"}),!0):!1}):!1};
oi.prototype.Cb=function(a){if(this.aa){var b=a.points[0].x-this.ia;a=this.ja-a.points[0].y;b/=1*this.fa.zoom;a/=1*this.fa.zoom;b=new THREE.Vector3(b,a,0);b.applyMatrix4(this.fa.matrixWorld);b.sub(this.fa.position);b=b.projectOnVector(this.aa.normal);this.aa.plane.location.copy(this.ma).add(b);this.da.dispatchEvent({type:"clipPlanePositionChanged",plane:this.aa.planeId,position:this.aa.plane.location})}};oi.prototype.$b=function(){this.aa&&(this.aa.da.oa(),this.aa=void 0,this.da.dispatchEvent({type:"redraw"}))};
y.Object.defineProperties(oi.prototype,{ua:{configurable:!0,enumerable:!0,get:function(){return 1}}});
function qi(a){a=THREE.ShaderMaterial.call(this,a)||this;a.colorWrite=!1;a.depthWrite=!1;a.clipping=!0;a.vertexShader=THREE.ShaderChunk.clipping_planes_pars_vertex+"\nvoid main() {\n"+THREE.ShaderChunk.begin_vertex+"\n"+THREE.ShaderChunk.project_vertex+"\n"+THREE.ShaderChunk.clipping_planes_vertex+"\n}";a.fragmentShader=THREE.ShaderChunk.clipping_planes_pars_fragment+"\nvoid main() {\n"+THREE.ShaderChunk.clipping_planes_fragment+"\ngl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";return a}q(qi,THREE.ShaderMaterial);
var ri=new THREE.Font({glyphs:{B:{ha:946,x_min:122,x_max:863,o:"m 683 508 q 815 423 768 485 q 863 269 863 361 q 776 70 863 140 q 533 0 690 0 l 122 0 l 122 989 l 519 989 q 755 922 671 989 q 839 731 839 854 q 798 594 839 651 q 683 508 757 536 m 235 550 l 501 550 q 669 594 613 550 q 726 725 726 639 q 501 894 726 894 l 235 894 l 235 550 m 524 94 q 695 138 640 94 q 750 272 750 182 q 524 454 750 454 l 235 454 l 235 94 l 524 94 z "},F:{ha:782,x_min:122,x_max:733,o:"m 122 0 l 122 989 l 733 989 l 733 893 l 235 893 l 235 550 l 706 550 l 706 454 l 235 454 l 235 0 l 122 0 z "},
L:{ha:757,x_min:122,x_max:732,o:"m 122 0 l 122 989 l 236 989 l 236 97 l 732 97 l 732 0 l 122 0 z "},R:{ha:963,x_min:122,x_max:899,o:"m 899 0 l 778 0 l 656 329 q 594 411 633 390 q 482 432 554 432 l 235 432 l 235 0 l 122 0 l 122 989 l 515 989 q 760 918 675 989 q 846 714 846 847 q 795 551 846 617 q 649 457 744 485 q 722 420 692 450 q 774 335 753 390 l 899 0 m 506 526 q 733 713 733 526 q 678 849 733 804 q 506 894 622 894 l 235 894 l 235 526 l 506 526 z "},T:{ha:838,x_min:17,x_max:821,o:"m 361 0 l 361 892 l 17 892 l 17 989 l 821 989 l 821 892 l 476 892 l 476 0 l 361 0 z "},
a:{ha:833,x_min:67,x_max:724,o:"m 724 699 l 724 0 l 613 0 l 613 126 q 520 26 582 61 q 376 -10 458 -10 q 213 35 283 -10 q 105 160 143 79 q 67 350 67 242 q 106 541 67 458 q 215 669 144 624 q 376 715 285 715 q 519 679 458 715 q 613 578 581 643 l 613 699 l 724 699 m 399 83 q 557 153 501 83 q 613 353 613 224 q 557 551 613 482 q 399 621 501 621 q 238 549 296 621 q 181 350 181 478 q 238 153 181 222 q 399 83 294 83 z "},c:{ha:688,x_min:67,x_max:653,o:"m 401 -10 q 224 35 300 -10 q 108 160 149 79 q 67 350 67 242 q 108 541 67 458 q 227 669 150 624 q 407 715 304 715 q 544 691 478 715 q 653 624 610 667 l 615 540 q 513 601 563 582 q 413 621 464 621 q 244 549 306 621 q 183 350 183 478 q 244 153 183 224 q 413 83 304 83 q 513 103 464 83 q 615 164 563 122 l 653 81 q 541 15 608 39 q 401 -10 474 -10 z "},
e:{ha:756,x_min:67,x_max:693,o:"m 693 353 l 181 353 q 242 151 182 219 q 418 83 303 83 q 643 165 540 83 l 681 83 q 563 15 635 40 q 417 -10 492 -10 q 160 87 253 -10 q 67 351 67 183 q 108 541 67 458 q 225 669 150 624 q 396 715 300 715 q 614 624 535 715 q 693 374 693 533 l 693 353 m 397 628 q 255 575 310 628 q 185 426 200 522 l 592 426 q 534 576 583 525 q 397 628 485 628 z "},f:{ha:468,x_min:10,x_max:449,o:"m 376 931 q 290 899 321 931 q 258 792 258 868 l 258 699 l 429 699 l 429 610 l 258 610 l 258 0 l 146 0 l 146 610 l 10 610 l 10 699 l 146 699 l 146 806 q 201 972 146 915 q 354 1028 256 1028 q 449 1015 403 1028 l 449 919 q 376 931 410 931 z "},
g:{ha:839,x_min:67,x_max:731,o:"m 731 699 l 731 6 q 651 -230 731 -150 q 415 -310 571 -310 q 140 -237 256 -310 l 160 -146 q 285 -200 226 -183 q 415 -217 344 -217 q 568 -163 517 -217 q 619 -4 619 -110 l 619 161 q 526 58 588 94 q 379 21 464 21 q 216 64 288 21 q 106 186 144 107 q 67 368 67 265 q 106 550 67 471 q 216 672 144 629 q 379 715 288 715 q 524 679 463 715 q 618 578 586 643 l 618 699 l 731 699 m 401 115 q 560 183 503 115 q 618 368 618 250 q 560 553 618 486 q 401 621 503 621 q 240 553 299 621 q 181 368 181 486 q 240 183 181 250 q 401 115 299 115 z "},
h:{ha:813,x_min:108,x_max:708,o:"m 457 715 q 708 439 708 715 l 708 0 l 596 0 l 596 433 q 557 576 596 531 q 435 621 518 621 q 279 561 338 621 q 221 400 221 501 l 221 0 l 108 0 l 108 1022 l 221 1022 l 221 585 q 316 682 254 649 q 457 715 378 715 z "},i:{ha:331,x_min:97,x_max:235,o:"m 108 0 l 108 699 l 221 699 l 221 0 l 108 0 m 97 994 l 235 994 l 235 867 l 97 867 l 97 994 z "},k:{ha:715,x_min:108,x_max:726,o:"m 726 0 l 579 0 l 221 336 l 221 0 l 108 0 l 108 1022 l 221 1022 l 221 378 l 550 697 l 693 697 l 343 363 l 726 0 z "},
m:{ha:1221,x_min:97,x_max:1115,o:"m 883 715 q 1115 439 1115 715 l 1115 0 l 1003 0 l 1003 433 q 969 576 1003 532 q 858 621 935 621 q 719 561 769 621 q 669 399 669 501 l 669 0 l 557 0 l 557 433 q 522 576 557 531 q 411 621 488 621 q 272 561 322 621 q 221 399 221 501 l 221 0 l 108 0 l 108 503 q 97 699 108 611 l 204 699 l 215 576 q 302 679 244 643 q 436 715 360 715 q 572 682 519 715 q 650 579 625 649 q 744 678 682 642 q 883 715 806 715 z "},n:{ha:813,x_min:97,x_max:708,o:"m 457 715 q 708 439 708 715 l 708 0 l 596 0 l 596 433 q 557 576 596 531 q 435 621 518 621 q 279 561 338 621 q 221 400 221 501 l 221 0 l 108 0 l 108 503 q 97 699 108 611 l 204 699 l 215 574 q 311 678 247 642 q 457 715 375 715 z "},
o:{ha:794,x_min:67,x_max:728,o:"m 397 -10 q 224 35 299 -10 q 108 161 149 79 q 67 353 67 243 q 108 544 67 463 q 224 671 149 626 q 397 715 299 715 q 571 671 496 715 q 687 544 646 626 q 728 353 728 463 q 687 161 728 243 q 571 35 646 79 q 397 -10 496 -10 m 397 83 q 557 152 501 83 q 613 353 613 221 q 556 551 613 481 q 397 621 499 621 q 238 551 294 621 q 181 353 181 481 q 237 152 181 221 q 397 83 293 83 z "},p:{ha:833,x_min:97,x_max:768,o:"m 457 715 q 619 669 549 715 q 729 541 690 624 q 768 350 768 458 q 729 160 768 242 q 620 35 690 79 q 457 -10 550 -10 q 314 26 375 -10 q 221 129 253 63 l 221 -300 l 108 -300 l 108 503 q 97 699 108 611 l 204 699 l 215 564 q 308 676 244 636 q 457 715 371 715 m 436 83 q 595 153 539 83 q 651 350 651 222 q 594 549 651 478 q 436 621 538 621 q 276 551 332 621 q 221 353 221 482 q 276 153 221 224 q 436 83 332 83 z "},
r:{ha:503,x_min:97,x_max:497,o:"m 433 715 q 497 707 468 715 l 494 604 q 421 615 463 615 q 270 552 319 615 q 221 399 221 489 l 221 0 l 108 0 l 108 503 q 97 699 108 611 l 204 699 l 215 569 q 300 678 242 640 q 433 715 358 715 z "},t:{ha:486,x_min:10,x_max:458,o:"m 258 610 l 258 228 q 290 119 258 150 q 381 88 322 88 q 456 100 419 88 l 456 4 q 358 -10 413 -10 q 202 47 258 -10 q 146 213 146 103 l 146 610 l 10 610 l 10 699 l 146 699 l 146 878 l 258 918 l 258 699 l 458 699 l 458 610 l 258 610 z "}},familyName:"Muli",
ascender:1396,descender:-347,underlinePosition:-104,underlineThickness:69,boundingBox:{yMin:-379,xMin:-457,yMax:1511,xMax:1790},resolution:1E3,original_font_information:{format:0,copyright:"Copyright 2016 The Muli Project Authors (contact@sansoxygen.com)",fontFamily:"Muli",fontSubfamily:"Regular",uniqueID:"2.000;UKWN;Muli-Regular",fullName:"Muli Regular",version:"Version 2.000",postScriptName:"Muli-Regular",licenceURL:"http://scripts.sil.org/OFL"},cssFontWeight:"normal",cssFontStyle:"normal"});
function si(){var a=THREE.Group.call(this)||this;a.aa=new THREE.MeshPhongMaterial({color:15790320,specular:263172,side:THREE.DoubleSide});a.da=new THREE.MeshPhongMaterial({color:11061474,specular:263172});for(var b=new THREE.MeshPhongMaterial({color:0}),c={font:ri,size:.125,height:0},d=0;26>d;d++){var e=[],f=[],h=[],k=0,l=0,n=new THREE.Vector3(0,0,1),m=void 0;switch(d){case 0:e=[-.26451,-.222353,.4,-.24636,-.24636,.4,-.222353,-.26451,.4,-.193297,-.275993,.4,-.275993,-.193297,.4,-.28,-.16,.4,-.16,
-.28,.4,.26451,-.222353,.4,.222353,-.26451,.4,.24636,-.24636,.4,-.222353,.26451,.4,-.26451,.222353,.4,-.275993,.193297,.4,-.24636,.24636,.4,.275993,-.193297,.4,.193297,-.275993,.4,-.193297,.275993,.4,.28,-.16,.4,.16,-.28,.4,-.16,.28,.4,-.28,.16,.4,.193297,.275993,.4,.28,.16,.4,.275993,.193297,.4,.16,.28,.4,.26451,.222353,.4,.222353,.26451,.4,.24636,.24636,.4,0,0,.4];f=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,
1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1];h=[0,1,2,3,4,0,3,0,2,5,4,3,6,5,3,7,8,9,10,11,12,10,13,11,14,15,8,14,8,7,16,10,12,17,18,15,17,15,14,19,12,20,19,16,12,21,22,23,21,24,22,25,21,23,26,21,25,27,26,25,28,24,19,28,20,5,28,6,18,28,17,22,28,5,6,28,18,17,28,19,20,28,22,24];k=Math.PI/2;l=0;n.set(0,1,0);m="Top";break;case 1:e=[-.4,-.26451,-.222353,-.4,-.222353,-.26451,-.4,-.24636,-.24636,-.4,-.193297,-.275993,-.4,-.275993,-.193297,-.4,-.28,-.16,-.4,-.16,-.28,-.4,-.222353,.26451,-.4,-.26451,.222353,
-.4,-.24636,.24636,-.4,-.275993,.193297,-.4,.26451,-.222353,-.4,.222353,-.26451,-.4,.193297,-.275993,-.4,.24636,-.24636,-.4,-.193297,.275993,-.4,-.28,.16,-.4,.275993,-.193297,-.4,-.16,.28,-.4,.28,-.16,-.4,.16,-.28,-.4,.275992,.193245,-.4,.16,.28,-.4,.193076,.27606,-.4,.28,.16,-.4,.264544,.222319,-.4,.222489,.264476,-.4,.24636,.24636,-.4,0,0];f=[-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,
-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0];h=[0,1,2,3,1,0,4,3,0,5,6,3,5,3,4,7,8,9,7,10,8,11,12,13,11,14,12,15,16,10,15,10,7,17,11,13,18,16,15,19,13,20,19,17,13,21,22,23,21,24,22,25,21,23,26,25,23,27,25,26,28,5,16,28,18,22,28,24,19,28,20,6,28,6,5,28,19,20,28,16,18,28,22,24];k=Math.PI/2;l=-Math.PI/2;m="Left";break;case 2:e=[-.222353,-.4,-.26451,-.26451,-.4,-.222353,-.24636,-.4,-.24636,-.275993,-.4,-.193297,-.193297,-.4,-.275993,-.28,-.4,-.16,-.16,-.4,-.28,-.222353,-.4,.26451,-.26451,-.4,.222353,
-.275993,-.4,.193297,-.24636,-.4,.24636,.26451,-.4,-.222353,.222353,-.4,-.26451,.24636,-.4,-.24636,.193297,-.4,-.275993,-.193297,-.4,.275993,-.28,-.4,.16,.275993,-.4,-.193297,-.16,-.4,.28,.28,-.4,-.16,.16,-.4,-.28,.193297,-.4,.275993,.16,-.4,.28,.28,-.4,.16,.275993,-.4,.193297,.222353,-.4,.26451,.26451,-.4,.222353,.24636,-.4,.24636,0,-.4,0];f=[0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,
-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0];h=[0,1,2,3,0,4,3,1,0,5,3,4,6,5,4,7,8,9,7,10,8,11,12,13,11,14,12,15,9,16,15,7,9,17,14,11,18,15,16,19,20,14,19,14,17,21,22,23,24,21,23,25,21,24,26,25,24,27,25,26,28,19,23,28,22,18,28,16,5,28,6,20,28,5,6,28,20,19,28,18,16,28,23,22];k=Math.PI;l=0;m="Front";break;case 3:e=[.4,.26451,-.222353,.4,.222353,-.26451,.4,.24636,-.24636,.4,.193297,-.275993,.4,.275993,-.193297,.4,.28,-.16,.4,.16,-.28,.4,-.264476,-.222489,.4,-.24636,-.24636,.4,-.222319,-.264544,.4,
.222353,.26451,.4,.26451,.222353,.4,.24636,.24636,.4,.275993,.193297,.4,.193297,.275993,.4,.28,.16,.4,-.27606,-.193076,.4,-.193245,-.275992,.4,-.28,-.16,.4,-.16,-.28,.4,.16,.28,.4,-.193297,.275993,.4,-.28,.16,.4,-.16,.28,.4,-.275993,.193297,.4,-.26451,.222353,.4,-.222353,.26451,.4,-.24636,.24636,.4,0,0];f=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0];h=[0,1,2,3,0,4,3,1,
0,5,3,4,6,3,5,7,8,9,10,11,12,10,13,11,14,15,13,14,13,10,16,9,17,16,7,9,18,17,19,18,16,17,20,15,14,21,22,23,24,22,21,25,21,26,25,24,21,27,25,26,28,5,15,28,20,23,28,22,18,28,19,6,28,6,5,28,18,19,28,15,20,28,23,22];k=Math.PI/2;l=Math.PI/2;m="Right";break;case 4:e=[-.26451,-.222353,-.4,-.222353,-.26451,-.4,-.24636,-.24636,-.4,-.193297,-.275993,-.4,-.275993,-.193297,-.4,-.16,-.28,-.4,-.28,-.16,-.4,.26451,-.222353,-.4,.24636,-.24636,-.4,.222353,-.26451,-.4,-.222353,.26451,-.4,-.26451,.222353,-.4,-.24636,
.24636,-.4,.275993,-.193297,-.4,.193297,-.275993,-.4,-.193297,.275993,-.4,-.275993,.193297,-.4,-.28,.16,-.4,-.16,.28,-.4,.28,-.16,-.4,.16,-.28,-.4,.275993,.193297,-.4,.28,.16,-.4,.16,.28,-.4,.193297,.275993,-.4,.26451,.222353,-.4,.222353,.26451,-.4,.24636,.24636,-.4,0,0,-.4];f=[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1];h=[0,1,2,3,1,0,4,3,
0,5,4,6,5,3,4,7,8,9,10,11,12,13,9,14,13,7,9,15,16,11,15,17,16,15,11,10,18,17,15,19,14,20,19,13,14,21,22,23,24,21,23,25,21,24,26,25,24,27,25,26,28,22,19,28,20,5,28,6,17,28,18,23,28,5,6,28,19,20,28,17,18,28,23,22];k=Math.PI/2;l=Math.PI;n.set(0,-1,0);m="Bottom";break;case 5:e=[-.222353,.4,.26451,-.26451,.4,.222353,-.24636,.4,.24636,-.275993,.4,.193297,-.193297,.4,.275993,-.28,.4,.16,-.16,.4,.28,-.222489,.4,-.264476,-.24636,.4,-.24636,-.264544,.4,-.222319,.26451,.4,.222353,.222353,.4,.26451,.24636,.4,
.24636,.275993,.4,.193297,.193297,.4,.275993,-.193076,.4,-.27606,-.275992,.4,-.193245,-.16,.4,-.28,-.28,.4,-.16,.28,.4,.16,.16,.4,.28,.193245,.4,-.275992,.28,.4,-.16,.27606,.4,-.193076,.16,.4,-.28,.222319,.4,-.264544,.264476,.4,-.222489,.24636,.4,-.24636,0,.4,0];f=[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0];h=[0,1,2,3,1,0,4,3,0,5,4,6,5,3,4,7,8,9,10,11,12,13,14,11,13,
11,10,15,9,16,15,7,9,17,16,18,17,15,16,19,20,14,19,14,13,21,22,23,21,24,22,25,21,23,26,25,23,27,25,26,28,18,5,28,6,20,28,19,22,28,24,17,28,20,19,28,5,6,28,17,18,28,22,24];l=k=0;m="Back";break;case 6:e=[-.26451,.222353,-.4,-.283343,.283343,-.392081,-.24636,.24636,-.4,-.28,.16,-.4,-.311058,.16,-.395911,-.275993,.193297,-.4,-.330985,.280271,-.376057,-.337662,.337662,-.337662,-.3141,.3141,-.371635,-.358876,.264074,-.358876,-.335827,.255708,-.378852,-.299434,.254229,-.393488,-.338497,.226524,-.381185,
-.34,.16,-.383923,-.364853,.16,-.364853,-.304314,.233819,-.394551,-.307505,.210496,-.395384,-.4,.16,-.28,-.4,.193297,-.275993,-.395911,.16,-.311058,-.376057,.280271,-.330985,-.337662,.337662,-.337662,-.358876,.264074,-.358876,-.371635,.3141,-.3141,-.378852,.255708,-.335827,-.393488,.254229,-.299434,-.4,.222353,-.26451,-.4,.24636,-.24636,-.392081,.283343,-.283343,-.381185,.226524,-.338497,-.364853,.16,-.364853,-.383923,.16,-.34,-.394551,.233819,-.304314,-.395384,.210496,-.307505,-.4,.26451,-.222353,
-.392081,.283343,-.283343,-.4,.24636,-.24636,-.376057,.330985,-.280271,-.337662,.337662,-.337662,-.371635,.3141,-.3141,-.358876,.358876,-.264074,-.378852,.335827,-.255708,-.393488,.299434,-.254229,-.381185,.338497,-.226524,-.383923,.34,-.16,-.364853,.364853,-.16,-.394551,.304314,-.233819,-.4,.275993,-.193297,-.395384,.307505,-.210496,-.4,.28,-.16,-.395911,.311058,-.16,-.28,.4,-.16,-.275992,.4,-.193245,-.311058,.395911,-.16,-.330985,.376057,-.280271,-.337662,.337662,-.337662,-.358876,.358876,-.264074,
-.283343,.392081,-.283343,-.3141,.371635,-.3141,-.335827,.378852,-.255708,-.299434,.393488,-.254229,-.264544,.4,-.222319,-.24636,.4,-.24636,-.338497,.381185,-.226524,-.364853,.364853,-.16,-.34,.383923,-.16,-.304314,.394551,-.233819,-.307505,.395384,-.210496,-.222489,.4,-.264476,-.283343,.392081,-.283343,-.24636,.4,-.24636,-.16,.4,-.28,-.16,.395824,-.311025,-.193076,.4,-.27606,-.280271,.376057,-.330985,-.337662,.337662,-.337662,-.3141,.371635,-.3141,-.264074,.358876,-.358876,-.255708,.378852,-.335827,
-.254229,.393488,-.299434,-.226524,.381185,-.338497,-.16,.383838,-.339962,-.16,.364853,-.364853,-.233819,.394551,-.304314,-.210496,.395384,-.307505,-.222353,.26451,-.4,-.24636,.24636,-.4,-.283343,.283343,-.392081,-.16,.28,-.4,-.193297,.275993,-.4,-.16,.311025,-.395824,-.280271,.330985,-.376057,-.3141,.3141,-.371635,-.337662,.337662,-.337662,-.264074,.358876,-.358876,-.255708,.335827,-.378852,-.254229,.299434,-.393488,-.226524,.338497,-.381185,-.16,.364853,-.364853,-.16,.339962,-.383838,-.233819,.304314,
-.394551,-.210496,.307505,-.395384];f=[0,0,-1,-.210073,.210068,-.954851,0,0,-1,0,0,-1,-.258813,0,-.965927,0,0,-1,-.480581,.249526,-.840701,-.57735,.57735,-.57735,-.408972,.408994,-.815761,-.697388,.165224,-.697388,-.51476,.138482,-.846076,-.239817,.13362,-.961579,-.511764,.093005,-.854077,-.49996,1E-4,-.866049,-.707107,0,-.707107,-.25339,.083832,-.963725,-.254153,.05548,-.965572,-1,0,0,-1,0,0,-.965927,0,-.258813,-.840701,.249526,-.480581,-.57735,.57735,-.57735,-.697388,.165224,-.697388,-.815761,.408994,
-.408972,-.846076,.138482,-.51476,-.961579,.13362,-.239817,-1,0,0,-1,0,0,-.954851,.210068,-.210073,-.854077,.093005,-.511764,-.707107,0,-.707107,-.866049,1E-4,-.49996,-.963725,.083832,-.25339,-.965572,.05548,-.254153,-1,0,0,-.954851,.210073,-.210068,-1,0,0,-.840701,.480581,-.249526,-.57735,.57735,-.57735,-.815761,.408972,-.408994,-.697388,.697388,-.165224,-.846076,.51476,-.138482,-.961579,.239817,-.13362,-.854077,.511764,-.093005,-.866049,.49996,-1E-4,-.707107,.707107,0,-.963725,.25339,-.083832,-1,
0,0,-.965572,.254153,-.05548,-1,0,0,-.965927,.258813,0,0,1,0,0,1,0,-.258813,.965927,0,-.480581,.840701,-.249526,-.57735,.57735,-.57735,-.697388,.697388,-.165224,-.210073,.954851,-.210068,-.408972,.815761,-.408994,-.51476,.846076,-.138482,-.239817,.961579,-.13362,0,1,0,0,1,0,-.511764,.854077,-.093005,-.707107,.707107,0,-.49996,.866049,-1E-4,-.25339,.963725,-.083832,-.254153,.965572,-.05548,0,1,0,-.210068,.954851,-.210073,0,1,0,0,1,0,0,.965927,-.258813,0,1,0,-.249526,.840701,-.480581,-.57735,.57735,
-.57735,-.408994,.815761,-.408972,-.165224,.697388,-.697388,-.138482,.846076,-.51476,-.13362,.961579,-.239817,-.093005,.854077,-.511764,-1E-4,.866049,-.49996,0,.707107,-.707107,-.083832,.963725,-.25339,-.05548,.965572,-.254153,0,0,-1,0,0,-1,-.210068,.210073,-.954851,0,0,-1,0,0,-1,0,.258813,-.965927,-.249526,.480581,-.840701,-.408994,.408972,-.815761,-.57735,.57735,-.57735,-.165224,.697388,-.697388,-.138482,.51476,-.846076,-.13362,.239817,-.961579,-.093005,.511764,-.854077,0,.707107,-.707107,-1E-4,
.49996,-.866049,-.083832,.25339,-.963725,-.05548,.254153,-.965572];h=[0,1,2,3,4,5,6,7,8,6,9,7,10,9,6,11,8,1,11,6,8,11,1,0,11,10,6,12,13,14,12,14,9,12,9,10,15,0,5,15,11,0,15,12,10,15,10,11,16,4,13,16,12,15,16,15,5,16,13,12,16,5,4,17,18,19,20,21,22,20,23,21,24,20,22,25,26,27,25,27,28,25,28,23,25,23,20,25,20,24,29,22,30,29,30,31,29,24,22,32,18,26,32,25,24,32,26,25,33,31,19,33,32,24,33,24,29,33,18,32,33,29,31,33,19,18,34,35,36,37,38,39,37,40,38,41,40,37,42,39,35,42,37,39,42,35,34,43,44,45,43,45,40,43,
40,41,46,34,47,46,42,34,46,41,37,46,37,42,48,47,49,48,49,50,48,50,44,48,46,47,48,44,43,48,43,41,48,41,46,51,52,53,54,55,56,54,57,58,54,58,55,59,54,56,60,61,62,60,62,57,60,57,54,60,54,59,63,56,64,63,64,65,63,59,56,66,52,61,66,60,59,66,61,60,67,65,53,67,66,59,67,52,66,67,59,63,67,63,65,67,53,52,68,69,70,71,72,73,74,75,76,74,77,75,78,77,74,79,76,69,79,74,76,79,69,68,80,81,82,80,82,77,80,77,78,83,68,73,83,78,74,83,80,78,83,74,79,83,79,68,84,72,81,84,80,83,84,83,73,84,81,80,84,73,72,85,86,87,88,89,90,
91,92,93,91,93,94,95,91,94,96,87,92,96,92,91,96,91,95,96,85,87,97,94,98,97,98,99,97,95,94,100,89,85,100,96,95,100,95,97,100,85,96,101,99,90,101,100,97,101,97,99,101,89,100,101,90,89];k=Math.PI/4;l=5*Math.PI/4;break;case 7:e=[.28,.4,-.16,.311058,.395911,-.16,.27606,.4,-.193076,.330985,.376057,-.280271,.337662,.337662,-.337662,.3141,.371635,-.3141,.358876,.358876,-.264074,.335827,.378852,-.255708,.299434,.393488,-.254229,.283343,.392081,-.283343,.24636,.4,-.24636,.264476,.4,-.222489,.338497,.381185,
-.226524,.34,.383923,-.16,.364853,.364853,-.16,.304314,.394551,-.233819,.307505,.395384,-.210496,.4,.28,-.16,.4,.275993,-.193297,.395911,.311058,-.16,.376057,.330985,-.280271,.337662,.337662,-.337662,.358876,.358876,-.264074,.371635,.3141,-.3141,.378852,.335827,-.255708,.393488,.299434,-.254229,.4,.26451,-.222353,.4,.24636,-.24636,.392081,.283343,-.283343,.381185,.338497,-.226524,.364853,.364853,-.16,.383923,.34,-.16,.394551,.304314,-.233819,.395384,.307505,-.210496,.4,.16,-.28,.395911,.16,-.311058,
.4,.193297,-.275993,.376057,.280271,-.330985,.337662,.337662,-.337662,.371635,.3141,-.3141,.358876,.264074,-.358876,.378852,.255708,-.335827,.393488,.254229,-.299434,.392081,.283343,-.283343,.4,.24636,-.24636,.4,.222353,-.26451,.381185,.226524,-.338497,.383923,.16,-.34,.364853,.16,-.364853,.394551,.233819,-.304314,.395384,.210496,-.307505,.26451,.222353,-.4,.24636,.24636,-.4,.283343,.283343,-.392081,.28,.16,-.4,.275993,.193297,-.4,.311058,.16,-.395911,.330985,.280271,-.376057,.337662,.337662,-.337662,
.358876,.264074,-.358876,.3141,.3141,-.371635,.335827,.255708,-.378852,.299434,.254229,-.393488,.338497,.226524,-.381185,.364853,.16,-.364853,.34,.16,-.383923,.304314,.233819,-.394551,.307505,.210496,-.395384,.16,.28,-.4,.16,.311025,-.395824,.193297,.275993,-.4,.280271,.330985,-.376057,.3141,.3141,-.371635,.283343,.283343,-.392081,.337662,.337662,-.337662,.264074,.358876,-.358876,.255708,.335827,-.378852,.254229,.299434,-.393488,.24636,.24636,-.4,.222353,.26451,-.4,.226524,.338497,-.381185,.16,.339962,
-.383838,.16,.364853,-.364853,.233819,.304314,-.394551,.210496,.307505,-.395384,.222319,.4,-.264544,.24636,.4,-.24636,.283343,.392081,-.283343,.16,.4,-.28,.193245,.4,-.275992,.16,.395824,-.311025,.280271,.376057,-.330985,.3141,.371635,-.3141,.337662,.337662,-.337662,.264074,.358876,-.358876,.255708,.378852,-.335827,.254229,.393488,-.299434,.226524,.381185,-.338497,.16,.364853,-.364853,.16,.383838,-.339962,.233819,.394551,-.304314,.210496,.395384,-.307505];f=[0,1,0,.258813,.965927,0,0,1,0,.480581,
.840701,-.249526,.57735,.57735,-.57735,.408972,.815761,-.408994,.697388,.697388,-.165224,.51476,.846076,-.138482,.239817,.961579,-.13362,.210073,.954851,-.210068,0,1,0,0,1,0,.511764,.854077,-.093005,.49996,.866049,-1E-4,.707107,.707107,0,.25339,.963725,-.083832,.254153,.965572,-.05548,1,0,0,1,0,0,.965927,.258813,0,.840701,.480581,-.249526,.57735,.57735,-.57735,.697388,.697388,-.165224,.815761,.408972,-.408994,.846076,.51476,-.138482,.961579,.239817,-.13362,1,0,0,1,0,0,.954851,.210073,-.210068,.854077,
.511764,-.093005,.707107,.707107,0,.866049,.49996,-1E-4,.963725,.25339,-.083832,.965572,.254153,-.05548,1,0,0,.965927,0,-.258813,1,0,0,.840701,.249526,-.480581,.57735,.57735,-.57735,.815761,.408994,-.408972,.697388,.165224,-.697388,.846076,.138482,-.51476,.961579,.13362,-.239817,.954851,.210068,-.210073,1,0,0,1,0,0,.854077,.093005,-.511764,.866049,1E-4,-.49996,.707107,0,-.707107,.963725,.083832,-.25339,.965572,.05548,-.254153,0,0,-1,0,0,-1,.210073,.210068,-.954851,0,0,-1,0,0,-1,.258813,0,-.965927,
.480581,.249526,-.840701,.57735,.57735,-.57735,.697388,.165224,-.697388,.408972,.408994,-.815761,.51476,.138482,-.846076,.239817,.13362,-.961579,.511764,.093005,-.854077,.707107,0,-.707107,.49996,1E-4,-.866049,.25339,.083832,-.963725,.254153,.05548,-.965572,0,0,-1,0,.258813,-.965927,0,0,-1,.249526,.480581,-.840701,.408994,.408972,-.815761,.210068,.210073,-.954851,.57735,.57735,-.57735,.165224,.697388,-.697388,.138482,.51476,-.846076,.13362,.239817,-.961579,0,0,-1,0,0,-1,.093005,.511764,-.854077,1E-4,
.49996,-.866049,0,.707107,-.707107,.083832,.25339,-.963725,.05548,.254153,-.965572,0,1,0,0,1,0,.210068,.954851,-.210073,0,1,0,0,1,0,0,.965927,-.258813,.249526,.840701,-.480581,.408994,.815761,-.408972,.57735,.57735,-.57735,.165224,.697388,-.697388,.138482,.846076,-.51476,.13362,.961579,-.239817,.093005,.854077,-.511764,0,.707107,-.707107,1E-4,.866049,-.49996,.083832,.963725,-.25339,.05548,.965572,-.254153];h=[0,1,2,3,4,5,3,6,4,7,6,3,8,9,10,8,5,9,8,10,11,8,3,5,8,7,3,12,13,14,12,14,6,12,6,7,15,11,2,
15,7,8,15,8,11,16,1,13,16,12,7,16,7,15,16,15,2,16,13,12,16,2,1,17,18,19,20,21,22,20,23,21,24,20,22,25,26,27,25,27,28,25,28,23,25,23,20,29,22,30,29,30,31,29,24,22,32,18,26,32,24,29,32,20,24,32,25,20,32,26,25,33,31,19,33,32,29,33,18,32,33,29,31,33,19,18,34,35,36,37,38,39,37,40,38,41,40,37,42,43,44,42,39,43,42,44,45,42,37,39,46,47,48,46,48,40,46,40,41,49,45,36,49,41,37,49,42,45,49,37,42,50,35,47,50,49,36,50,47,46,50,41,49,50,46,41,50,36,35,51,52,53,54,55,56,57,58,59,57,60,58,61,57,59,62,53,60,62,60,
57,62,51,53,63,59,64,63,64,65,63,61,59,66,55,51,66,57,61,66,62,57,66,51,62,67,65,56,67,66,61,67,55,66,67,61,63,67,63,65,67,56,55,68,69,70,71,72,73,71,74,72,71,75,74,76,75,71,77,73,78,77,78,79,77,71,73,80,81,82,80,82,75,80,75,76,83,79,70,83,76,71,83,71,77,83,77,79,84,69,81,84,76,83,84,83,70,84,81,80,84,80,76,84,70,69,85,86,87,88,89,90,91,92,93,91,93,94,95,91,94,96,87,92,96,92,91,96,85,87,97,94,98,97,98,99,97,95,94,100,89,85,100,91,95,100,96,91,100,95,97,100,85,96,101,99,90,101,100,97,101,89,100,101,
97,99,101,90,89];k=Math.PI/4;l=3*Math.PI/4;break;case 8:e=[-.16,-.28,-.4,-.16,-.311058,-.395911,-.193297,-.275993,-.4,-.280271,-.330985,-.376057,-.3141,-.3141,-.371635,-.283343,-.283343,-.392081,-.337662,-.337662,-.337662,-.264074,-.358876,-.358876,-.255708,-.335827,-.378852,-.254229,-.299434,-.393488,-.24636,-.24636,-.4,-.222353,-.26451,-.4,-.226524,-.338497,-.381185,-.16,-.34,-.383923,-.16,-.364853,-.364853,-.233819,-.304314,-.394551,-.210496,-.307505,-.395384,-.222353,-.4,-.26451,-.24636,-.4,-.24636,
-.283343,-.392081,-.283343,-.16,-.4,-.28,-.193297,-.4,-.275993,-.16,-.395911,-.311058,-.280271,-.376057,-.330985,-.337662,-.337662,-.337662,-.264074,-.358876,-.358876,-.3141,-.371635,-.3141,-.255708,-.378852,-.335827,-.254229,-.393488,-.299434,-.226524,-.381185,-.338497,-.16,-.364853,-.364853,-.16,-.383923,-.34,-.233819,-.394551,-.304314,-.210496,-.395384,-.307505,-.28,-.4,-.16,-.311058,-.395911,-.16,-.275993,-.4,-.193297,-.330985,-.376057,-.280271,-.337662,-.337662,-.337662,-.3141,-.371635,-.3141,
-.358876,-.358876,-.264074,-.335827,-.378852,-.255708,-.299434,-.393488,-.254229,-.283343,-.392081,-.283343,-.24636,-.4,-.24636,-.26451,-.4,-.222353,-.338497,-.381185,-.226524,-.34,-.383923,-.16,-.364853,-.364853,-.16,-.304314,-.394551,-.233819,-.307505,-.395384,-.210496,-.4,-.28,-.16,-.4,-.275993,-.193297,-.395911,-.311058,-.16,-.376057,-.330985,-.280271,-.337662,-.337662,-.337662,-.358876,-.358876,-.264074,-.371635,-.3141,-.3141,-.378852,-.335827,-.255708,-.393488,-.299434,-.254229,-.4,-.26451,
-.222353,-.4,-.24636,-.24636,-.392081,-.283343,-.283343,-.381185,-.338497,-.226524,-.364853,-.364853,-.16,-.383923,-.34,-.16,-.394551,-.304314,-.233819,-.395384,-.307505,-.210496,-.4,-.16,-.28,-.395824,-.16,-.311025,-.4,-.193297,-.275993,-.376057,-.280271,-.330985,-.337662,-.337662,-.337662,-.371635,-.3141,-.3141,-.358876,-.264074,-.358876,-.378852,-.255708,-.335827,-.393488,-.254229,-.299434,-.392081,-.283343,-.283343,-.4,-.24636,-.24636,-.4,-.222353,-.26451,-.381185,-.226524,-.338497,-.383838,-.16,
-.339962,-.364853,-.16,-.364853,-.394551,-.233819,-.304314,-.395384,-.210496,-.307505,-.28,-.16,-.4,-.275993,-.193297,-.4,-.311025,-.16,-.395824,-.330985,-.280271,-.376057,-.3141,-.3141,-.371635,-.337662,-.337662,-.337662,-.358876,-.264074,-.358876,-.335827,-.255708,-.378852,-.299434,-.254229,-.393488,-.26451,-.222353,-.4,-.24636,-.24636,-.4,-.283343,-.283343,-.392081,-.338497,-.226524,-.381185,-.364853,-.16,-.364853,-.339962,-.16,-.383838,-.304314,-.233819,-.394551,-.307505,-.210496,-.395384];f=
[0,0,-1,0,-.258813,-.965927,0,0,-1,-.249526,-.480581,-.840701,-.408994,-.408972,-.815761,-.210068,-.210073,-.954851,-.57735,-.57735,-.57735,-.165224,-.697388,-.697388,-.138482,-.51476,-.846076,-.13362,-.239817,-.961579,0,0,-1,0,0,-1,-.093005,-.511764,-.854077,-1E-4,-.49996,-.866049,0,-.707107,-.707107,-.083832,-.25339,-.963725,-.05548,-.254153,-.965572,0,-1,0,0,-1,0,-.210068,-.954851,-.210073,0,-1,0,0,-1,0,0,-.965927,-.258813,-.249526,-.840701,-.480581,-.57735,-.57735,-.57735,-.165224,-.697388,-.697388,
-.408994,-.815761,-.408972,-.138482,-.846076,-.51476,-.13362,-.961579,-.239817,-.093005,-.854077,-.511764,0,-.707107,-.707107,-1E-4,-.866049,-.49996,-.083832,-.963725,-.25339,-.05548,-.965572,-.254153,0,-1,0,-.258813,-.965927,0,0,-1,0,-.480581,-.840701,-.249526,-.57735,-.57735,-.57735,-.408972,-.815761,-.408994,-.697388,-.697388,-.165224,-.51476,-.846076,-.138482,-.239817,-.961579,-.13362,-.210073,-.954851,-.210068,0,-1,0,0,-1,0,-.511764,-.854077,-.093005,-.49996,-.866049,-1E-4,-.707107,-.707107,
0,-.25339,-.963725,-.083832,-.254153,-.965572,-.05548,-1,0,0,-1,0,0,-.965927,-.258813,0,-.840701,-.480581,-.249526,-.57735,-.57735,-.57735,-.697388,-.697388,-.165224,-.815761,-.408972,-.408994,-.846076,-.51476,-.138482,-.961579,-.239817,-.13362,-1,0,0,-1,0,0,-.954851,-.210073,-.210068,-.854077,-.511764,-.093005,-.707107,-.707107,0,-.866049,-.49996,-1E-4,-.963725,-.25339,-.083832,-.965572,-.254153,-.05548,-1,0,0,-.965927,0,-.258813,-1,0,0,-.840701,-.249526,-.480581,-.57735,-.57735,-.57735,-.815761,
-.408994,-.408972,-.697388,-.165224,-.697388,-.846076,-.138482,-.51476,-.961579,-.13362,-.239817,-.954851,-.210068,-.210073,-1,0,0,-1,0,0,-.854077,-.093005,-.511764,-.866049,-1E-4,-.49996,-.707107,0,-.707107,-.963725,-.083832,-.25339,-.965572,-.05548,-.254153,0,0,-1,0,0,-1,-.258813,0,-.965927,-.480581,-.249526,-.840701,-.408972,-.408994,-.815761,-.57735,-.57735,-.57735,-.697388,-.165224,-.697388,-.51476,-.138482,-.846076,-.239817,-.13362,-.961579,0,0,-1,0,0,-1,-.210073,-.210068,-.954851,-.511764,
-.093005,-.854077,-.707107,0,-.707107,-.49996,-1E-4,-.866049,-.25339,-.083832,-.963725,-.254153,-.05548,-.965572];h=[0,1,2,3,4,5,3,6,4,3,7,6,8,7,3,9,5,10,9,10,11,9,3,5,9,8,3,12,13,14,12,14,7,12,7,8,15,11,2,15,9,11,15,8,9,16,1,13,16,8,15,16,15,2,16,13,12,16,12,8,16,2,1,17,18,19,20,21,22,23,24,25,23,26,24,27,23,25,28,19,26,28,26,23,28,17,19,29,25,30,29,30,31,29,27,25,32,21,17,32,23,27,32,28,23,32,17,28,33,31,22,33,32,27,33,21,32,33,27,29,33,29,31,33,22,21,34,35,36,37,38,39,37,40,38,41,40,37,42,43,44,
42,39,43,42,44,45,42,37,39,46,47,48,46,48,40,46,40,41,49,45,36,49,37,42,49,41,37,49,42,45,50,35,47,50,46,41,50,41,49,50,49,36,50,47,46,50,36,35,51,52,53,54,55,56,54,57,55,58,54,56,59,60,61,59,61,62,59,62,57,59,57,54,63,56,64,63,64,65,63,58,56,66,52,60,66,54,58,66,59,54,66,60,59,67,65,53,67,66,58,67,58,63,67,52,66,67,63,65,67,53,52,68,69,70,71,72,73,71,74,72,75,74,71,76,77,78,76,73,77,76,78,79,76,71,73,80,81,82,80,82,74,80,74,75,83,79,70,83,71,76,83,75,71,83,76,79,84,69,81,84,75,83,84,83,70,84,81,
80,84,80,75,84,70,69,85,86,87,88,89,90,88,90,91,92,88,91,93,94,95,93,95,96,93,96,89,93,89,88,97,91,98,97,98,99,97,92,91,100,86,94,100,93,88,100,88,92,100,92,97,100,94,93,101,99,87,101,100,97,101,86,100,101,97,99,101,87,86];k=3*Math.PI/4;l=5*Math.PI/4;break;case 9:e=[.4,-.28,-.16,.395911,-.311058,-.16,.4,-.27606,-.193076,.376057,-.330985,-.280271,.337662,-.337662,-.337662,.371635,-.3141,-.3141,.358876,-.358876,-.264074,.378852,-.335827,-.255708,.393488,-.299434,-.254229,.392081,-.283343,-.283343,.4,
-.24636,-.24636,.4,-.264476,-.222489,.381185,-.338497,-.226524,.383923,-.34,-.16,.364853,-.364853,-.16,.394551,-.304314,-.233819,.395384,-.307505,-.210496,.28,-.4,-.16,.275993,-.4,-.193297,.311058,-.395911,-.16,.330985,-.376057,-.280271,.337662,-.337662,-.337662,.358876,-.358876,-.264074,.3141,-.371635,-.3141,.335827,-.378852,-.255708,.299434,-.393488,-.254229,.26451,-.4,-.222353,.24636,-.4,-.24636,.283343,-.392081,-.283343,.338497,-.381185,-.226524,.364853,-.364853,-.16,.34,-.383923,-.16,.304314,
-.394551,-.233819,.307505,-.395384,-.210496,.16,-.4,-.28,.16,-.395911,-.311058,.193297,-.4,-.275993,.280271,-.376057,-.330985,.337662,-.337662,-.337662,.3141,-.371635,-.3141,.264074,-.358876,-.358876,.255708,-.378852,-.335827,.254229,-.393488,-.299434,.283343,-.392081,-.283343,.24636,-.4,-.24636,.222353,-.4,-.26451,.226524,-.381185,-.338497,.16,-.383923,-.34,.16,-.364853,-.364853,.233819,-.394551,-.304314,.210496,-.395384,-.307505,.222353,-.26451,-.4,.24636,-.24636,-.4,.283343,-.283343,-.392081,.16,
-.28,-.4,.193297,-.275993,-.4,.16,-.311058,-.395911,.280271,-.330985,-.376057,.337662,-.337662,-.337662,.264074,-.358876,-.358876,.3141,-.3141,-.371635,.255708,-.335827,-.378852,.254229,-.299434,-.393488,.226524,-.338497,-.381185,.16,-.364853,-.364853,.16,-.34,-.383923,.233819,-.304314,-.394551,.210496,-.307505,-.395384,.28,-.16,-.4,.311025,-.16,-.395824,.275993,-.193297,-.4,.330985,-.280271,-.376057,.337662,-.337662,-.337662,.3141,-.3141,-.371635,.358876,-.264074,-.358876,.335827,-.255708,-.378852,
.299434,-.254229,-.393488,.283343,-.283343,-.392081,.24636,-.24636,-.4,.26451,-.222353,-.4,.338497,-.226524,-.381185,.339962,-.16,-.383838,.364853,-.16,-.364853,.304314,-.233819,-.394551,.307505,-.210496,-.395384,.4,-.16,-.28,.4,-.193245,-.275992,.395824,-.16,-.311025,.376057,-.280271,-.330985,.371635,-.3141,-.3141,.337662,-.337662,-.337662,.358876,-.264074,-.358876,.378852,-.255708,-.335827,.393488,-.254229,-.299434,.4,-.222319,-.264544,.4,-.24636,-.24636,.392081,-.283343,-.283343,.381185,-.226524,
-.338497,.364853,-.16,-.364853,.383838,-.16,-.339962,.394551,-.233819,-.304314,.395384,-.210496,-.307505];f=[1,0,0,.965927,-.258813,0,1,0,0,.840701,-.480581,-.249526,.57735,-.57735,-.57735,.815761,-.408972,-.408994,.697388,-.697388,-.165224,.846076,-.51476,-.138482,.961579,-.239817,-.13362,.954851,-.210073,-.210068,1,0,0,1,0,0,.854077,-.511764,-.093005,.866049,-.49996,-1E-4,.707107,-.707107,0,.963725,-.25339,-.083832,.965572,-.254153,-.05548,0,-1,0,0,-1,0,.258813,-.965927,0,.480581,-.840701,-.249526,
.57735,-.57735,-.57735,.697388,-.697388,-.165224,.408972,-.815761,-.408994,.51476,-.846076,-.138482,.239817,-.961579,-.13362,0,-1,0,0,-1,0,.210073,-.954851,-.210068,.511764,-.854077,-.093005,.707107,-.707107,0,.49996,-.866049,-1E-4,.25339,-.963725,-.083832,.254153,-.965572,-.05548,0,-1,0,0,-.965927,-.258813,0,-1,0,.249526,-.840701,-.480581,.57735,-.57735,-.57735,.408994,-.815761,-.408972,.165224,-.697388,-.697388,.138482,-.846076,-.51476,.13362,-.961579,-.239817,.210068,-.954851,-.210073,0,-1,0,0,
-1,0,.093005,-.854077,-.511764,1E-4,-.866049,-.49996,0,-.707107,-.707107,.083832,-.963725,-.25339,.05548,-.965572,-.254153,0,0,-1,0,0,-1,.210068,-.210073,-.954851,0,0,-1,0,0,-1,0,-.258813,-.965927,.249526,-.480581,-.840701,.57735,-.57735,-.57735,.165224,-.697388,-.697388,.408994,-.408972,-.815761,.138482,-.51476,-.846076,.13362,-.239817,-.961579,.093005,-.511764,-.854077,0,-.707107,-.707107,1E-4,-.49996,-.866049,.083832,-.25339,-.963725,.05548,-.254153,-.965572,0,0,-1,.258813,0,-.965927,0,0,-1,.480581,
-.249526,-.840701,.57735,-.57735,-.57735,.408972,-.408994,-.815761,.697388,-.165224,-.697388,.51476,-.138482,-.846076,.239817,-.13362,-.961579,.210073,-.210068,-.954851,0,0,-1,0,0,-1,.511764,-.093005,-.854077,.49996,-1E-4,-.866049,.707107,0,-.707107,.25339,-.083832,-.963725,.254153,-.05548,-.965572,1,0,0,1,0,0,.965927,0,-.258813,.840701,-.249526,-.480581,.815761,-.408994,-.408972,.57735,-.57735,-.57735,.697388,-.165224,-.697388,.846076,-.138482,-.51476,.961579,-.13362,-.239817,1,0,0,1,0,0,.954851,
-.210068,-.210073,.854077,-.093005,-.511764,.707107,0,-.707107,.866049,-1E-4,-.49996,.963725,-.083832,-.25339,.965572,-.05548,-.254153];h=[0,1,2,3,4,5,3,6,4,7,6,3,8,9,10,8,5,9,8,10,11,8,3,5,8,7,3,12,13,14,12,14,6,12,6,7,15,11,2,15,7,8,15,8,11,16,1,13,16,12,7,16,7,15,16,15,2,16,13,12,16,2,1,17,18,19,20,21,22,20,23,21,24,20,22,25,26,27,25,27,28,25,28,23,25,23,20,29,22,30,29,30,31,29,24,22,32,18,26,32,20,24,32,25,20,32,26,25,33,31,19,33,32,24,33,24,29,33,18,32,33,29,31,33,19,18,34,35,36,37,38,39,37,
40,38,41,40,37,42,43,44,42,39,43,42,44,45,42,37,39,46,47,48,46,48,40,46,40,41,49,45,36,49,41,37,49,42,45,49,37,42,50,35,47,50,49,36,50,47,46,50,41,49,50,46,41,50,36,35,51,52,53,54,55,56,57,58,59,57,60,58,61,57,59,62,53,60,62,60,57,62,51,53,63,59,64,63,64,65,63,61,59,66,55,51,66,57,61,66,62,57,66,51,62,67,65,56,67,66,61,67,55,66,67,61,63,67,63,65,67,56,55,68,69,70,71,72,73,71,74,72,75,74,71,76,77,78,76,73,77,76,78,79,76,71,73,76,75,71,80,81,82,80,82,74,80,74,75,83,79,70,83,75,76,83,80,75,83,76,79,
84,69,81,84,80,83,84,83,70,84,81,80,84,70,69,85,86,87,88,89,90,88,90,91,92,88,91,93,94,95,93,95,96,93,96,89,93,89,88,97,91,98,97,98,99,97,92,91,100,86,94,100,88,92,100,94,93,100,93,88,100,92,97,101,99,87,101,100,97,101,86,100,101,97,99,101,87,86];k=3*Math.PI/4;l=3*Math.PI/4;break;case 10:e=[-.4,.16,.28,-.395911,.16,.311058,-.4,.193076,.27606,-.376057,.280271,.330985,-.337662,.337662,.337662,-.371635,.3141,.3141,-.358876,.264074,.358876,-.378852,.255708,.335827,-.393488,.254229,.299434,-.392081,.283343,
.283343,-.4,.24636,.24636,-.4,.222489,.264476,-.381185,.226524,.338497,-.383923,.16,.34,-.364853,.16,.364853,-.394551,.233819,.304314,-.395384,.210496,.307505,-.26451,.222353,.4,-.24636,.24636,.4,-.283343,.283343,.392081,-.28,.16,.4,-.275993,.193297,.4,-.311058,.16,.395911,-.330985,.280271,.376057,-.337662,.337662,.337662,-.358876,.264074,.358876,-.3141,.3141,.371635,-.335827,.255708,.378852,-.299434,.254229,.393488,-.338497,.226524,.381185,-.364853,.16,.364853,-.34,.16,.383923,-.304314,.233819,.394551,
-.307505,.210496,.395384,-.280271,.330985,.376057,-.337662,.337662,.337662,-.3141,.3141,.371635,-.264074,.358876,.358876,-.255708,.335827,.378852,-.254229,.299434,.393488,-.283343,.283343,.392081,-.24636,.24636,.4,-.222353,.26451,.4,-.226524,.338497,.381185,-.16,.34,.383923,-.16,.364853,.364853,-.233819,.304314,.394551,-.193297,.275993,.4,-.210496,.307505,.395384,-.16,.28,.4,-.16,.311058,.395911,-.16,.4,.28,-.193297,.4,.275993,-.16,.395911,.311058,-.280271,.376057,.330985,-.337662,.337662,.337662,
-.264074,.358876,.358876,-.3141,.371635,.3141,-.255708,.378852,.335827,-.254229,.393488,.299434,-.222353,.4,.26451,-.24636,.4,.24636,-.283343,.392081,.283343,-.226524,.381185,.338497,-.16,.364853,.364853,-.16,.383923,.34,-.233819,.394551,.304314,-.210496,.395384,.307505,-.28,.4,.16,-.311025,.395824,.16,-.275993,.4,.193297,-.330985,.376057,.280271,-.3141,.371635,.3141,-.283343,.392081,.283343,-.337662,.337662,.337662,-.358876,.358876,.264074,-.335827,.378852,.255708,-.299434,.393488,.254229,-.24636,
.4,.24636,-.26451,.4,.222353,-.338497,.381185,.226524,-.339962,.383838,.16,-.364853,.364853,.16,-.304314,.394551,.233819,-.307505,.395384,.210496,-.4,.264544,.222319,-.4,.24636,.24636,-.392081,.283343,.283343,-.4,.28,.16,-.4,.275992,.193245,-.395824,.311025,.16,-.376057,.330985,.280271,-.371635,.3141,.3141,-.337662,.337662,.337662,-.358876,.358876,.264074,-.378852,.335827,.255708,-.393488,.299434,.254229,-.381185,.338497,.226524,-.364853,.364853,.16,-.383838,.339962,.16,-.394551,.304314,.233819,-.395384,
.307505,.210496];f=[-1,0,0,-.965927,0,.258813,-1,0,0,-.840701,.249526,.480581,-.57735,.57735,.57735,-.815761,.408994,.408972,-.697388,.165224,.697388,-.846076,.138482,.51476,-.961579,.13362,.239817,-.954851,.210068,.210073,-1,0,0,-1,0,0,-.854077,.093005,.511764,-.866049,1E-4,.49996,-.707107,0,.707107,-.963725,.083832,.25339,-.965572,.05548,.254153,0,0,1,0,0,1,-.210073,.210068,.954851,0,0,1,0,0,1,-.258813,0,.965927,-.480581,.249526,.840701,-.57735,.57735,.57735,-.697388,.165224,.697388,-.408972,.408994,
.815761,-.51476,.138482,.846076,-.239817,.13362,.961579,-.511764,.093005,.854077,-.707107,0,.707107,-.49996,1E-4,.866049,-.25339,.083832,.963725,-.254153,.05548,.965572,-.249526,.480581,.840701,-.57735,.57735,.57735,-.408994,.408972,.815761,-.165224,.697388,.697388,-.138482,.51476,.846076,-.13362,.239817,.961579,-.210068,.210073,.954851,0,0,1,0,0,1,-.093005,.511764,.854077,-1E-4,.49996,.866049,0,.707107,.707107,-.083832,.25339,.963725,0,0,1,-.05548,.254153,.965572,0,0,1,0,.258813,.965927,0,1,0,0,
1,0,0,.965927,.258813,-.249526,.840701,.480581,-.57735,.57735,.57735,-.165224,.697388,.697388,-.408994,.815761,.408972,-.138482,.846076,.51476,-.13362,.961579,.239817,0,1,0,0,1,0,-.210068,.954851,.210073,-.093005,.854077,.511764,0,.707107,.707107,-1E-4,.866049,.49996,-.083832,.963725,.25339,-.05548,.965572,.254153,0,1,0,-.258813,.965927,0,0,1,0,-.480581,.840701,.249526,-.408972,.815761,.408994,-.210073,.954851,.210068,-.57735,.57735,.57735,-.697388,.697388,.165224,-.51476,.846076,.138482,-.239817,
.961579,.13362,0,1,0,0,1,0,-.511764,.854077,.093005,-.49996,.866049,1E-4,-.707107,.707107,0,-.25339,.963725,.083832,-.254153,.965572,.05548,-1,0,0,-1,0,0,-.954851,.210073,.210068,-1,0,0,-1,0,0,-.965927,.258813,0,-.840701,.480581,.249526,-.815761,.408972,.408994,-.57735,.57735,.57735,-.697388,.697388,.165224,-.846076,.51476,.138482,-.961579,.239817,.13362,-.854077,.511764,.093005,-.707107,.707107,0,-.866049,.49996,1E-4,-.963725,.25339,.083832,-.965572,.254153,.05548];h=[0,1,2,3,4,5,3,6,4,7,6,3,8,9,
10,8,5,9,8,10,11,8,3,5,8,7,3,12,13,14,12,14,6,12,6,7,15,11,2,15,8,11,15,12,7,15,7,8,16,1,13,16,12,15,16,15,2,16,13,12,16,2,1,17,18,19,20,21,22,23,24,25,23,26,24,27,23,25,28,19,26,28,26,23,28,17,19,29,25,30,29,30,31,29,27,25,32,21,17,32,23,27,32,28,23,32,17,28,33,31,22,33,32,27,33,21,32,33,27,29,33,29,31,33,22,21,34,35,36,34,37,35,38,37,34,39,40,41,39,36,40,39,41,42,39,34,36,39,38,34,43,44,45,43,45,37,43,37,38,46,42,47,46,39,42,46,38,39,48,47,49,48,49,50,48,50,44,48,46,47,48,44,43,48,38,46,48,43,38,
51,52,53,54,55,56,54,57,55,58,54,56,59,60,61,59,61,62,59,62,57,59,57,54,63,56,64,63,64,65,63,58,56,66,52,60,66,54,58,66,59,54,66,60,59,67,65,53,67,66,58,67,58,63,67,52,66,67,63,65,67,53,52,68,69,70,71,72,73,71,74,72,71,75,74,76,75,71,77,73,78,77,78,79,77,71,73,77,76,71,80,81,82,80,82,75,80,75,76,83,79,70,83,77,79,83,76,77,84,69,81,84,76,83,84,81,80,84,83,70,84,80,76,84,70,69,85,86,87,88,89,90,91,92,93,91,93,94,95,91,94,96,87,92,96,92,91,96,85,87,97,94,98,97,98,99,97,95,94,100,89,85,100,91,95,100,
96,91,100,95,97,100,85,96,101,99,90,101,100,97,101,89,100,101,97,99,101,90,89];k=Math.PI/4;l=7*Math.PI/4;break;case 11:e=[.280271,.376057,.330985,.337662,.337662,.337662,.3141,.371635,.3141,.264074,.358876,.358876,.255708,.378852,.335827,.254229,.393488,.299434,.283343,.392081,.283343,.24636,.4,.24636,.222353,.4,.26451,.226524,.381185,.338497,.16,.383923,.34,.16,.364853,.364853,.233819,.394551,.304314,.193297,.4,.275993,.210496,.395384,.307505,.16,.4,.28,.16,.395911,.311058,.222353,.26451,.4,.24636,
.24636,.4,.283343,.283343,.392081,.280271,.330985,.376057,.337662,.337662,.337662,.264074,.358876,.358876,.3141,.3141,.371635,.255708,.335827,.378852,.254229,.299434,.393488,.226524,.338497,.381185,.16,.364853,.364853,.16,.34,.383923,.233819,.304314,.394551,.193297,.275993,.4,.210496,.307505,.395384,.16,.311058,.395911,.16,.28,.4,.26451,.222353,.4,.283343,.283343,.392081,.24636,.24636,.4,.330985,.280271,.376057,.337662,.337662,.337662,.3141,.3141,.371635,.358876,.264074,.358876,.335827,.255708,.378852,
.299434,.254229,.393488,.338497,.226524,.381185,.34,.16,.383923,.364853,.16,.364853,.304314,.233819,.394551,.275993,.193297,.4,.307505,.210496,.395384,.28,.16,.4,.311058,.16,.395911,.4,.16,.28,.4,.193297,.275993,.395911,.16,.311058,.376057,.280271,.330985,.337662,.337662,.337662,.358876,.264074,.358876,.392081,.283343,.283343,.371635,.3141,.3141,.378852,.255708,.335827,.393488,.254229,.299434,.4,.222353,.26451,.4,.24636,.24636,.381185,.226524,.338497,.364853,.16,.364853,.383923,.16,.34,.394551,.233819,
.304314,.395384,.210496,.307505,.4,.26451,.222353,.392081,.283343,.283343,.4,.24636,.24636,.4,.28,.16,.395824,.311025,.16,.4,.275993,.193297,.376057,.330985,.280271,.337662,.337662,.337662,.371635,.3141,.3141,.358876,.358876,.264074,.378852,.335827,.255708,.393488,.299434,.254229,.381185,.338497,.226524,.383838,.339962,.16,.364853,.364853,.16,.394551,.304314,.233819,.395384,.307505,.210496,.28,.4,.16,.275993,.4,.193297,.311025,.395824,.16,.330985,.376057,.280271,.3141,.371635,.3141,.337662,.337662,
.337662,.358876,.358876,.264074,.335827,.378852,.255708,.299434,.393488,.254229,.26451,.4,.222353,.24636,.4,.24636,.283343,.392081,.283343,.338497,.381185,.226524,.364853,.364853,.16,.339962,.383838,.16,.304314,.394551,.233819,.307505,.395384,.210496];f=[.249526,.840701,.480581,.57735,.57735,.57735,.408994,.815761,.408972,.165224,.697388,.697388,.138482,.846076,.51476,.13362,.961579,.239817,.210068,.954851,.210073,0,1,0,0,1,0,.093005,.854077,.511764,1E-4,.866049,.49996,0,.707107,.707107,.083832,.963725,
.25339,0,1,0,.05548,.965572,.254153,0,1,0,0,.965927,.258813,0,0,1,0,0,1,.210068,.210073,.954851,.249526,.480581,.840701,.57735,.57735,.57735,.165224,.697388,.697388,.408994,.408972,.815761,.138482,.51476,.846076,.13362,.239817,.961579,.093005,.511764,.854077,0,.707107,.707107,1E-4,.49996,.866049,.083832,.25339,.963725,0,0,1,.05548,.254153,.965572,0,.258813,.965927,0,0,1,0,0,1,.210073,.210068,.954851,0,0,1,.480581,.249526,.840701,.57735,.57735,.57735,.408972,.408994,.815761,.697388,.165224,.697388,
.51476,.138482,.846076,.239817,.13362,.961579,.511764,.093005,.854077,.49996,1E-4,.866049,.707107,0,.707107,.25339,.083832,.963725,0,0,1,.254153,.05548,.965572,0,0,1,.258813,0,.965927,1,0,0,1,0,0,.965927,0,.258813,.840701,.249526,.480581,.57735,.57735,.57735,.697388,.165224,.697388,.954851,.210068,.210073,.815761,.408994,.408972,.846076,.138482,.51476,.961579,.13362,.239817,1,0,0,1,0,0,.854077,.093005,.511764,.707107,0,.707107,.866049,1E-4,.49996,.963725,.083832,.25339,.965572,.05548,.254153,1,0,
0,.954851,.210073,.210068,1,0,0,1,0,0,.965927,.258813,0,1,0,0,.840701,.480581,.249526,.57735,.57735,.57735,.815761,.408972,.408994,.697388,.697388,.165224,.846076,.51476,.138482,.961579,.239817,.13362,.854077,.511764,.093005,.866049,.49996,1E-4,.707107,.707107,0,.963725,.25339,.083832,.965572,.254153,.05548,0,1,0,0,1,0,.258813,.965927,0,.480581,.840701,.249526,.408972,.815761,.408994,.57735,.57735,.57735,.697388,.697388,.165224,.51476,.846076,.138482,.239817,.961579,.13362,0,1,0,0,1,0,.210073,.954851,
.210068,.511764,.854077,.093005,.707107,.707107,0,.49996,.866049,1E-4,.25339,.963725,.083832,.254153,.965572,.05548];h=[0,1,2,0,3,1,4,3,0,5,6,7,5,2,6,5,7,8,5,0,2,9,10,11,9,11,3,9,3,4,12,8,13,12,4,0,12,5,8,12,0,5,12,9,4,14,13,15,14,15,16,14,16,10,14,9,12,14,12,13,14,10,9,17,18,19,20,21,22,20,23,21,24,20,22,25,19,23,25,23,20,25,17,19,26,22,27,26,27,28,26,24,22,29,30,17,29,20,24,29,24,26,29,25,20,29,17,25,31,28,32,31,32,33,31,33,30,31,29,26,31,30,29,31,26,28,34,35,36,37,38,39,37,40,38,41,40,37,42,39,
35,42,37,39,42,35,34,43,44,45,43,45,40,43,40,41,46,34,47,46,41,37,46,37,42,46,43,41,46,42,34,48,47,49,48,49,50,48,50,44,48,43,46,48,44,43,48,46,47,51,52,53,54,55,56,54,57,58,54,58,55,59,54,56,60,61,62,60,62,57,60,57,54,63,56,64,63,64,65,63,59,56,66,52,61,66,54,59,66,60,54,66,61,60,67,65,53,67,66,59,67,52,66,67,59,63,67,63,65,67,53,52,68,69,70,71,72,73,74,75,76,74,77,75,78,77,74,79,76,69,79,74,76,79,69,68,79,78,74,80,81,82,80,72,81,80,82,77,80,77,78,83,68,73,83,79,68,83,80,78,83,78,79,84,80,83,84,
83,73,84,72,80,84,73,72,85,86,87,88,89,90,88,90,91,92,88,91,93,94,95,93,95,96,93,96,89,93,89,88,93,88,92,97,91,98,97,98,99,97,92,91,100,86,94,100,92,97,100,93,92,100,94,93,101,99,87,101,100,97,101,86,100,101,97,99,101,87,86];k=Math.PI/4;l=Math.PI/4;break;case 12:e=[-.16,-.4,.28,-.16,-.395911,.311058,-.193297,-.4,.275993,-.280271,-.376057,.330985,-.3141,-.371635,.3141,-.283343,-.392081,.283343,-.337662,-.337662,.337662,-.264074,-.358876,.358876,-.255708,-.378852,.335827,-.254229,-.393488,.299434,-.24636,
-.4,.24636,-.222353,-.4,.26451,-.226524,-.381185,.338497,-.16,-.383923,.34,-.16,-.364853,.364853,-.233819,-.394551,.304314,-.210496,-.395384,.307505,-.222353,-.26451,.4,-.24636,-.24636,.4,-.283343,-.283343,.392081,-.16,-.28,.4,-.193297,-.275993,.4,-.16,-.311058,.395911,-.280271,-.330985,.376057,-.337662,-.337662,.337662,-.264074,-.358876,.358876,-.3141,-.3141,.371635,-.255708,-.335827,.378852,-.254229,-.299434,.393488,-.226524,-.338497,.381185,-.16,-.364853,.364853,-.16,-.34,.383923,-.233819,-.304314,
.394551,-.210496,-.307505,.395384,-.26451,-.222353,.4,-.283343,-.283343,.392081,-.24636,-.24636,.4,-.28,-.16,.4,-.311025,-.16,.395824,-.275993,-.193297,.4,-.330985,-.280271,.376057,-.337662,-.337662,.337662,-.3141,-.3141,.371635,-.358876,-.264074,.358876,-.335827,-.255708,.378852,-.299434,-.254229,.393488,-.338497,-.226524,.381185,-.339962,-.16,.383838,-.364853,-.16,.364853,-.304314,-.233819,.394551,-.307505,-.210496,.395384,-.4,-.222353,.26451,-.4,-.24636,.24636,-.392081,-.283343,.283343,-.4,-.16,
.28,-.4,-.193297,.275993,-.395824,-.16,.311025,-.376057,-.280271,.330985,-.337662,-.337662,.337662,-.358876,-.264074,.358876,-.371635,-.3141,.3141,-.378852,-.255708,.335827,-.393488,-.254229,.299434,-.381185,-.226524,.338497,-.364853,-.16,.364853,-.383838,-.16,.339962,-.394551,-.233819,.304314,-.395384,-.210496,.307505,-.4,-.26451,.222353,-.392081,-.283343,.283343,-.4,-.24636,.24636,-.4,-.28,.16,-.395824,-.311025,.16,-.4,-.275993,.193297,-.376057,-.330985,.280271,-.337662,-.337662,.337662,-.371635,
-.3141,.3141,-.358876,-.358876,.264074,-.378852,-.335827,.255708,-.393488,-.299434,.254229,-.381185,-.338497,.226524,-.383838,-.339962,.16,-.364853,-.364853,.16,-.394551,-.304314,.233819,-.395384,-.307505,.210496,-.28,-.4,.16,-.275993,-.4,.193297,-.311025,-.395824,.16,-.330985,-.376057,.280271,-.3141,-.371635,.3141,-.337662,-.337662,.337662,-.358876,-.358876,.264074,-.335827,-.378852,.255708,-.299434,-.393488,.254229,-.26451,-.4,.222353,-.24636,-.4,.24636,-.283343,-.392081,.283343,-.338497,-.381185,
.226524,-.364853,-.364853,.16,-.339962,-.383838,.16,-.304314,-.394551,.233819,-.307505,-.395384,.210496];f=[0,-1,0,0,-.965927,.258813,0,-1,0,-.249526,-.840701,.480581,-.408994,-.815761,.408972,-.210068,-.954851,.210073,-.57735,-.57735,.57735,-.165224,-.697388,.697388,-.138482,-.846076,.51476,-.13362,-.961579,.239817,0,-1,0,0,-1,0,-.093005,-.854077,.511764,-1E-4,-.866049,.49996,0,-.707107,.707107,-.083832,-.963725,.25339,-.05548,-.965572,.254153,0,0,1,0,0,1,-.210068,-.210073,.954851,0,0,1,0,0,1,0,
-.258813,.965927,-.249526,-.480581,.840701,-.57735,-.57735,.57735,-.165224,-.697388,.697388,-.408994,-.408972,.815761,-.138482,-.51476,.846076,-.13362,-.239817,.961579,-.093005,-.511764,.854077,0,-.707107,.707107,-1E-4,-.49996,.866049,-.083832,-.25339,.963725,-.05548,-.254153,.965572,0,0,1,-.210073,-.210068,.954851,0,0,1,0,0,1,-.258813,0,.965927,0,0,1,-.480581,-.249526,.840701,-.57735,-.57735,.57735,-.408972,-.408994,.815761,-.697388,-.165224,.697388,-.51476,-.138482,.846076,-.239817,-.13362,.961579,
-.511764,-.093005,.854077,-.49996,-1E-4,.866049,-.707107,0,.707107,-.25339,-.083832,.963725,-.254153,-.05548,.965572,-1,0,0,-1,0,0,-.954851,-.210068,.210073,-1,0,0,-1,0,0,-.965927,0,.258813,-.840701,-.249526,.480581,-.57735,-.57735,.57735,-.697388,-.165224,.697388,-.815761,-.408994,.408972,-.846076,-.138482,.51476,-.961579,-.13362,.239817,-.854077,-.093005,.511764,-.707107,0,.707107,-.866049,-1E-4,.49996,-.963725,-.083832,.25339,-.965572,-.05548,.254153,-1,0,0,-.954851,-.210073,.210068,-1,0,0,-1,
0,0,-.965927,-.258813,0,-1,0,0,-.840701,-.480581,.249526,-.57735,-.57735,.57735,-.815761,-.408972,.408994,-.697388,-.697388,.165224,-.846076,-.51476,.138482,-.961579,-.239817,.13362,-.854077,-.511764,.093005,-.866049,-.49996,1E-4,-.707107,-.707107,0,-.963725,-.25339,.083832,-.965572,-.254153,.05548,0,-1,0,0,-1,0,-.258813,-.965927,0,-.480581,-.840701,.249526,-.408972,-.815761,.408994,-.57735,-.57735,.57735,-.697388,-.697388,.165224,-.51476,-.846076,.138482,-.239817,-.961579,.13362,0,-1,0,0,-1,0,-.210073,
-.954851,.210068,-.511764,-.854077,.093005,-.707107,-.707107,0,-.49996,-.866049,1E-4,-.25339,-.963725,.083832,-.254153,-.965572,.05548];h=[0,1,2,3,4,5,3,6,4,3,7,6,8,7,3,9,5,10,9,10,11,9,3,5,12,13,14,12,14,7,12,7,8,15,11,2,15,8,3,15,3,9,15,9,11,16,1,13,16,8,15,16,13,12,16,15,2,16,12,8,16,2,1,17,18,19,20,21,22,23,24,25,23,26,24,27,23,25,28,19,26,28,26,23,28,17,19,29,25,30,29,30,31,29,27,25,32,21,17,32,23,27,32,28,23,32,17,28,33,31,22,33,32,27,33,21,32,33,27,29,33,29,31,33,22,21,34,35,36,37,38,39,40,
41,42,40,43,41,44,43,40,45,42,35,45,40,42,45,35,34,46,47,48,46,48,43,46,43,44,49,34,39,49,45,34,49,44,40,49,40,45,50,38,47,50,44,49,50,47,46,50,49,39,50,46,44,50,39,38,51,52,53,54,55,56,57,58,59,57,60,58,61,57,59,62,53,60,62,60,57,62,51,53,63,59,64,63,65,56,63,64,65,63,61,59,66,55,51,66,57,61,66,61,63,66,62,57,66,51,62,67,55,66,67,66,63,67,63,56,67,56,55,68,69,70,71,72,73,74,75,76,74,77,75,78,77,74,79,76,69,79,74,76,79,69,68,80,81,82,80,82,77,80,77,78,83,68,73,83,79,68,83,78,74,83,74,79,84,72,81,
84,81,80,84,78,83,84,83,73,84,80,78,84,73,72,85,86,87,88,89,90,88,90,91,92,88,91,93,94,95,93,95,96,93,96,89,93,89,88,93,88,92,97,91,98,97,98,99,97,92,91,100,86,94,100,93,92,100,94,93,101,99,87,101,100,92,101,86,100,101,97,99,101,92,97,101,87,86];k=3*Math.PI/4;l=7*Math.PI/4;break;case 13:e=[.16,-.28,.4,.16,-.311058,.395911,.193297,-.275993,.4,.280271,-.330985,.376057,.337662,-.337662,.337662,.3141,-.3141,.371635,.264074,-.358876,.358876,.255708,-.335827,.378852,.254229,-.299434,.393488,.283343,-.283343,
.392081,.24636,-.24636,.4,.222353,-.26451,.4,.226524,-.338497,.381185,.16,-.34,.383923,.16,-.364853,.364853,.233819,-.304314,.394551,.210496,-.307505,.395384,.222353,-.4,.26451,.24636,-.4,.24636,.283343,-.392081,.283343,.16,-.4,.28,.193297,-.4,.275993,.16,-.395911,.311058,.280271,-.376057,.330985,.337662,-.337662,.337662,.264074,-.358876,.358876,.3141,-.371635,.3141,.255708,-.378852,.335827,.254229,-.393488,.299434,.226524,-.381185,.338497,.16,-.364853,.364853,.16,-.383923,.34,.233819,-.394551,.304314,
.210496,-.395384,.307505,.26451,-.4,.222353,.283343,-.392081,.283343,.24636,-.4,.24636,.28,-.4,.16,.311025,-.395824,.16,.275993,-.4,.193297,.330985,-.376057,.280271,.337662,-.337662,.337662,.3141,-.371635,.3141,.358876,-.358876,.264074,.335827,-.378852,.255708,.299434,-.393488,.254229,.338497,-.381185,.226524,.339962,-.383838,.16,.364853,-.364853,.16,.304314,-.394551,.233819,.307505,-.395384,.210496,.4,-.28,.16,.4,-.275993,.193297,.395824,-.311025,.16,.376057,-.330985,.280271,.337662,-.337662,.337662,
.358876,-.358876,.264074,.371635,-.3141,.3141,.378852,-.335827,.255708,.393488,-.299434,.254229,.4,-.26451,.222353,.4,-.24636,.24636,.392081,-.283343,.283343,.381185,-.338497,.226524,.364853,-.364853,.16,.383838,-.339962,.16,.394551,-.304314,.233819,.395384,-.307505,.210496,.4,-.222353,.26451,.392081,-.283343,.283343,.4,-.24636,.24636,.4,-.16,.28,.395824,-.16,.311025,.4,-.193297,.275993,.376057,-.280271,.330985,.337662,-.337662,.337662,.371635,-.3141,.3141,.358876,-.264074,.358876,.378852,-.255708,
.335827,.393488,-.254229,.299434,.381185,-.226524,.338497,.383838,-.16,.339962,.364853,-.16,.364853,.394551,-.233819,.304314,.395384,-.210496,.307505,.26451,-.222353,.4,.24636,-.24636,.4,.283343,-.283343,.392081,.28,-.16,.4,.275993,-.193297,.4,.311025,-.16,.395824,.330985,-.280271,.376057,.3141,-.3141,.371635,.337662,-.337662,.337662,.358876,-.264074,.358876,.335827,-.255708,.378852,.299434,-.254229,.393488,.338497,-.226524,.381185,.364853,-.16,.364853,.339962,-.16,.383838,.304314,-.233819,.394551,
.307505,-.210496,.395384];f=[0,0,1,0,-.258813,.965927,0,0,1,.249526,-.480581,.840701,.57735,-.57735,.57735,.408994,-.408972,.815761,.165224,-.697388,.697388,.138482,-.51476,.846076,.13362,-.239817,.961579,.210068,-.210073,.954851,0,0,1,0,0,1,.093005,-.511764,.854077,1E-4,-.49996,.866049,0,-.707107,.707107,.083832,-.25339,.963725,.05548,-.254153,.965572,0,-1,0,0,-1,0,.210068,-.954851,.210073,0,-1,0,0,-1,0,0,-.965927,.258813,.249526,-.840701,.480581,.57735,-.57735,.57735,.165224,-.697388,.697388,.408994,
-.815761,.408972,.138482,-.846076,.51476,.13362,-.961579,.239817,.093005,-.854077,.511764,0,-.707107,.707107,1E-4,-.866049,.49996,.083832,-.963725,.25339,.05548,-.965572,.254153,0,-1,0,.210073,-.954851,.210068,0,-1,0,0,-1,0,.258813,-.965927,0,0,-1,0,.480581,-.840701,.249526,.57735,-.57735,.57735,.408972,-.815761,.408994,.697388,-.697388,.165224,.51476,-.846076,.138482,.239817,-.961579,.13362,.511764,-.854077,.093005,.49996,-.866049,1E-4,.707107,-.707107,0,.25339,-.963725,.083832,.254153,-.965572,
.05548,1,0,0,1,0,0,.965927,-.258813,0,.840701,-.480581,.249526,.57735,-.57735,.57735,.697388,-.697388,.165224,.815761,-.408972,.408994,.846076,-.51476,.138482,.961579,-.239817,.13362,1,0,0,1,0,0,.954851,-.210073,.210068,.854077,-.511764,.093005,.707107,-.707107,0,.866049,-.49996,1E-4,.963725,-.25339,.083832,.965572,-.254153,.05548,1,0,0,.954851,-.210068,.210073,1,0,0,1,0,0,.965927,0,.258813,1,0,0,.840701,-.249526,.480581,.57735,-.57735,.57735,.815761,-.408994,.408972,.697388,-.165224,.697388,.846076,
-.138482,.51476,.961579,-.13362,.239817,.854077,-.093005,.511764,.866049,-1E-4,.49996,.707107,0,.707107,.963725,-.083832,.25339,.965572,-.05548,.254153,0,0,1,0,0,1,.210073,-.210068,.954851,0,0,1,0,0,1,.258813,0,.965927,.480581,-.249526,.840701,.408972,-.408994,.815761,.57735,-.57735,.57735,.697388,-.165224,.697388,.51476,-.138482,.846076,.239817,-.13362,.961579,.511764,-.093005,.854077,.707107,0,.707107,.49996,-1E-4,.866049,.25339,-.083832,.963725,.254153,-.05548,.965572];h=[0,1,2,3,4,5,3,6,4,7,6,
3,8,9,10,8,5,9,8,10,11,8,3,5,12,13,14,12,14,6,12,6,7,15,11,2,15,7,3,15,8,11,15,3,8,16,1,13,16,15,2,16,13,12,16,7,15,16,12,7,16,2,1,17,18,19,20,21,22,23,24,25,23,19,26,23,26,24,27,23,25,28,19,23,28,17,19,29,25,30,29,30,31,29,27,25,32,21,17,32,23,27,32,27,29,32,28,23,32,17,28,33,31,22,33,32,29,33,21,32,33,29,31,33,22,21,34,35,36,37,38,39,40,41,42,40,43,41,44,43,40,45,42,35,45,40,42,45,35,34,46,47,48,46,48,43,46,43,44,49,34,39,49,45,34,49,46,44,49,44,40,49,40,45,50,38,47,50,46,49,50,47,46,50,49,39,50,
39,38,51,52,53,54,55,56,54,57,55,58,54,56,59,60,61,59,61,62,59,62,57,59,57,54,63,56,64,63,64,65,63,58,56,66,52,60,66,54,58,66,59,54,66,60,59,67,65,53,67,66,58,67,58,63,67,52,66,67,63,65,67,53,52,68,69,70,71,72,73,74,75,76,74,77,75,78,77,74,79,76,69,79,74,76,79,69,68,80,81,82,80,82,77,80,77,78,83,68,73,83,78,74,83,80,78,83,74,79,83,79,68,84,72,81,84,80,83,84,83,73,84,81,80,84,73,72,85,86,87,88,89,90,91,92,93,91,93,94,95,91,94,96,87,92,96,92,91,96,85,87,97,94,98,97,98,99,97,95,94,100,89,85,100,91,95,
100,96,91,100,95,97,100,85,96,101,99,90,101,100,97,101,89,100,101,97,99,101,90,89];k=3*Math.PI/4;l=Math.PI/4;break;case 14:e=[-.16,-.4,.28,.16,-.4,.28,.16,-.395911,.311058,-.16,-.395911,.311058,.16,-.383923,.34,-.16,-.383923,.34,.16,-.364853,.364853,-.16,-.364853,.364853,-.16,-.34,.383923,.16,-.34,.383923,-.16,-.311058,.395911,.16,-.311058,.395911,.16,-.28,.4,-.16,-.28,.4];f=[0,-1,0,0,-1,0,0,-.965926,.258819,0,-.965926,.258819,0,-.866025,.5,0,-.866025,.5,0,-.707107,.707107,0,-.707107,.707107,0,-.5,
.866025,0,-.5,.866025,0,-.258819,.965926,0,-.258819,.965926,0,0,1,0,0,1];h=[0,1,2,3,2,4,3,0,2,5,4,6,5,3,4,7,5,6,8,6,9,8,7,6,10,11,12,10,9,11,10,8,9,13,10,12];k=3*Math.PI/4;l=0;break;case 15:e=[.4,-.28,-.16,.4,-.28,.16,.395824,-.311025,.16,.395911,-.311058,-.16,.383838,-.339962,.16,.383923,-.34,-.16,.364853,-.364853,.16,.364853,-.364853,-.16,.339962,-.383838,.16,.34,-.383923,-.16,.311058,-.395911,-.16,.311025,-.395824,.16,.28,-.4,.16,.28,-.4,-.16];f=[1,0,0,1,0,0,.965926,-.258819,0,.965926,-.258819,
0,.866025,-.5,0,.866025,-.5,0,.707107,-.707107,0,.707107,-.707107,0,.5,-.866025,0,.5,-.866025,0,.258819,-.965926,0,.258819,-.965926,0,0,-1,0,0,-1,0];h=[0,1,2,3,2,4,3,0,2,5,4,6,5,3,4,7,6,8,7,5,6,9,7,8,10,8,11,10,11,12,10,9,8,13,10,12];k=3*Math.PI/4;l=Math.PI/2;break;case 16:e=[.395824,-.16,.311025,.4,-.16,.28,.4,.16,.28,.395911,.16,.311058,.383923,.16,.34,.383838,-.16,.339962,.364853,-.16,.364853,.364853,.16,.364853,.34,.16,.383923,.339962,-.16,.383838,.311025,-.16,.395824,.311058,.16,.395911,.28,
-.16,.4,.28,.16,.4];f=[.965926,0,.258819,1,0,0,1,0,0,.965926,0,.258819,.866025,0,.5,.866025,0,.5,.707107,0,.707107,.707107,0,.707107,.5,0,.866025,.5,0,.866025,.258819,0,.965926,.258819,0,.965926,0,0,1,0,0,1];h=[0,1,2,0,3,4,0,2,3,5,0,4,6,4,7,6,7,8,6,5,4,9,6,8,10,8,11,10,9,8,12,11,13,12,10,11];k=Math.PI/2;l=Math.PI/4;break;case 17:e=[.16,.4,.28,-.16,.4,.28,-.16,.395911,.311058,.16,.395911,.311058,.16,.383923,.34,-.16,.383923,.34,-.16,.364853,.364853,.16,.364853,.364853,-.16,.34,.383923,.16,.34,.383923,
.16,.311058,.395911,-.16,.311058,.395911,.16,.28,.4,-.16,.28,.4];f=[0,1,0,0,1,0,0,.965926,.258819,0,.965926,.258819,0,.866025,.5,0,.866025,.5,0,.707107,.707107,0,.707107,.707107,0,.5,.866025,0,.5,.866025,0,.258819,.965926,0,.258819,.965926,0,0,1,0,0,1];h=[0,1,2,3,0,2,4,5,6,4,2,5,4,3,2,7,6,8,7,4,6,9,7,8,10,8,11,10,9,8,12,11,13,12,10,11];k=Math.PI/4;l=0;break;case 18:e=[-.4,.16,.28,-.4,-.16,.28,-.395824,-.16,.311025,-.395911,.16,.311058,-.383838,-.16,.339962,-.383923,.16,.34,-.364853,-.16,.364853,-.364853,
.16,.364853,-.339962,-.16,.383838,-.34,.16,.383923,-.311058,.16,.395911,-.311025,-.16,.395824,-.28,.16,.4,-.28,-.16,.4];f=[-1,0,0,-1,0,0,-.965926,0,.258819,-.965926,0,.258819,-.866025,0,.5,-.866025,0,.5,-.707107,0,.707107,-.707107,0,.707107,-.5,0,.866025,-.5,0,.866025,-.258819,0,.965926,-.258819,0,.965926,0,0,1,0,0,1];h=[0,1,2,3,2,4,3,0,2,5,4,6,5,3,4,7,6,8,7,5,6,9,7,8,10,8,11,10,9,8,12,11,13,12,10,11];k=Math.PI/2;l=7*Math.PI/4;break;case 19:e=[-.311058,-.395911,-.16,-.28,-.4,-.16,-.28,-.4,.16,-.311025,
-.395824,.16,-.34,-.383923,-.16,-.339962,-.383838,.16,-.364853,-.364853,-.16,-.364853,-.364853,.16,-.383838,-.339962,.16,-.383923,-.34,-.16,-.395824,-.311025,.16,-.395911,-.311058,-.16,-.4,-.28,.16,-.4,-.28,-.16];f=[-.258819,-.965926,0,0,-1,0,0,-1,0,-.258819,-.965926,0,-.5,-.866025,0,-.5,-.866025,0,-.707107,-.707107,0,-.707107,-.707107,0,-.866025,-.5,0,-.866025,-.5,0,-.965926,-.258819,0,-.965926,-.258819,0,-1,0,0,-1,0,0];h=[0,1,2,0,2,3,4,3,5,4,0,3,6,7,8,6,5,7,6,4,5,9,8,10,9,6,8,11,10,12,11,9,10,13,
11,12];k=3*Math.PI/4;l=3*Math.PI/2;break;case 20:e=[.16,-.395911,-.311058,.16,-.4,-.28,-.16,-.4,-.28,-.16,-.395911,-.311058,.16,-.383923,-.34,-.16,-.383923,-.34,.16,-.364853,-.364853,-.16,-.364853,-.364853,-.16,-.34,-.383923,.16,-.34,-.383923,-.16,-.311058,-.395911,.16,-.311058,-.395911,-.16,-.28,-.4,.16,-.28,-.4];f=[0,-.965926,-.258819,0,-1,0,0,-1,0,0,-.965926,-.258819,0,-.866025,-.5,0,-.866025,-.5,0,-.707107,-.707107,0,-.707107,-.707107,0,-.5,-.866025,0,-.5,-.866025,0,-.258819,-.965926,0,-.258819,
-.965926,0,0,-1,0,0,-1];h=[0,1,2,0,2,3,4,3,5,4,0,3,6,7,8,6,5,7,6,4,5,9,8,10,9,6,8,11,10,12,11,9,10,13,11,12];k=3*Math.PI/4;l=Math.PI;break;case 21:e=[.395911,.16,-.311058,.4,.16,-.28,.4,-.16,-.28,.395824,-.16,-.311025,.383923,.16,-.34,.383838,-.16,-.339962,.364853,-.16,-.364853,.364853,.16,-.364853,.34,.16,-.383923,.339962,-.16,-.383838,.311025,-.16,-.395824,.311058,.16,-.395911,.28,.16,-.4,.28,-.16,-.4];f=[.965926,0,-.258819,1,0,0,1,0,0,.965926,0,-.258819,.866025,0,-.5,.866025,0,-.5,.707107,0,-.707107,
.707107,0,-.707107,.5,0,-.866025,.5,0,-.866025,.258819,0,-.965926,.258819,0,-.965926,0,0,-1,0,0,-1];h=[0,1,2,0,2,3,4,3,5,4,5,6,4,0,3,7,4,6,8,6,9,8,9,10,8,7,6,11,8,10,12,10,13,12,11,10];k=Math.PI/2;l=3*Math.PI/4;break;case 22:e=[.311058,.395911,-.16,.28,.4,-.16,.28,.4,.16,.311025,.395824,.16,.34,.383923,-.16,.339962,.383838,.16,.364853,.364853,-.16,.364853,.364853,.16,.383838,.339962,.16,.383923,.34,-.16,.395824,.311025,.16,.395911,.311058,-.16,.4,.28,.16,.4,.28,-.16];f=[.258819,.965926,0,0,1,0,0,
1,0,.258819,.965926,0,.5,.866025,0,.5,.866025,0,.707107,.707107,0,.707107,.707107,0,.866025,.5,0,.866025,.5,0,.965926,.258819,0,.965926,.258819,0,1,0,0,1,0,0];h=[0,1,2,0,2,3,4,3,5,4,0,3,6,7,8,6,5,7,6,4,5,9,8,10,9,6,8,11,10,12,11,9,10,13,11,12];k=Math.PI/4;l=Math.PI/2;break;case 23:e=[-.4,.28,-.16,-.4,.28,.16,-.395824,.311025,.16,-.395911,.311058,-.16,-.383838,.339962,.16,-.383923,.34,-.16,-.364853,.364853,.16,-.364853,.364853,-.16,-.339962,.383838,.16,-.34,.383923,-.16,-.311025,.395824,.16,-.311058,
.395911,-.16,-.28,.4,-.16,-.28,.4,.16];f=[-1,0,0,-1,0,0,-.965926,.258819,0,-.965926,.258819,0,-.866025,.5,0,-.866025,.5,0,-.707107,.707107,0,-.707107,.707107,0,-.5,.866025,0,-.5,.866025,0,-.258819,.965926,0,-.258819,.965926,0,0,1,0,0,1,0];h=[0,1,2,3,2,4,3,0,2,5,4,6,5,3,4,7,6,8,7,5,6,9,8,10,9,7,8,11,9,10,12,10,13,12,11,10];k=Math.PI/4;l=3*Math.PI/2;break;case 24:e=[-.395824,-.16,-.311025,-.4,-.16,-.28,-.4,.16,-.28,-.395911,.16,-.311058,-.383838,-.16,-.339962,-.383923,.16,-.34,-.364853,.16,-.364853,
-.364853,-.16,-.364853,-.339962,-.16,-.383838,-.34,.16,-.383923,-.311058,.16,-.395911,-.311025,-.16,-.395824,-.28,-.16,-.4,-.28,.16,-.4];f=[-.965926,0,-.258819,-1,0,0,-1,0,0,-.965926,0,-.258819,-.866025,0,-.5,-.866025,0,-.5,-.707107,0,-.707107,-.707107,0,-.707107,-.5,0,-.866025,-.5,0,-.866025,-.258819,0,-.965926,-.258819,0,-.965926,0,0,-1,0,0,-1];h=[0,1,2,0,2,3,4,5,6,4,3,5,4,0,3,7,4,6,8,9,10,8,6,9,8,7,6,11,8,10,12,10,13,12,11,10];k=Math.PI/2;l=5*Math.PI/4;break;case 25:e=[-.16,.395824,-.311025,-.16,
.4,-.28,.16,.4,-.28,.16,.395824,-.311025,.16,.383838,-.339962,-.16,.383838,-.339962,-.16,.364853,-.364853,.16,.364853,-.364853,.16,.339962,-.383838,-.16,.339962,-.383838,.16,.311025,-.395824,-.16,.311025,-.395824,.16,.28,-.4,-.16,.28,-.4],f=[0,.965926,-.258819,0,1,0,0,1,0,0,.965926,-.258819,0,.866025,-.5,0,.866025,-.5,0,.707107,-.707107,0,.707107,-.707107,0,.5,-.866025,0,.5,-.866025,0,.258819,-.965926,0,.258819,-.965926,0,0,-1,0,0,-1],h=[0,1,2,0,2,3,0,3,4,5,0,4,6,7,8,6,4,7,6,5,4,9,8,10,9,6,8,11,10,
12,11,9,10,13,11,12],k=Math.PI/4,l=Math.PI}var p=new THREE.BufferGeometry;p.setIndex(new THREE.BufferAttribute(new Uint32Array(h),1));p.addAttribute("position",new THREE.BufferAttribute(new Float32Array(e),3));p.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(f),3));p.computeBoundingSphere();e=new THREE.Mesh(p,a.aa);Object.defineProperties(e,{phi:{value:k},theta:{value:l},upVector:{value:n}});a.add(e);if(m){k=new THREE.TextBufferGeometry(m,c);l=new THREE.Mesh(k,b);n=new THREE.Vector3;
k.boundingBox||(k.computeBoundingBox(),k.boundingBox.getSize(n));switch(d){case 0:l.position.set(-n.x/2,-n.y/2+.01,.401);break;case 1:l.position.set(-.401,n.x/2,-n.y/2);l.rotation.y=-Math.PI/2;l.rotation.z=-Math.PI/2;break;case 2:l.position.set(-n.x/2,-.401,-n.y/2);l.rotation.x=Math.PI/2;break;case 3:l.position.set(.401,-n.x/2,-n.y/2+.025);l.rotation.y=Math.PI/2;l.rotation.x=Math.PI/2;break;case 4:l.position.set(-n.x/2-.0175,n.y/2,-.401);l.rotation.x=Math.PI;break;case 5:l.position.set(n.x/2,.401,
-n.y/2),l.rotation.x=-Math.PI/2,l.rotation.z=Math.PI}e.add(l)}}return a}q(si,THREE.Group);
function ti(a){function b(){var e=document.createElement("div");e.style.width="150px";e.style.height="150px";return e}this.va=new Map;var c=this;this.ja=new THREE.Raycaster;this.ea=new THREE.Scene;this.aa=new Ph(2,2,45,.1,15);Sh(this.aa);this.aa.position.set(2.3,2.3,2.3);this.aa.up.set(0,0,1);this.aa.lookAt(this.ea.position);Uh(this.aa,this.ea.position);this.ea.add(this.aa);this.fa=void 0;this.ia=new THREE.AxesHelper(.9);this.ia.position.x=-.45;this.ia.position.y=-.45;this.ia.position.z=-.45;this.ea.add(this.ia);
this.ga=new si;this.ea.add(this.ga);var d=a||b();d.classList.add("cadex-viewcube");[{name:"xneg",Va:-Math.PI/8,Wa:0,Xa:0,left:"0",top:"calc(50% - .75em)",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 1024"><path fill="gray" d="M512 0L0 512l512 512z"/></svg>'},{name:"zneg",Va:0,Wa:0,Xa:-Math.PI/8,left:"10%",top:"calc(21% - .75em)",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 1024 1024"><path fill="gray" d="M0 292.571L731.428 1024 137.47 627.931 765.402 0 1024 258.597 396.068 886.528 0 292.571 731.428 1024H0z"/></svg>'},
{name:"yneg",Va:0,Wa:Math.PI/8,Xa:0,left:"calc(50% - .75em)",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 1024 1024"><path fill="gray" d="M0 768.001L511.998 256 1024 768.001z"/></svg>'},{name:"zpos",Va:0,Wa:0,Xa:Math.PI/8,right:"10%",top:"calc(21% - .75em)",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 1024 1024"><path fill="gray" d="M1024.002 292.571L292.572 1024l593.956-396.069L258.596 0 0 258.597l627.932 627.931 396.07-593.957L292.572 1024h731.43z"/></svg>'},
{name:"xpos",Va:Math.PI/8,Wa:0,Xa:0,right:"0",top:"calc(50% - .75em)",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 1024"><path fill="gray" d="M0 0l512 511.998L0 1024z"/></svg>'},{name:"ypos",Va:0,Wa:-Math.PI/8,Xa:0,bottom:"0",left:"calc(50% - .75em)",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 1024 1024"><path fill="gray" d="M0 256l511.998 512.001L1024 256z"/></svg>'}].forEach(function(e){var f=document.createElement("div");f.classList.add("cadex-viewcube-rotate-"+
e.name+"-button");f.style.width="1.5em";f.style.height="1.5em";f.style.color="grey";f.style.position="absolute";f.style.display="flex";f.style.justifyContent="center";f.style.alignItems="center";f.style.cursor="pointer";f.addEventListener("click",function(){c.dispatchEvent({type:"rotateCameraInScreen",dx:e.Va,dy:e.Wa,dz:e.Xa})});e.left&&(f.style.left=e.left);e.top&&(f.style.top=e.top);e.right&&(f.style.right=e.right);e.bottom&&(f.style.bottom=e.bottom);f.innerHTML=e.icon;d.appendChild(f)});this.da=
new THREE.WebGLRenderer({alpha:!0,antialias:!0});this.da.setClearColor(0,0);this.da.setPixelRatio(1);this.da.sortObjects=!1;this.da.domElement.classList.add("cade-viewcube-canvas");d.appendChild(this.da.domElement);this.da.domElement.addEventListener("mousemove",this.sd.bind(this),!1);this.da.domElement.addEventListener("mouseleave",this.ie.bind(this),!1);this.da.domElement.addEventListener("click",this.ge.bind(this),!1);this.domElement=d;ui(this)}q(ti,dg);g=ti.prototype;
g.sd=function(a){(a=vi(this,a))?this.fa!==a&&(a.material=this.ga.da,this.fa&&(this.fa.material=this.ga.aa),this.fa=a,ui(this)):this.fa&&(this.fa.material=this.ga.aa,this.fa=void 0,ui(this))};g.ie=function(){this.fa&&(this.fa.material=this.ga.aa,this.fa=void 0,ui(this))};g.ge=function(a){(a=vi(this,a))&&this.dispatchEvent({type:"rotateCamera",phi:a.phi,theta:a.theta,upVector:a.upVector})};
function vi(a,b){b=new THREE.Vector2(b.offsetX/a.da.domElement.clientWidth*2-1,2*-(b.offsetY/a.da.domElement.clientHeight)+1);a.ja.setFromCamera(b,a.aa);b=[];a.ja.intersectObjects(a.ga.children,!1,b);if(0<b.length)return b[0]&&b[0].object}g.cb=function(){Rh(this.aa)};g.bb=function(){Sh(this.aa)};function wi(a,b){b.getWorldDirection(a.aa.position).multiplyScalar(-1).setLength(2.2);a.aa.up.copy(b.up);a.aa.lookAt(a.ea.position)}function ui(a){a.da.render(a.ea,a.aa)}
g.resize=function(a,b){this.domElement.style.width=a+"px";this.domElement.style.height=b+"px";this.da.setSize(a,b,!1);ui(this)};function xi(){this.va=new Map;this.ma=cg.Isometric}q(xi,dg);xi.prototype.vb=function(){};xi.prototype.xb=function(){};xi.prototype.resize=function(){};xi.prototype.Ya=function(){};
y.Object.defineProperties(xi.prototype,{cameraProjectionType:{configurable:!0,enumerable:!0,get:function(){return this.ma},set:function(a){this.ma=a}},hoverEnabled:{configurable:!0,enumerable:!0,get:function(){return!1},set:function(){}}});
function yi(a,b){function c(){var f=document.createElement("div");f.style.position="relative";return f}xi.call(this);var d=this;this.aa=new Ph(100,100,45,1,1E3);Sh(this.aa);this.aa.position.x=150;this.aa.position.y=-150;this.aa.position.z=150;this.aa.fitBoxMargins.top=10;this.aa.fitBoxMargins.bottom=10;this.aa.fitBoxMargins.left=10;this.aa.fitBoxMargins.right=10;this.aa.up=new THREE.Vector3(0,0,1);Uh(this.aa,this.aa.target);this.aa.layers.enable(1);zi(this.aa);this.ja=this.ga=void 0;this.qa=new qi;
this.Ca=new THREE.MeshPhongMaterial({color:13487565});this.Ba=new ni;this.da=new THREE.WebGLRenderer({alpha:!0,antialias:!0,preserveDrawingBuffer:!0});this.da.setClearColor(0,0);this.da.setPixelRatio(1);this.da.sortObjects=!0;this.da.autoClear=!1;this.wa=!1===a.autoZFitAll?!1:!0;this.sa=void 0;this.ua=!1;var e=b||c();e.classList.add("cadex-viewport");e.style.position="relative";!0===a.autoResize&&window&&window.addEventListener("resize",function(){d.resize(e.offsetWidth,e.offsetHeight)},!1);e.appendChild(this.da.domElement);
this.da.domElement.style.width="100% !important";this.da.domElement.style.height="100% !important";this.da.domElement.style.display="block";!1!==a.showViewCube&&(this.ea=new ti,b=this.ea.domElement,b.style.position="absolute",b.style.top="1rem",b.style.right="1rem",e.appendChild(b),zi(this.ea.aa),this.ea.addEventListener("rotateCamera",function(f){var h=f.phi,k=f.theta;f=f.upVector;var l=!0,n=!0;l=void 0===l?!0:l;n=void 0===n?!0:n;if(d.fa){var m=d.aa.far,p=d.aa.near,r=d.aa.zoom,t=d.fa.target.clone(),
v=d.aa.position.clone(),C=d.aa.up.clone(),z=d.fa,w=!1;w=void 0===w?!0:w;z.ja.copy(z.fa);z.wa.copy(z.object.up);z.na.copy(z.target);Zh.subVectors(z.target,z.ma);di.copy(z.fa).normalize();fi.phi=h;fi.theta=k;fi.makeSafe();ei.setFromSpherical(fi);gi.setFromUnitVectors(di,ei);Yh.applyQuaternion(gi);Zh.applyQuaternion(gi);z.target.addVectors(z.ma,Zh);z.object.position.addVectors(z.target,ei.setLength(z.fa.length()));z.fa.subVectors(z.object.position,z.target);ei.multiplyScalar(-1);di.crossVectors(ei,f);
z.object.up.crossVectors(di,ei).normalize();z.object.lookAt(z.target);w&&(z.pb.zFitAllNeeded=!0,z.dispatchEvent(z.pb));l&&d.Ya(!1);n?Ai(d,{far:m,near:p,zoom:r,target:t,position:v,up:C},{far:d.aa.far,near:d.aa.near,zoom:d.aa.zoom,target:d.aa.target.clone(),position:d.aa.position.clone(),up:d.aa.up.clone()}):Bi(d)}}),this.ea.addEventListener("rotateCameraInScreen",function(f){Ci(d,f.dx,f.dy,f.dz)}));!0===a.showStats&&(this.ia=new Stats,this.ia.domElement.style.position="absolute",this.ia.domElement.style.bottom=
"0",this.ia.domElement.style.right="0",this.ia.domElement.style.top="",this.ia.domElement.style.left="",e.appendChild(this.ia.domElement));Number.isFinite(a.cameraType)&&(this.cameraProjectionType=a.cameraType);b=new hi(this.aa,this.da.domElement);b.rb=.5;b.Qb=1;b.Rb=1.5;b.addEventListener("tap",function(f){f.type="selected";f.camera=d.aa;d.dispatchEvent(f)});b.addEventListener("contextMenu",function(f){f.type="contextMenu";f.camera=d.aa;d.dispatchEvent(f)});b.addEventListener("keyDown",this.td.bind(this));
b.addEventListener("hoverChanged",function(f){f.camera=d.aa;d.dispatchEvent(f)});b.addEventListener("change",function(f){d.wa&&f.zFitAllNeeded&&d.Da();Bi(d);d.dispatchEvent({type:"cameraChanged"})});this.fa=b;this.na=void 0;this.pa=new Nh(this.da.domElement,a.tabIndex);this.domElement=e;this.resize(e.clientWidth,e.clientHeight)}q(yi,xi);
function zi(a){var b=new THREE.AmbientLight(2236962);a.add(b);b=new THREE.DirectionalLight(8158332);b.position.set(-1E6,1E6,1E6);a.add(b);b=new THREE.DirectionalLight(8158332);b.position.set(1E6,1E6,1E6);a.add(b);b=new THREE.DirectionalLight(7171437);b.position.set(0,-1E6,1E6);a.add(b)}g=yi.prototype;
g.vb=function(a){var b=this;if(a instanceof yh){this.ga=a;Ah(this.ga,this);Oh(this.pa,this.fa);this.na=new oi(this.aa,this.ga,this.domElement);Oh(this.pa,this.na);var c=this.ae.bind(this),d=this.Db.bind(this),e=this.be.bind(this),f=this.le.bind(this),h=this.Yd.bind(this),k=this.$d.bind(this),l=this.me.bind(this),n=this.Zd.bind(this),m=function(){Bi(b)};a.addEventListener("displayed",c);a.addEventListener("sceneBBoxChanged",n);a.addEventListener("erased",e);a.addEventListener("removed",f);a.addEventListener("addedGlobalClippingPlane",
h);a.addEventListener("changedGlobalClippingPlane",k);a.addEventListener("removedGlobalClippingPlane",l);a.addEventListener("redraw",m);this.ja=function(){a.removeEventListener("displayed",c);a.removeEventListener("sceneBBoxChanged",d);a.removeEventListener("erased",e);a.removeEventListener("removed",f);a.removeEventListener("addedGlobalClippingPlane",h);a.removeEventListener("changedGlobalClippingPlane",k);a.removeEventListener("removedGlobalClippingPlane",l);a.removeEventListener("redraw",m)}}else console.error("cadex.internal.threejs.ModelPrs_ThreejsViewPortImpl.attachToScene() unable to attach unknown type ["+
typeof a+"] of scene.")};g.xb=function(a){a instanceof yh?(Eh(this.ga,this),this.ga=void 0,this.ja&&(this.ja(),this.ja=void 0)):console.error("cadex.internal.threejs.ModelPrs_ThreejsViewPortImpl.detachFromScene() unable to detach unknown type ["+typeof a+"] of scene.")};function Di(a){a.layers.set(1);a instanceof U&&a.closed&&a.layers.enable(2);a.children.forEach(Di)}g.Db=function(){this.fa&&this.ga.da.getCenter(this.fa.ma)};
g.ae=function(a){this.Db();a.objects.forEach(function(b){Di(b.aa)});this.Da();!0===a.redraw&&Bi(this)};g.Zd=function(){this.fa&&this.ga.da.getCenter(this.fa.ma)};g.be=function(a){this.Db();this.Da();!0===a.redraw&&Bi(this)};g.le=function(a){this.Db();this.Da();!0===a.redraw&&Bi(this)};g.Yd=function(a){var b=a.plane;this.na.ea.push(b);this.da.clippingPlanes.push(b);!0===a.redraw&&Bi(this)};g.$d=function(a){!0===a.redraw&&Bi(this)};
g.me=function(a){for(var b=a.plane,c=0;c<this.da.clippingPlanes.length;++c)if(this.da.clippingPlanes[c].planeId===b.planeId){this.da.clippingPlanes.splice(c,1);break}pi(this.na,a.plane);!0===a.redraw&&Bi(this)};
g.resize=function(a,b){this.da.setSize(a,b,!1);this.aa instanceof Ph?Qh(this.aa,a,b):(this.aa.left=a/-2,this.aa.right=a/2,this.aa.top=b/2,this.aa.bottom=b/-2);var c=this.aa;c.isPerspectiveCamera?Rh(c):Sh(c);this.fa&&ii(this.fa);this.ea&&(c=Math.min(a,b),a=Math.max(Math.min(a,b)/5,667>c?100:1E3>c?150:200),this.ea.resize(a,a));Bi(this)};
g.yb=function(a){a=new THREE.Vector3(a.x,a.y,a.z);var b=new THREE.Matrix4;b.multiplyMatrices(this.aa.projectionMatrix,this.aa.matrixWorldInverse);a.applyMatrix4(b);b=this.da.domElement;return{x:(a.x+1)*b.clientWidth/2,y:(-a.y+1)*b.clientHeight/2}};function Bi(a){void 0===a.sa&&a.ga&&(a.sa=requestAnimationFrame(a.Ad.bind(a)))}
g.Ad=function(){var a=this;this.sa=void 0;this.ea&&(wi(this.ea,this.aa),ui(this.ea));this.da.clear();var b=this.ga.ja;if(0<this.da.clippingPlanes.length){this.aa.layers.disable(1);var c=this.da.context,d=this.da.clippingPlanes;d.forEach(function(e){a.da.clippingPlanes=[e];a.da.state.buffers.stencil.setTest(!0);a.da.clear(!1,!1,!0);b.overrideMaterial=a.qa;a.aa.layers.enable(2);a.qa.side=THREE.BackSide;a.da.state.buffers.stencil.setFunc(c.ALWAYS,1,255);a.da.state.buffers.stencil.setOp(c.KEEP,c.KEEP,
c.INCR);a.da.render(b,a.aa);a.qa.side=THREE.FrontSide;a.da.state.buffers.stencil.setFunc(c.ALWAYS,1,255);a.da.state.buffers.stencil.setOp(c.KEEP,c.KEEP,c.DECR);a.da.render(b,a.aa);b.overrideMaterial=void 0;a.aa.layers.disable(2);a.da.clippingPlanes=d.filter(function(f){return f.planeId!==e.planeId});e.aa.visible=!0;a.aa.layers.enable(3);a.da.state.buffers.stencil.setFunc(c.EQUAL,1,255);a.da.state.buffers.stencil.setOp(c.KEEP,c.KEEP,c.KEEP);e.aa.material=a.Ca;a.da.render(b,a.aa);e.aa.material=a.Ba;
a.da.render(b,a.aa);e.aa.visible=!1;a.aa.layers.disable(3);a.da.state.buffers.stencil.setTest(!1)});this.da.clippingPlanes=d;this.aa.layers.enable(1);this.da.render(b,this.aa);this.aa.layers.disable(1);this.da.clippingPlanes=[];this.aa.layers.enable(5);this.da.render(b,this.aa);this.aa.layers.disable(5);this.da.clippingPlanes=d}else this.aa.layers.enable(1),this.da.render(b,this.aa),this.aa.layers.disable(1);this.dispatchEvent({type:"frameRenderer"});this.ia&&this.ia.update()};
g.Ya=function(a){a=void 0===a?!0:a;var b=this.ga.da,c=b.isEmpty();c&&b.setFromArray([-100,-100,-100,100,100,100]);var d=this.aa;if(!b.isEmpty()){var e=new THREE.Matrix4,f=new THREE.Frustum,h=new THREE.Vector3,k=new THREE.Vector3,l=new THREE.Vector3,n=new THREE.Vector3,m=new THREE.Vector3,p=new THREE.Vector3;d.updateMatrixWorld(!1);e.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse);f.setFromMatrix(e);d.matrixWorld.extractBasis(l,h,k);b.getCenter(n);b.getSize(m);e=[0,0,0,0,0,0];m=[l,l,h,h,
k,k];for(var r=0;6>r;r++){var t=f.planes[r].normal,v=Math.max(p.set(b.min.x,b.min.y,b.min.z).sub(n).dot(t),p.set(b.min.x,b.min.y,b.max.z).sub(n).dot(t),p.set(b.min.x,b.max.y,b.min.z).sub(n).dot(t),p.set(b.min.x,b.max.y,b.max.z).sub(n).dot(t),p.set(b.max.x,b.min.y,b.min.z).sub(n).dot(t),p.set(b.max.x,b.min.y,b.max.z).sub(n).dot(t),p.set(b.max.x,b.max.y,b.min.z).sub(n).dot(t),p.set(b.max.x,b.max.y,b.max.z).sub(n).dot(t));e[r]=v/t.dot(m[r]);0>e[r]&&(e[r]*=-1)}f=e[0]+e[1];m=e[2]+e[3];r=f*d.fitBoxMargins.left/
(d.right-d.left-d.fitBoxMargins.left-d.fitBoxMargins.right);t=f*d.fitBoxMargins.right/(d.right-d.left-d.fitBoxMargins.left-d.fitBoxMargins.right);v=m*d.fitBoxMargins.top/(d.top-d.bottom-d.fitBoxMargins.top-d.fitBoxMargins.bottom);var C=m*d.fitBoxMargins.bottom/(d.top-d.bottom-d.fitBoxMargins.top-d.fitBoxMargins.bottom);f+=r+t;m+=v+C;v=.5*(e[3]+v-(e[2]+C));l.multiplyScalar(.5*(e[0]+t-(e[1]+r)));h.multiplyScalar(v);d.target.copy(n).add(l).add(h);k.multiplyScalar(.5*(1<d.da?Math.max(f/d.da,m):Math.max(f,
m*d.da))/d.ea);p.addVectors(d.target,k);d.position.set(p.x,p.y,p.z);d.lookAt(d.target);Th(d,Math.min((d.right-d.left)/f,(d.top-d.bottom)/m))}c&&b.makeEmpty();this.Da();this.fa&&(b=this.fa,b.Pb.subVectors(this.aa.target,b.target),this.fa.update());a&&Bi(this)};g.Da=function(){var a=new THREE.Box3;a.min.set(-200,-200,-200);a.max.set(200,200,200);a.union(this.ga.da);var b=new THREE.Sphere;a.getBoundingSphere(b);this.aa.Da(b)};g.bb=function(){Sh(this.aa);this.ea&&(this.ea.bb(),ui(this.ea));Bi(this)};
g.cb=function(){Rh(this.aa);this.ea&&(this.ea.cb(),ui(this.ea));Bi(this)};function Ci(a,b,c,d){var e=!1;e=void 0===e?!0:e;var f=void 0===f?!0:f;a.fa&&ki(a.fa,void 0===b?0:b,void 0===c?0:c,void 0===d?0:d);e&&a.Ya(!1);f&&!a.ua?console.log("Animation is unsupported yet."):Bi(a)}g.td=function(a){switch(a.keyCode){case 38:Ci(this,0,Math.PI/8,0);break;case 40:Ci(this,0,-Math.PI/8,0);break;case 37:Ci(this,-Math.PI/8,0,0);break;case 39:Ci(this,Math.PI/8,0,0)}};
g.Yb=function(){var a=this.aa;return{position:new H(a.position.x,a.position.y,a.position.z),target:new H(a.target.x,a.target.y,a.target.z),up:new H(a.up.x,a.up.y,a.up.z)}};
g.Wb=function(a){var b=this.aa,c={far:b.far,near:b.near,zoom:b.zoom,target:b.target.clone(),position:b.position.clone(),up:b.up.clone()};a={far:c.far,near:c.near,zoom:a.zoom,target:a.target instanceof THREE.Vector3?a.target:new THREE.Vector3(a.target.x,a.target.y,a.target.z),position:a.position instanceof THREE.Vector3?a.position:new THREE.Vector3(a.position.x,a.position.y,a.position.z),up:a.up instanceof THREE.Vector3?a.up:new THREE.Vector3(a.up.x,a.up.y,a.up.z),phi:a.phi,theta:a.theta};if(void 0===
a.position&&void 0===a.zoom)return Promise.reject(Error("Invalid arguments. Animation required position or zoom of the camera."));if(void 0===a.position){if(void 0===a.phi&&void 0===a.theta)return Promise.reject(Error("Invalid arguments. Animation required phi and theta angles of the camera."));var d=(new THREE.Quaternion).setFromUnitVectors(new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1)),e=new THREE.Spherical;e.phi=a.phi;e.theta=a.theta;e.radius=2*this.aa.top/(a.zoom*this.aa.ea);e.makeSafe();
a.position=(new THREE.Vector3).setFromSpherical(e);a.position.applyQuaternion(d);a.position.add(a.target)}void 0===a.zoom&&(a.position.set(a.position.x,a.position.y,a.position.z),d=a.position.distanceTo(a.target),d*=b.ea,a.zoom=Math.max(b.right/(d*b.da),b.top/d));return Ai(this,c,a)};
function Ai(a,b,c){b.target=new THREE.Vector3(b.target.x,b.target.y,b.target.z);b.position=new THREE.Vector3(b.position.x,b.position.y,b.position.z);b.up=new THREE.Vector3(b.up.x,b.up.y,b.up.z);var d=(new THREE.Vector3).subVectors(b.target,b.position),e=(new THREE.Vector3).crossVectors(d,b.up);b.up.crossVectors(e,d).normalize();c.target=new THREE.Vector3(c.target.x,c.target.y,c.target.z);c.up=new THREE.Vector3(c.up.x,c.up.y,c.up.z);d.subVectors(c.target,c.position);e.crossVectors(d,c.up);c.up.crossVectors(e,
d).normalize();d=Math.max(50*Math.abs(c.zoom-b.zoom),Math.abs(200*b.position.angleTo(c.position)),Math.abs(200*b.target.angleTo(c.target)),Math.abs(200*b.up.angleTo(c.up)));isNaN(d)||150<d?d=150:1>d&&(d=1);var f=2.2*d;a.ua=!0;var h=performance.now(),k=new THREE.Quaternion,l=new THREE.Quaternion,n=b.position.clone().sub(b.target),m=n.length();d=c.position.clone().sub(c.target);var p=d.length();e=(new THREE.Quaternion).setFromUnitVectors(n.normalize(),d.normalize());var r=(new THREE.Vector3).copy(b.up).normalize().applyQuaternion(e),
t=r.angleTo(c.up),v=(.001>Math.abs(t-Math.PI)?(new THREE.Quaternion).setFromAxisAngle(d,t):(new THREE.Quaternion).setFromUnitVectors(r,c.up)).clone().multiply(e);return new Promise(function(C){function z(w){w=Math.max(0,Math.min((w-h)/f,1));w=.5>w?4*w*w*w:(w-1)*(2*w-2)*(2*w-2)+1;1>w?requestAnimationFrame(z):w=1;a.aa.target.lerpVectors(b.target,c.target,w);var x=a.fa,A=b.zoom+(c.zoom-b.zoom)*w,u=x.object;x.scale=u.zoom/A;Th(u,A);a.aa.far=b.far+(c.far-b.far)*w;a.aa.near=b.near+(c.near-b.near)*w;THREE.Quaternion.slerp(l,
v,k,w);a.aa.position.copy(n).applyQuaternion(k).setLength(m+(p-m)*w).add(a.fa.target);a.aa.up.copy(b.up).applyQuaternion(k);a.fa.update();Bi(a);1<=w&&(a.wa&&a.Da(),C())}z(h)})}
y.Object.defineProperties(yi.prototype,{camera:{configurable:!0,enumerable:!0,get:function(){return this.aa}},hoverEnabled:{configurable:!0,enumerable:!0,get:function(){return this.pa.hoverEnabled},set:function(a){this.pa.hoverEnabled=a}},cameraProjectionType:{configurable:!0,enumerable:!0,set:function(a){if(this.ma!==a)switch(this.ma=a,a){case cg.Isometric:this.bb();break;case cg.Perspective:this.cb()}}}});yi.prototype.globalCoordsToScreen=yi.prototype.yb;
function Z(a,b){a=Object.assign({showStats:!1,autoZFitAll:!0,showViewCube:!0,cameraType:cg.Isometric,theTabIndex:0,autoResize:!0},a||{});this.aa=new yi(a,b)}g=Z.prototype;g.Yb=function(){return this.aa.Yb()};g.Wb=function(a){return this.aa.Wb(a)};g.vb=function(a){this.aa.vb(a.aa)};g.xb=function(a){this.aa.xb(a.aa)};g.resize=function(a,b){this.aa.resize(a,b)};g.bb=function(){this.aa.bb()};g.cb=function(){this.aa.cb()};g.update=function(){Bi(this.aa)};g.Ya=function(a){this.aa.Ya(void 0===a?!0:a)};
g.Da=function(){this.aa.Da()};g.addEventListener=function(a,b){this.aa.addEventListener(a,b)};g.removeEventListener=function(a,b){this.aa.removeEventListener(a,b)};g.yb=function(a){return this.aa.yb(a)};
y.Object.defineProperties(Z.prototype,{domElement:{configurable:!0,enumerable:!0,get:function(){return this.aa.domElement}},impl:{configurable:!0,enumerable:!0,get:function(){return this.aa}},cameraProjectionType:{configurable:!0,enumerable:!0,get:function(){return this.aa.cameraProjectionType},set:function(a){this.aa.cameraProjectionType=a}},hoverEnabled:{configurable:!0,enumerable:!0,get:function(){return this.aa.hoverEnabled},set:function(a){this.aa.hoverEnabled=a}}});
Z.prototype.globalCoordsToScreen=Z.prototype.yb;Z.prototype.removeEventListener=Z.prototype.removeEventListener;Z.prototype.addEventListener=Z.prototype.addEventListener;Z.prototype.zFitAll=Z.prototype.Da;Z.prototype.fitAll=Z.prototype.Ya;Z.prototype.update=Z.prototype.update;Z.prototype.toPerspectiveCamera=Z.prototype.cb;Z.prototype.toOrthographicCamera=Z.prototype.bb;Z.prototype.resize=Z.prototype.resize;Z.prototype.detachFromScene=Z.prototype.xb;Z.prototype.attachToScene=Z.prototype.vb;
Z.prototype.changeCamera=Z.prototype.Wb;Z.prototype.getCameraProperties=Z.prototype.Yb;
var Ei={ModelPrs_DisplayParams:Zf,ModelPrs_DisplayerApplier:$f,ModelAlgo_ValidationProperty:bg,ModelPrs_CameraProjectionType:cg,ModelPrs_DisplayMode:Kf,ModelPrs_Displayer:af,ModelPrs_EventDispatcher:dg,ModelPrs_MeasurementFactory:vg,ModelPrs_PMIFactory:Hg,ModelPrs_RepresentationCache:bf,ModelPrs_Scene:Y,ModelPrs_SceneDisplayer:Jh,ModelPrs_SelectionMode:Lf,ModelPrs_View3dBoxObject:Lh,ModelPrs_View3dDimensionObject:sg,ModelPrs_View3dObject:Uf,ModelPrs_ViewPort:Z};Object.assign(cadex,$e);
Object.assign(cadex,Ei);
}));
